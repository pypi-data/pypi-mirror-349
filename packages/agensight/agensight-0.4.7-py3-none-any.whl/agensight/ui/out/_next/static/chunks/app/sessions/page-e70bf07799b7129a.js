(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[898],{4316:(t,e,r)=>{Promise.resolve().then(r.bind(r,7736))},7652:(t,e,r)=>{"use strict";r.d(e,{Dq:()=>n,Np:()=>l,_K:()=>c,_k:()=>i,um:()=>s,zi:()=>o});let a="http://0.0.0.0:5001/api";async function s(t){for(let e=1;e<=3;e++)try{let e=await fetch("".concat(a,"/traces/").concat(t,"/spans"));if(!e.ok){let t=await e.text();throw console.error("Error fetching trace: ".concat(e.status," ").concat(e.statusText),t),Error("Error fetching trace: ".concat(e.statusText))}return await e.json()}catch(r){if(console.error("Failed to fetch trace with ID ".concat(t," (attempt ").concat(e,"/").concat(3,"):"),r),3===e)throw r;await new Promise(t=>setTimeout(t,500*Math.pow(2,e-1)))}}async function o(t){for(let e=1;e<=3;e++)try{let e=await fetch("".concat(a,"/span/").concat(t,"/details"));if(!e.ok){let t=await e.text();throw console.error("Error fetching span details: ".concat(e.status," ").concat(e.statusText),t),Error("Error fetching span details: ".concat(e.statusText))}return await e.json()}catch(r){if(console.error("Failed to fetch span details with ID ".concat(t," (attempt ").concat(e,"/").concat(3,"):"),r),3===e)throw r;await new Promise(t=>setTimeout(t,500*Math.pow(2,e-1)))}throw Error("Failed to fetch span details")}async function c(){try{let t=await fetch("".concat(a,"/traces"));if(!t.ok)throw Error("Error fetching traces");return await t.json()}catch(t){throw console.log("Failed to fetch all traces:",t),t}}async function n(){try{let t=await fetch("".concat(a,"/sessions"));if(!t.ok)throw Error("Error fetching sessions: ".concat(t.statusText));return await t.json()}catch(t){throw console.error("Failed to fetch sessions:",t),t}}async function l(t){try{let e=await fetch("".concat(a,"/sessions/").concat(t,"/traces"));if(!e.ok)throw Error("Error fetching traces: ".concat(e.statusText));return await e.json()}catch(t){throw console.error("Failed to fetch traces:",t),t}}async function i(t){try{let e=await fetch("".concat(a,"/traces/").concat(t,"/spans"));if(!e.ok)throw Error("Error fetching spans: ".concat(e.statusText));return await e.json()}catch(t){throw console.error("Failed to fetch spans:",t),t}}},7736:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>h});var a=r(5155),s=r(7652),o=r(2960),c=r(2115),n=r(6268),l=r(1032);function i(t){let{columns:e,data:r,onRowClick:s,className:o="",page:c,pageSize:i,onPaginationChange:d}=t,h="number"==typeof c&&"number"==typeof i?r.slice(c*i,(c+1)*i):r,u=(0,n.N4)({data:h,columns:e,getCoreRowModel:(0,l.HT)()});return(0,a.jsx)("div",{className:"overflow-x-auto ".concat(o),children:(0,a.jsxs)("table",{className:"min-w-full bg-background border border-muted dark:border-gray-700 rounded-lg",children:[(0,a.jsx)("thead",{children:u.getHeaderGroups().map(t=>(0,a.jsx)("tr",{className:"bg-muted dark:bg-muted/60",children:t.headers.map(t=>(0,a.jsx)("th",{className:"px-4 py-2 text-left text-gray-700 dark:text-gray-200",children:t.isPlaceholder?null:(0,n.Kv)(t.column.columnDef.header,t.getContext())},t.id))},t.id))}),(0,a.jsx)("tbody",{children:u.getRowModel().rows.length?u.getRowModel().rows.map(t=>(0,a.jsx)("tr",{className:"border-t border-muted dark:border-gray-700 hover:bg-primary/5 even:bg-muted/30 cursor-pointer",onClick:s?()=>s(t):void 0,children:t.getVisibleCells().map(t=>(0,a.jsx)("td",{className:"px-4 py-2 text-gray-900 dark:text-gray-100",children:(0,n.Kv)(t.column.columnDef.cell,t.getContext())},t.id))},t.id)):(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:u.getAllLeafColumns().length,className:"px-4 py-6 text-center text-gray-400 dark:text-gray-500",children:"No data found."})})})]})})}var d=r(5695);function h(){let{data:t,isLoading:e,error:r,refetch:n}=(0,o.I)({queryKey:["config-sessions"],queryFn:s.Dq}),l=(0,d.useRouter)(),[h,u]=c.useState(0);null==t||t.length,console.log({sessionsData:t});let f=[{accessorKey:"session_name",header:"Session Name",cell:t=>{let{getValue:e}=t;return e()||(0,a.jsx)("span",{className:"italic text-gray-400",children:"-"})}},{accessorKey:"id",header:"Session ID",cell:t=>{let{getValue:e}=t;return(0,a.jsx)("span",{className:"font-mono text-xs",children:e()})}},{accessorKey:"started_at",header:"Started At",cell:t=>{let{getValue:e}=t,r=e();return r?new Date(1e3*Number(r)).toLocaleString():"-"}},{accessorKey:"user_id",header:"User ID",cell:t=>{let{getValue:e}=t;return e()||(0,a.jsx)("span",{className:"italic text-gray-400",children:"-"})}}];return e?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("span",{className:"text-lg text-muted-foreground",children:"Loading sessions..."})}):(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Sessions"}),(0,a.jsx)(i,{columns:f,data:t||[],onRowClick:t=>{let{id:e,session_name:r,user_id:a}=t.original,s=new URLSearchParams({sessionId:e,session_name:r||"",user_id:a||""});l.push("/session?".concat(s.toString()))},page:h,pageSize:10})]})}}},t=>{var e=e=>t(t.s=e);t.O(0,[525,960,268,441,684,358],()=>e(4316)),_N_E=t.O()}]);