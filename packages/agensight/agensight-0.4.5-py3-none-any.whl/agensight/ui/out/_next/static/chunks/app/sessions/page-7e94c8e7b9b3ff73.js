(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[898],{4316:(e,t,r)=>{Promise.resolve().then(r.bind(r,7736))},7652:(e,t,r)=>{"use strict";r.d(t,{Dq:()=>n,Np:()=>l,_K:()=>c,_k:()=>i,um:()=>s,zi:()=>o});let a="http://0.0.0.0:5001/api";async function s(e){for(let t=1;t<=3;t++)try{let t=await fetch("".concat(a,"/traces/").concat(e,"/spans"));if(!t.ok){let e=await t.text();throw console.error("Error fetching trace: ".concat(t.status," ").concat(t.statusText),e),Error("Error fetching trace: ".concat(t.statusText))}return await t.json()}catch(r){if(console.error("Failed to fetch trace with ID ".concat(e," (attempt ").concat(t,"/").concat(3,"):"),r),3===t)throw r;await new Promise(e=>setTimeout(e,500*Math.pow(2,t-1)))}}async function o(e){for(let t=1;t<=3;t++)try{let t=await fetch("".concat(a,"/span/").concat(e,"/details"));if(!t.ok){let e=await t.text();throw console.error("Error fetching span details: ".concat(t.status," ").concat(t.statusText),e),Error("Error fetching span details: ".concat(t.statusText))}return await t.json()}catch(r){if(console.error("Failed to fetch span details with ID ".concat(e," (attempt ").concat(t,"/").concat(3,"):"),r),3===t)throw r;await new Promise(e=>setTimeout(e,500*Math.pow(2,t-1)))}throw Error("Failed to fetch span details")}async function c(){try{let e=await fetch("".concat(a,"/traces"));if(!e.ok)throw Error("Error fetching traces");return await e.json()}catch(e){throw console.log("Failed to fetch all traces:",e),e}}async function n(){try{let e=await fetch("".concat(a,"/sessions"));if(!e.ok)throw Error("Error fetching sessions: ".concat(e.statusText));return await e.json()}catch(e){throw console.error("Failed to fetch sessions:",e),e}}async function l(e){try{let t=await fetch("".concat(a,"/sessions/").concat(e,"/traces"));if(!t.ok)throw Error("Error fetching traces: ".concat(t.statusText));return await t.json()}catch(e){throw console.error("Failed to fetch traces:",e),e}}async function i(e){try{let t=await fetch("".concat(a,"/traces/").concat(e,"/spans"));if(!t.ok)throw Error("Error fetching spans: ".concat(t.statusText));return await t.json()}catch(e){throw console.error("Failed to fetch spans:",e),e}}},7736:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var a=r(5155),s=r(7652),o=r(2960),c=r(2115),n=r(6268),l=r(1032);function i(e){let{columns:t,data:r,onRowClick:s,className:o="",page:c,pageSize:i,onPaginationChange:d}=e,h="number"==typeof c&&"number"==typeof i?r.slice(c*i,(c+1)*i):r,u=(0,n.N4)({data:h,columns:t,getCoreRowModel:(0,l.HT)()});return(0,a.jsx)("div",{className:"overflow-x-auto ".concat(o),children:(0,a.jsxs)("table",{className:"min-w-full bg-background border border-muted dark:border-gray-700 rounded-lg",children:[(0,a.jsx)("thead",{children:u.getHeaderGroups().map(e=>(0,a.jsx)("tr",{className:"bg-muted dark:bg-muted/60",children:e.headers.map(e=>(0,a.jsx)("th",{className:"px-4 py-2 text-left text-gray-700 dark:text-gray-200",children:e.isPlaceholder?null:(0,n.Kv)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,a.jsx)("tbody",{children:u.getRowModel().rows.length?u.getRowModel().rows.map(e=>(0,a.jsx)("tr",{className:"border-t border-muted dark:border-gray-700 hover:bg-primary/5 even:bg-muted/30 cursor-pointer",onClick:s?()=>s(e):void 0,children:e.getVisibleCells().map(e=>(0,a.jsx)("td",{className:"px-4 py-2 text-gray-900 dark:text-gray-100",children:(0,n.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:u.getAllLeafColumns().length,className:"px-4 py-6 text-center text-gray-400 dark:text-gray-500",children:"No data found."})})})]})})}var d=r(5695);let h=function(){let{data:e,isLoading:t,error:r,refetch:n}=(0,o.I)({queryKey:["config-sessions"],queryFn:s.Dq}),l=(0,d.useRouter)(),[h,u]=c.useState(0);null==e||e.length,console.log({sessionsData:e});let f=[{accessorKey:"session_name",header:"Session Name",cell:e=>{let{getValue:t}=e;return t()||(0,a.jsx)("span",{className:"italic text-gray-400",children:"-"})}},{accessorKey:"id",header:"Session ID",cell:e=>{let{getValue:t}=e;return(0,a.jsx)("span",{className:"font-mono text-xs",children:t()})}},{accessorKey:"started_at",header:"Started At",cell:e=>{let{getValue:t}=e,r=t();return r?new Date(1e3*Number(r)).toLocaleString():"-"}},{accessorKey:"user_id",header:"User ID",cell:e=>{let{getValue:t}=e;return t()||(0,a.jsx)("span",{className:"italic text-gray-400",children:"-"})}}];return t?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("span",{className:"text-lg text-muted-foreground",children:"Loading sessions..."})}):(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Sessions"}),(0,a.jsx)(i,{columns:f,data:e||[],onRowClick:e=>{let{id:t,session_name:r,user_id:a}=e.original,s=new URLSearchParams({sessionId:t,session_name:r||"",user_id:a||""});l.push("/sessions/session?".concat(s.toString()))},page:h,pageSize:10})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[967,406,268,441,684,358],()=>t(4316)),_N_E=e.O()}]);