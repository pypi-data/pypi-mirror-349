import{e as h}from"../chunks/DNSHY1Ls.js";import{t as w,h as y,a as T,s as f}from"../chunks/DBUGrSfB.js";import{p as S,g as j,s as u,t as O,a as P,b as q,c as r,r as s,d as A}from"../chunks/CXEj4s7p.js";import{s as k}from"../chunks/NnhQt4_t.js";import{T as C}from"../chunks/B9SBF9rO.js";import{S as I}from"../chunks/CxtWjmlo.js";const R=async({params:i,parent:a})=>{var l,e,d;const{mopidy:o}=await a(),n=(e=await((l=o.base.library)==null?void 0:l.lookup({uris:[i.track]})))==null?void 0:e[i.track].at(0);n||(console.error("Track not found",i.track),h(404,"Track not found"));const t=(d=await o.requestImages([n.uri]))==null?void 0:d.at(0),c=t?await o.requestPalette(t):void 0;return{track:n,palette:c}},H=Object.freeze(Object.defineProperty({__proto__:null,load:R},Symbol.toStringTag,{value:"Module"}));var z=w('<div class="mx-auto flex h-full max-w-(--breakpoint-large) flex-col items-center gap-8 p-8 medium:flex-row"><img class="h-auto w-full max-w-100"> <div><h1 class="text-display-l"> </h1> <div class="flex flex-row gap-4 text-display-s text-on-surface-variant"><span> </span> <span></span> <a class="hover:underline"> </a></div></div></div>');function J(i,a){S(a,!0);let o=j("mopidy"),n=A(()=>o.getImage(a.data.track.uri));var t=z();y(m=>{C(m,{get text(){return a.data.track.name}})});var c=r(t),l=u(c,2),e=r(l),d=r(e,!0);s(e);var g=u(e,2),v=r(g),_=r(v,!0);s(v);var x=u(v,2);x.textContent=I;var p=u(x,2),b=r(p,!0);s(p),s(g),s(l),s(t),O(m=>{k(c,"src",q(n)),f(d,a.data.track.name),f(_,m),k(p,"href",`/album/${a.data.track.album.uri??""}`),f(b,a.data.track.album.name)},[()=>a.data.track.artists.map(m=>m.name).join(", ")]),T(i,t),P()}export{J as component,H as universal};
