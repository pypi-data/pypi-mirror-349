import{e as T}from"../chunks/DNSHY1Ls.js";import{t as x,h as j,a as b,s as g}from"../chunks/DBUGrSfB.js";import{p as A,g as q,t as I,a as L,b as O,c,s as f,r as u,d as P}from"../chunks/CXEj4s7p.js";import{i as S}from"../chunks/B5Bw6oSj.js";import{s as z}from"../chunks/NnhQt4_t.js";import{T as C}from"../chunks/B9SBF9rO.js";import{T as M}from"../chunks/Dvf3zm_W.js";import{T as N}from"../chunks/P1DpK45h.js";const B=async({params:p,parent:t})=>{var d,i,v;const{mopidy:o}=await t(),l=p.album,r=await((d=o.base.library)==null?void 0:d.lookup({uris:[l]})),e=r==null?void 0:r[l],s=(i=e==null?void 0:e.at(0))==null?void 0:i.album;(!s||!e)&&(console.error("Album not found",l),T(404,"Album not found"));const m=(v=await o.requestImages([s.uri]))==null?void 0:v.at(0),n=m?await o.requestPalette(m):void 0;return{album:s,tracks:e,palette:n}},V=Object.freeze(Object.defineProperty({__proto__:null,load:B},Symbol.toStringTag,{value:"Module"}));var D=x('<p class="text-title-m text-on-surface-variant">No tracks available</p>'),E=x('<div class="mx-auto flex h-full max-w-(--breakpoint-large) flex-col"><div class="flex flex-col items-center gap-8 p-4 pt-8 medium:flex-row"><img class="h-auto w-full max-w-100"> <div class="flex flex-col"><h1 class="text-display-l"> </h1> <span class="mb-4 text-display-s text-on-surface-variant"> </span> <!></div></div> <!></div>');function W(p,t){A(t,!0);let o=q("mopidy"),l=P(()=>o.getImage(t.data.album.uri));var r=E();j(a=>{C(a,{get text(){return t.data.album.name}})});var e=c(r),s=c(e),m=f(s,2),n=c(m),d=c(n,!0);u(n);var i=f(n,2),v=c(i,!0);u(i);var _=f(i,2);N(_,{get tracks(){return t.data.tracks}}),u(m),u(e);var h=f(e,2);{var k=a=>{M(a,{get tracks(){return t.data.tracks}})},y=a=>{var w=D();b(a,w)};S(h,a=>{t.data.tracks.length>0?a(k):a(y,!1)})}u(r),I(a=>{z(s,"src",O(l)),g(d,t.data.album.name),g(v,a)},[()=>t.data.album.artists.map(a=>a.name).join(", ")]),b(p,r),L()}export{W as component,V as universal};
