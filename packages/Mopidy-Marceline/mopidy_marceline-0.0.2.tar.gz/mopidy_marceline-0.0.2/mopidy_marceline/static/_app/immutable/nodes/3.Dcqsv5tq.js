import{e as u}from"../chunks/DNSHY1Ls.js";import{t as b,h as c,a as p}from"../chunks/DBUGrSfB.js";import{p as n,g as d,a as f,r as g,t as v,b as y}from"../chunks/CXEj4s7p.js";import{e as _}from"../chunks/0d8l6Nc2.js";import{s as w}from"../chunks/NnhQt4_t.js";import{T as h}from"../chunks/B9SBF9rO.js";const j=async({parent:m})=>{var i,s;const{mopidy:e}=await m(),o=await((i=e.base.library)==null?void 0:i.browse({uri:"local:directory?type=album"}));o||u(404,"No albums found"),console.debug("Album refs",o);const r=await((s=e.base.library)==null?void 0:s.lookup({uris:o.filter(a=>a.type==="album").map(a=>a.uri)}));r||u(404,"No albums found");const t=Object.values(r).map(a=>{var l;return(l=a.at(0))==null?void 0:l.album}).filter(a=>a!==void 0);return await e.requestImages(t.map(a=>a.uri)),{albums:t}},q=Object.freeze(Object.defineProperty({__proto__:null,load:j},Symbol.toStringTag,{value:"Module"}));var x=b("<img>"),O=b('<div class="grid grid-cols-4 gap-4"></div>');function z(m,e){n(e,!0);let o=d("mopidy");var r=O();c(t=>{h(t,{text:"All albums"})}),_(r,21,()=>e.data.albums,t=>t.uri,(t,i)=>{var s=x();v(a=>w(s,"src",a),[()=>o.getImage(y(i).uri)]),p(t,s)}),g(r),p(m,r),f()}export{z as component,q as universal};
