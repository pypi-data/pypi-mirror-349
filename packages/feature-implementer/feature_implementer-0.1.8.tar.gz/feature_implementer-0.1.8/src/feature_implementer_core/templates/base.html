<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}Feature Implementation Prompt Generator{% endblock %}</title>
    <!-- Favicons -->
    <link rel="icon" href="{{ url_for('static', filename='img/favicon.ico') }}" type="image/x-icon">
    <link rel="icon" href="{{ url_for('static', filename='img/favicon.png') }}" type="image/png">
    <!-- Immediate theme application to prevent flickering -->
    <script>
        // Inline function to apply theme immediately before any content renders
        function applyThemeImmediately() {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme) {
                document.documentElement.setAttribute('data-theme', savedTheme);
            } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                document.documentElement.setAttribute('data-theme', 'dark');
            }
        }
        // Execute immediately
        applyThemeImmediately();
    </script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    {% block additional_head %}{% endblock %}
</head>
<body>
    <div class="app-container">
        <header class="header">
            <div class="title-area">
                <h1 class="title">Feature Implementation Prompt Generator</h1>
                <nav class="main-nav">
                    <a href="{{ url_for('index') }}" class="nav-link {% if request.path == url_for('index') %}active{% endif %}">
                        <i class="fas fa-home"></i> Home
                    </a>
                    <a href="{{ url_for('template_manager') }}" class="nav-link {% if request.path == url_for('template_manager') %}active{% endif %}">
                        <i class="fas fa-file-code"></i> Templates
                    </a>
                </nav>
            </div>
            <div class="header-actions">
                <button class="tutorial-button" id="start-tutorial" title="Start Tutorial">
                    <i class="fas fa-question-circle"></i> Tutorial
                </button>
                <button class="theme-toggle" id="theme-toggle" title="Toggle dark/light mode">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
        </header>
        
        {% block content %}{% endblock %}
    </div>
    
    
    {% block modals %}{% endblock %}
    
    <script src="{{ url_for('static', filename='js/ui_utils.js') }}"></script>
    <script src="{{ url_for('static', filename='js/theme_toggle.js') }}"></script>
    <script src="{{ url_for('static', filename='js/tutorial.js') }}"></script>
    {% block additional_scripts %}{% endblock %}
</body>
</html> 