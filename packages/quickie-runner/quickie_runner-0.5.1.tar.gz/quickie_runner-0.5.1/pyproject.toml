[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[project]
name = "quickie-runner"
dynamic = ["version"]
description = "A CLI tool for quick tasks."
readme = "README.md"
authors = [
    { name = "Adrian Martinez Rodriguez", email = "adrianmrit@gmail.com" }
]
license = { file = "LICENSE" }
keywords = ["CLI", "quick", "tasks"]
classifiers = [
    "Development Status :: 3 - Alpha",
    "Environment :: Console",
    "Intended Audience :: Developers",
    "Programming Language :: Python :: 3.12",
    "License :: OSI Approved :: MIT License",
]
requires-python = ">=3.12"
dependencies=[
    "frozendict~=2.4",
    "oslex~=0.1",
    "python-dotenv~=1.1",
    "rich~=14.0",
    "argcomplete~=3.6",
    "build>=1.2.2.post1",
]

[project.urls]
Homepage = "https://github.com/adrianmrit/quickie"
Documentation = "https://quickie.readthedocs.io"
Repository = "https://github.com/adrianmrit/quickie.git"
Issues = "https://github.com/adrianmrit/quickie/issues"
Changelog = "https://github.com/adrianmrit/quickie/blob/main/CHANGELOG.md"

[project.optional-dependencies]

[project.scripts]
"qk" = "quickie._cli:main"

[tool.hatch.metadata]
allow-direct-references = true

[tool.hatch.build.targets.wheel]
packages = ["src/quickie"]

[tool.hatch.version]
path = "src/quickie/_meta.py"

[tool.hatch.build]
exclude = ["_qk"]

[tool.pytest.ini_options]
addopts = ["-vv"]
markers = [
    "unit",
    "integration"
]
python_files = "tests/*.py"
mock_use_standalone_module = true

[tool.coverage.run]
source = ["src/quickie"]
omit = [
    "tests/*",
    "_qk/*"
]

[tool.ruff]

[tool.ruff.lint]
select = [
    "PL",  # pylint
    "E",   # pycodestyle
    "F",   # pyflakes
    "D",   # pydocstyle
]
fixable = ["ALL"]
ignore = ["D106"]

[tool.ruff.lint.pydocstyle]
convention = "google"

[tool.ruff.lint.per-file-ignores]
"tests/*" = ["D"]

[dependency-groups]
dev = [
    "sphinx>=8.2.3",
    "sphinx-toolbox>=3.9.0",
    "sphinx-rtd-theme>=3.0.2",
    "pytest>=8.3.5",
    "pytest-cov>=6.1.1",
    "pytest-mock>=3.14.0",
    "pre-commit>=4.2.0",
    "mock>=5.2.0",
]
