(()=>{"use strict";var e={56:(e,r,t)=>{e.exports=function(e){var r=t.nc;r&&e.setAttribute("nonce",r)}},72:e=>{var r=[];function t(e){for(var t=-1,n=0;n<r.length;n++)if(r[n].identifier===e){t=n;break}return t}function n(e,n){for(var c={},i=[],s=0;s<e.length;s++){var u=e[s],l=n.base?u[0]+n.base:u[0],a=c[l]||0,d="".concat(l," ").concat(a);c[l]=a+1;var f=t(d),g={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==f)r[f].references++,r[f].updater(g);else{var m=o(g,n);n.byIndex=s,r.splice(s,0,{identifier:d,updater:m,references:1})}i.push(d)}return i}function o(e,r){var t=r.domAPI(r);return t.update(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap&&r.supports===e.supports&&r.layer===e.layer)return;t.update(e=r)}else t.remove()}}e.exports=function(e,o){var c=n(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<c.length;i++){var s=t(c[i]);r[s].references--}for(var u=n(e,o),l=0;l<c.length;l++){var a=t(c[l]);0===r[a].references&&(r[a].updater(),r.splice(a,1))}c=u}}},113:e=>{e.exports=function(e,r){if(r.styleSheet)r.styleSheet.cssText=e;else{for(;r.firstChild;)r.removeChild(r.firstChild);r.appendChild(document.createTextNode(e))}}},314:e=>{e.exports=function(e){var r=[];return r.toString=function(){return this.map((function(r){var t="",n=void 0!==r[5];return r[4]&&(t+="@supports (".concat(r[4],") {")),r[2]&&(t+="@media ".concat(r[2]," {")),n&&(t+="@layer".concat(r[5].length>0?" ".concat(r[5]):""," {")),t+=e(r),n&&(t+="}"),r[2]&&(t+="}"),r[4]&&(t+="}"),t})).join("")},r.i=function(e,t,n,o,c){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(n)for(var s=0;s<this.length;s++){var u=this[s][0];null!=u&&(i[u]=!0)}for(var l=0;l<e.length;l++){var a=[].concat(e[l]);n&&i[a[0]]||(void 0!==c&&(void 0===a[5]||(a[1]="@layer".concat(a[5].length>0?" ".concat(a[5]):""," {").concat(a[1],"}")),a[5]=c),t&&(a[2]?(a[1]="@media ".concat(a[2]," {").concat(a[1],"}"),a[2]=t):a[2]=t),o&&(a[4]?(a[1]="@supports (".concat(a[4],") {").concat(a[1],"}"),a[4]=o):a[4]="".concat(o)),r.push(a))}},r}},354:e=>{e.exports=function(e){var r=e[1],t=e[3];if(!t)return r;if("function"==typeof btoa){var n=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),c="/*# ".concat(o," */");return[r].concat([c]).join("\n")}return[r].join("\n")}},540:e=>{e.exports=function(e){var r=document.createElement("style");return e.setAttributes(r,e.attributes),e.insert(r,e.options),r}},659:e=>{var r={};e.exports=function(e,t){var n=function(e){if(void 0===r[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}r[e]=t}return r[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var r=e.insertStyleElement(e);return{update:function(t){!function(e,r,t){var n="";t.supports&&(n+="@supports (".concat(t.supports,") {")),t.media&&(n+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(n+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),n+=t.css,o&&(n+="}"),t.media&&(n+="}"),t.supports&&(n+="}");var c=t.sourceMap;c&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(c))))," */")),r.styleTagTransform(n,e,r.options)}(r,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)}}}},845:(e,r,t)=>{t.d(r,{A:()=>s});var n=t(354),o=t.n(n),c=t(314),i=t.n(c)()(o());i.push([e.id,'.btn-group button {\n  background-color: #708090; /* Green background */\n  border: 1px solid green; /* Green border */\n  color: white; /* White text */\n  padding: 5px 10px; /* Some padding */\n  margin: 1px;\n  cursor: pointer; /* Pointer/hand icon */\n  float: left; /* Float the buttons side by side */\n}\n\n/* Clear floats (clearfix hack) */\n.btn-group:after {\n  content: "";\n  clear: both;\n  display: table;\n}\n\n.btn-group button:not(:last-child) {\n  border-right: none; /* Prevent double borders */\n}\n\n/* Button bar */\n.imgBtn {\n  padding: 0px;\n}\n\n/* Add a background color on hover */\n.cmdBtn {\n  background-color: #ffffff;\n  font-size: 12px;\n}\n\n.cmdBtn:hover {\n  background-color: #ffc0c0;\n}\n\n\n/* Make sure the image and overlay canvas overlap */\n.mainBox{\n   display: grid;\n}\n \n.mainImg{\n   z-index: 1;\n   grid-column: 1;\n   grid-row: 1;\n}\n \n.mainCanvas{\n   z-index: 2;\n   grid-column: 1;\n   grid-row: 1;\n}\n\n/* Ditto for the small image / canvas */\n.insetBox{\n   display: grid;\n}\n \n.insetImg{\n   z-index: 1;\n   grid-column: 1;\n   grid-row: 1;\n}\n \n.insetCanvas{\n   z-index: 2;\n   grid-column: 1;\n   grid-row: 1;\n}\n\n',"",{version:3,sources:["webpack://./src/lib/components/style.css"],names:[],mappings:"AAAA;EACE,yBAAyB,EAAE,qBAAqB;EAChD,uBAAuB,EAAE,iBAAiB;EAC1C,YAAY,EAAE,eAAe;EAC7B,iBAAiB,EAAE,iBAAiB;EACpC,WAAW;EACX,eAAe,EAAE,sBAAsB;EACvC,WAAW,EAAE,mCAAmC;AAClD;;AAEA,iCAAiC;AACjC;EACE,WAAW;EACX,WAAW;EACX,cAAc;AAChB;;AAEA;EACE,kBAAkB,EAAE,2BAA2B;AACjD;;AAEA,eAAe;AACf;EACE,YAAY;AACd;;AAEA,oCAAoC;AACpC;EACE,yBAAyB;EACzB,eAAe;AACjB;;AAEA;EACE,yBAAyB;AAC3B;;;AAGA,mDAAmD;AACnD;GACG,aAAa;AAChB;;AAEA;GACG,UAAU;GACV,cAAc;GACd,WAAW;AACd;;AAEA;GACG,UAAU;GACV,cAAc;GACd,WAAW;AACd;;AAEA,uCAAuC;AACvC;GACG,aAAa;AAChB;;AAEA;GACG,UAAU;GACV,cAAc;GACd,WAAW;AACd;;AAEA;GACG,UAAU;GACV,cAAc;GACd,WAAW;AACd",sourcesContent:['.btn-group button {\n  background-color: #708090; /* Green background */\n  border: 1px solid green; /* Green border */\n  color: white; /* White text */\n  padding: 5px 10px; /* Some padding */\n  margin: 1px;\n  cursor: pointer; /* Pointer/hand icon */\n  float: left; /* Float the buttons side by side */\n}\n\n/* Clear floats (clearfix hack) */\n.btn-group:after {\n  content: "";\n  clear: both;\n  display: table;\n}\n\n.btn-group button:not(:last-child) {\n  border-right: none; /* Prevent double borders */\n}\n\n/* Button bar */\n.imgBtn {\n  padding: 0px;\n}\n\n/* Add a background color on hover */\n.cmdBtn {\n  background-color: #ffffff;\n  font-size: 12px;\n}\n\n.cmdBtn:hover {\n  background-color: #ffc0c0;\n}\n\n\n/* Make sure the image and overlay canvas overlap */\n.mainBox{\n   display: grid;\n}\n \n.mainImg{\n   z-index: 1;\n   grid-column: 1;\n   grid-row: 1;\n}\n \n.mainCanvas{\n   z-index: 2;\n   grid-column: 1;\n   grid-row: 1;\n}\n\n/* Ditto for the small image / canvas */\n.insetBox{\n   display: grid;\n}\n \n.insetImg{\n   z-index: 1;\n   grid-column: 1;\n   grid-row: 1;\n}\n \n.insetCanvas{\n   z-index: 2;\n   grid-column: 1;\n   grid-row: 1;\n}\n\n'],sourceRoot:""}]);const s=i}},r={};function t(n){var o=r[n];if(void 0!==o)return o.exports;var c=r[n]={id:n,exports:{}};return e[n](c,c.exports,t),c.exports}t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},t.d=(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n,o=function(){var e=document.currentScript;if(!e){for(var r=document.getElementsByTagName("script"),t=[],n=0;n<r.length;n++)t.push(r[n]);e=(t=t.filter((function(e){return!e.async&&!e.text&&!e.textContent}))).slice(-1)[0]}return e};if(Object.defineProperty(t,"p",{get:(n=o().src.split("/").slice(0,-1).join("/")+"/",function(){return n})}),"undefined"!=typeof jsonpScriptSrc){var c=jsonpScriptSrc;jsonpScriptSrc=function(e){var r,t=(r=o(),/\/_dash-component-suites\//.test(r.src)),n=c(e);if(!t)return n;var i=n.split("/"),s=i.slice(-1)[0].split(".");return s.splice(1,0,"v1_0_1m1747672865"),i.splice(-1,1,s.join(".")),i.join("/")}}t.nc=void 0;var i={};t.r(i),t.d(i,{Mviewer:()=>R});const s=window.React;var u=t.n(s);const l=window.PropTypes;var a=t.n(l),d=t(72),f=t.n(d),g=t(825),m=t.n(g),p=t(659),h=t.n(p),A=t(56),x=t.n(A),v=t(540),b=t.n(v),y=t(113),C=t.n(y),E=t(845),B={};B.styleTagTransform=C(),B.setAttributes=x(),B.insert=h().bind(null,"head"),B.domAPI=m(),B.insertStyleElement=b(),f()(E.A,B),E.A&&E.A.locals&&E.A.locals;var w=function(e){e.id;var r=e.img,t=e.imgWidth,n=e.imgHeight,o=e.inset,c=e.insetWidth,i=e.insetHeight,l=(e.winWidth,e.winHeight,e.cutoutDesc),a=e.zoombox,d=e.box,f=(e.pick,e.cmdStr),g=e.setProps,m=(0,s.useRef)(),p=(0,s.useRef)(),h=(0,s.useRef)(),A=(0,s.useRef)(),x=(0,s.useRef)(),v=(0,s.useRef)(),b=(0,s.useRef)(),y=(0,s.useRef)(),C=(0,s.useRef)(),E=(0,s.useRef)(),B=(0,s.useRef)(1),w=(0,s.useRef)(!1),R=(0,s.useRef)(!1),D=(0,s.useRef)(0),G=(0,s.useRef)(0),W=(0,s.useRef)(0),U=(0,s.useRef)(0),z=(0,s.useRef)(0),H=(0,s.useRef)(0),S=(0,s.useRef)(0),k=(0,s.useRef)(0),M=a.zoom*t,P=a.zoom*n,X=M+"px",I=P+"px",T=(0,s.useRef)(!1);console.log("XXX> debug:",T.current),window.mview=void 0,E.current=l,B.current=a.zoom;try{1==T.current&&console.log("--------------------------------------------------------------------"),console.log("DEBUG> Initialization: cutoutDesc:                   ",E.current),console.log("DEBUG> Initialization: zoombox:                      ",a),console.log("DEBUG> Initialization: cmdStr:                       ",f),console.log("DEBUG> Initialization: Set mainImg/mainCanvas width: ",t*B.current),console.log("DEBUG> Initialization: Set mainImg/mainCanvas height:",n*B.current),A.current.style.width=t*B.current+"px",A.current.style.height=n*B.current+"px",A.current.width=t*B.current,A.current.height=n*B.current,x.current.style.width=t*B.current+"px",x.current.style.height=n*B.current+"px",x.current.width=t*B.current,x.current.height=n*B.current,1==T.current&&console.log("DEBUG> Initialization: Clear and redraw ctx.");var q=d.screenXmin,L=d.screenYmin,j=d.screenDx,O=d.screenDy;if(j>0&&O>0){var N=x.current.getContext("2d");N.clearRect(0,0,A.current.offsetWidth,A.current.offsetHeight),N.beginPath(),N.rect(q,L,j,O),N.strokeStyle="#ff8080",N.stroke()}}catch(e){1==T.current&&console.log("DEBUG> FAILED (too early)..")}function Y(e){console.log("XXX> in runCmd(), cutoutDesc = "+E.current);var r=e.target.id,o=y.current.getContext("2d");if("zoomin"==r||"zoomout"==r||"actualPixels"==r||"fitWindow"==r){A.current.offsetWidth,A.current.offsetHeight;var s,u=h.current.scrollLeft,l=h.current.scrollTop,a=h.current.offsetWidth,d=h.current.offsetHeight;if("zoomin"==r)s=Math.sqrt(2);else if("zoomout"==r)s=1/Math.sqrt(2);else if("actualPixels"==r)s=1/B.current;else if("fitWindow"==r){var f=d/n,m=a/t;f<m&&(m=f),s=1/B.current*m}B.current=B.current*s,A.current.style.width=t*B.current+"px",A.current.style.height=n*B.current+"px",A.current.width=t*B.current,A.current.height=n*B.current,1==T.current&&console.log("DEBUG> mainImg:",A.current.width,"x",A.current.height),x.current.style.width=t*B.current+"px",x.current.style.height=n*B.current+"px",x.current.width=t*B.current,x.current.height=n*B.current,console.log("XXX> in ResizeObserver(), cutoutDesc = "+E.current),console.log("XXX> in ResizeObserver(), zoomfact   = "+B.current);var p="<b>Window:</b> "+h.current.offsetWidth+" x "+h.current.offsetHeight+"&emsp;|&emsp;<b>Image:</b> "+t+" x "+n+"&emsp;|&emsp;";E.current.length>0&&(p=p+E.current+"&emsp;|&emsp;"),p=B.current>=.9999?p+"<b>Zoom In:</b> "+B.current.toFixed(1):p+"<b>Zoom Out:</b> "+(1/B.current).toFixed(1),C.current.innerHTML=p;var v=s*(u+a/2)-a/2;h.current.scrollLeft=v;var b=s*(l+d/2)-d/2;h.current.scrollTop=b;var w=c*h.current.scrollLeft/A.current.offsetWidth,R=i*h.current.scrollTop/A.current.offsetHeight,D=c*h.current.offsetWidth/A.current.offsetWidth,G=i*h.current.offsetHeight/A.current.offsetHeight;1==T.current&&console.log("DEBUG> runCmd() Clear and redraw insetCtx."),o.clearRect(0,0,c,i),o.beginPath(),o.rect(w,R,D,G),o.lineWidth=2,o.strokeStyle="#8080ff",o.stroke()}else 1==T.current&&console.log({"DEBUG> runCmd() setProps(cmdStr)":U}),g({cmdStr:r});var W=x.current.getContext("2d");1==T.current&&console.log("DEBUG> runCmd() Clear ctx."),W.clearRect(0,0,A.current.offsetWidth,A.current.offsetHeight);var U={xmin:0,ymin:0,dx:0,dy:0,screenXmin:0,screenYmin:0,screenDx:0,screenDy:0};1==T.current&&console.log({"DEBUG> runCmd() setProps(box)":U}),g({box:U})}return 1==T.current&&(console.log("DEBUG> input props:",e),console.log("DEBUG> input props zoombox:",a),console.log("DEBUG> zoomed width/height:",M,"x",P),console.log("DEBUG> mainBox:            ",X,"x",I)),(0,s.useEffect)((function(){h.current.scrollLeft,B.current,A.current.offsetHeight,h.current.scrollTop,h.current.offsetHeight,B.current,h.current.offsetWidth,B.current,h.current.offsetHeight,B.current;var e=new ResizeObserver((function(e){var r=e[0];console.log("XXX> in ResizeObserver(), cutoutDesc = "+E.current),console.log("XXX> in ResizeObserver(), zoomfact   = "+B.current);var o="<b>Window:</b> "+r.contentRect.width+" x "+r.contentRect.height+"&emsp;|&emsp;<b>Image:</b> "+t+" x "+n+"&emsp;|&emsp;";E.current.length>0&&(o=o+E.current+"&emsp;|&emsp;"),o=B.current>=.9999?o+"<b>Zoom In:</b> "+B.current.toFixed(1):o+"<b>Zoom Out:</b> "+(1/B.current).toFixed(1),C.current.innerHTML=o,C.current.style.width=h.current.offsetWidth+"px",x.current.style.left=h.current.offsetLeft+"px",x.current.style.top=h.current.offsetTop+"px",v.current.style.left=h.current.offsetLeft+"px",v.current.style.top=h.current.offsetTop+"px",y.current.style.left=h.current.offsetLeft+"px",y.current.style.top=h.current.offsetTop+"px",x.current.style.pointerEvents="none",A.current.style.pointerEvents="none";var s=h.current.scrollLeft/B.current,u=(A.current.offsetHeight-(h.current.scrollTop+h.current.offsetHeight))/B.current,l=h.current.offsetWidth/B.current,a=h.current.offsetHeight/B.current,d={zoom:B.current,width:h.current.offsetWidth,height:h.current.offsetHeight,xmin:s,ymin:u,dx:l,dy:a};1==T.current&&console.log({"DEBUG> ResizeObserver() setProps(zoombox)":d}),g({zoombox:d});var f=c*h.current.scrollLeft/A.current.offsetWidth,m=i*h.current.scrollTop/A.current.offsetHeight,p=c*h.current.offsetWidth/A.current.offsetWidth,b=i*h.current.offsetHeight/A.current.offsetHeight,w=y.current.getContext("2d");1==T.current&&console.log("DEBUG> ResetObserver() Clear and redraw insetCtx."),w.clearRect(0,0,c,i),w.beginPath(),w.rect(f,m,p,b),w.lineWidth=2,w.strokeStyle="#8080ff",w.stroke()}));e.observe(h.current)}),[]),u().createElement("div",{ref:m,id:"componentDiv",style:{backgroundColor:"#2c3539",outline:"none"}},u().createElement("section",{ref:p,id:"imgBtn",style:{display:"flex",padding:"0px",height:"25px",width:"100%"}},u().createElement("div",{className:"imgBtn",style:{outline:"none"}},u().createElement("button",{id:"zoomin",className:"cmdBtn",onClick:Y}," Zoom In       "),u().createElement("button",{id:"zoomout",className:"cmdBtn",onClick:Y}," Zoom Out      "),u().createElement("button",{id:"actualPixels",className:"cmdBtn",onClick:Y}," Actual Pixels "),u().createElement("button",{id:"fitWindow",className:"cmdBtn",onClick:Y}," Fit to Window "))),u().createElement("section",{ref:h,id:"mainBox",style:{width:"500px",height:"500px",overflow:"auto",userSelect:"none"},onMouseDown:function(e){h.current.style.overflow="auto",w.current=!0;var r=e.target.getBoundingClientRect(),t=e.clientX-r.left,n=e.clientY-r.top;1==T.current&&(console.log("------------------------------------------------------"),console.log("DEBUG> onMouseDown()"),console.log("DEBUG> X:",t),console.log("DEBUG> Y:",n)),t<h.current.offsetWidth&&n<h.current.offsetHeight&&(h.current.style.overflow="hidden"),(t>h.current.offsetWidth||t>h.current.offsetHeight)&&(w.current=!1),D.current=t,G.current=n;var o=x.current.getContext("2d");1==T.current&&console.log("DEBUG> onMouseDown() Clear ctx."),o.clearRect(0,0,A.current.offsetWidth,A.current.offsetHeight);var c={xmin:0,ymin:0,dx:0,dy:0,screenXmin:0,screenYmin:0,screenDx:0,screenDy:0};1==T.current&&console.log({"DEBUG> onMouseDown() setProps(box)":c}),g({box:c})},onMouseMove:function(e){if(1==w.current){var r=e.target.getBoundingClientRect(),t=e.clientX-r.left,n=e.clientY-r.top;W.current=t,U.current=n;var o=W.current-D.current,c=U.current-G.current;R.current=!0;var i=x.current.getContext("2d");1==T.current&&console.log("DEBUG> onMouseMove() Clear and redraw ctx."),i.clearRect(0,0,A.current.offsetWidth,A.current.offsetHeight),i.beginPath(),i.rect(D.current,G.current,o,c),i.strokeStyle="#ff8080",i.stroke(),z.current=D.current,H.current=G.current,S.current=o,k.current=c}},onMouseUp:function(r){if(1==w.current){w.current=!1,h.current.style.overflow="auto";var t=r.target.getBoundingClientRect(),n=r.clientX-t.left,o=r.clientY-t.top;1==T.current&&(console.log("DEBUG> onMouseUp()"),console.log("DEBUG> X:",n),console.log("DEBUG> Y:",o));var c=n,i=o,s=e.zoombox,u=h.current.offsetWidth,l=h.current.offsetHeight,a=h.current.scrollLeft/B.current,d=(A.current.offsetHeight-(h.current.scrollTop+h.current.offsetHeight))/B.current,f=h.current.offsetWidth/B.current,m=h.current.offsetHeight/B.current;if(s.zoom!=B.current||s.width!=u||s.height!=l||s.xmin!=a||s.ymin!=d||s.dx!=f||s.dy!=m){1==T.current&&console.log("DEBUG> MouseUp() oldZoomBox: ",s);var p={zoom:B.current,width:u,height:l,xmin:a,ymin:d,dx:f,dy:m};1==T.current&&console.log("DEBUG> onMouseUp() setProps(zoombox): ",p),g({zoombox:p})}else{W.current=c,c<D.current&&(W.current=D.current,D.current=c),U.current=i,i<G.current&&(U.current=G.current,G.current=i);var v=W.current-D.current,b=U.current-G.current;if(1==T.current&&(console.log("DEBUG> deltaX:",v),console.log("DEBUG> deltaY:",b)),0==v||0==b||v<5&&b<5){1==T.current&&console.log("--\x3e PICK");var y=(c+h.current.scrollLeft)/B.current,C=(h.current.scrollHeight-(i+h.current.scrollTop))/B.current,E=x.current.getContext("2d");1==T.current&&console.log("DEBUG> onMouseUp() Clear ctx."),E.clearRect(0,0,A.current.offsetWidth,A.current.offsetHeight);var M={x:y,y:C};1==T.current&&console.log("DEBUG> onMouseUp() setProps(pick): ",M),g({pick:M})}else{1==T.current&&console.log("--\x3e BOX");var P={xmin:a=(D.current+h.current.scrollLeft)/B.current,ymin:d=(h.current.scrollHeight-(U.current+h.current.scrollTop))/B.current,dx:f=v/B.current,dy:m=b/B.current,screenXmin:z.current,screenYmin:H.current,screenDx:S.current,screenDy:k.current};1==T.current&&console.log("DEBUG> onMouseUp() setProps(box):",P),g({box:P})}}1==T.current&&console.log("------------------------------------------------------")}w.current=!1,R.current=!1},onScroll:function(e){var r=h.current.scrollLeft/B.current,t=(A.current.offsetHeight-(h.current.scrollTop+h.current.offsetHeight))/B.current,n=h.current.offsetWidth/B.current,o=h.current.offsetHeight/B.current,s={zoom:B.current,width:h.current.offsetWidth,height:h.current.offsetHeight,xmin:r,ymin:t,dx:n,dy:o};1==T.current&&console.log("DEBUG> Scroll() setProps(zoombox): ",s),g({zoombox:s});var u=c*h.current.scrollLeft/A.current.offsetWidth,l=i*h.current.scrollTop/A.current.offsetHeight,a=c*h.current.offsetWidth/A.current.offsetWidth,d=i*h.current.offsetHeight/A.current.offsetHeight,f=x.current.getContext("2d"),m=y.current.getContext("2d");1==T.current&&console.log("DEBUG> onScroll() Clear ctx, clear and redraw insetCtx."),f.clearRect(0,0,A.current.offsetWidth,A.current.offsetHeight),m.clearRect(0,0,c,i),m.beginPath(),m.rect(u,l,a,d),m.lineWidth=2,m.strokeStyle="#8080ff",m.stroke()}},u().createElement("img",{ref:A,id:"mainImg",className:"mainImg",src:r,style:{width:M+"px",height:P+"px"}}),u().createElement("canvas",{ref:x,id:"mainCanvas",className:"mainCanvas",style:{width:M+"px",height:P+"px",position:"absolute"}}),u().createElement("div",{ref:v,id:"insetBox",className:"insetBox",style:{width:c+"px",height:i+"px",position:"absolute"}},u().createElement("img",{ref:b,id:"insetImg",className:"insetImg",src:o,style:{width:c+"px",height:i+"px",border:"1px solid cca70"}}),u().createElement("canvas",{ref:y,id:"insetCanvas",className:"insetCanvas",width:c,height:i,style:{width:c+"px",height:i+"px"}}))),u().createElement("div",{ref:C,id:"info",className:"info",style:{width:"100%",height:"20px",border:"1px solid gray",color:"#000000",backgroundColor:"#ffffff",fontSize:"12px"}}),u().createElement("div",{ref:E,id:"cutout",style:{visibility:"hidden"}}))};w.defaultProps={},w.propTypes={id:a().string,img:a().string.isRequired,imgWidth:a().number.isRequired,imgHeight:a().number.isRequired,inset:a().string.isRequired,insetWidth:a().number.isRequired,insetHeight:a().number.isRequired,width:a().number,height:a().number,cutoutDesc:a().string,zoombox:a().shape({zoom:a().number.isRequired,width:a().number.isRequired,height:a().number.isRequired,xmin:a().number.isRequired,ymin:a().number.isRequired,dx:a().number.isRequired,dy:a().number.isRequired}),box:a().shape({xmin:a().number.isRequired,ymin:a().number.isRequired,dx:a().number.isRequired,dy:a().number.isRequired,screenXmin:a().number.isRequired,screenYmin:a().number.isRequired,screenDx:a().number.isRequired,screenDy:a().number.isRequired}),pick:a().shape({x:a().number.isRequired,y:a().number.isRequired}),cmdStr:a().string,setProps:a().func};const R=w;window.mviewer=i})();
//# sourceMappingURL=mviewer.min.js.map