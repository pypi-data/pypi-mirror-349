pedasos_teachers:
  model: core.Person
  verbose_name: "Pedasos: Teachers"
  extra_args:
    has_header_row: true
    separator: "\t"
  fields:
    - ignore
    - short_name
    - last_name
    - first_name
    - date_of_birth
    - sex
    - departments
    - ignore
pedasos_classes:
  model: core.Group
  verbose_name: "Pedasos: Classes"
  extra_args:
    has_header_row: true
    separator: "\t"
  fields:
    - ignore
    - short_name
    - group_owner_short_name
    - group_owner_short_name
pedasos_courses:
  model: core.Group
  verbose_name: "Pedasos: Courses"
  extra_args:
    has_header_row: true
    separator: "\t"
  fields:
    - ignore
    - short_name
    - class_range
    - ignore
    - group_owner_short_name
pedasos_students:
  model: core.Person
  verbose_name: "Pedasos: Students"
  extra_args:
    has_header_row: true
    separator: "\t"
  fields:
    - ignore
    - unique_reference
    - last_name
    - first_name
    - date_of_birth
    - sex
    - primary_group_short_name
    - ignore # Mother
    - ignore
    - ignore
    - ignore # Father
    - ignore
    - ignore
    - group_membership_short_name # Course 1
    - group_membership_short_name
    - group_membership_short_name
    - group_membership_short_name
    - group_membership_short_name # Course 5
    - group_membership_short_name
    - group_membership_short_name
    - group_membership_short_name
    - group_membership_short_name
    - group_membership_short_name # Course 10
    - group_membership_short_name
    - group_membership_short_name
    - group_membership_short_name
    - group_membership_short_name
    - group_membership_short_name # Course 15
    - group_membership_short_name
    - group_membership_short_name
    - group_membership_short_name
    - group_membership_short_name
    - group_membership_short_name # Course 20
    - group_membership_short_name
    - group_membership_short_name
    - group_membership_short_name
    - group_membership_short_name
    - group_membership_short_name # Course 25
    - group_membership_short_name
pedasos_guardians_1:
  model: core.Person
  verbose_name: "Pedasos: Guardians 1"
  extra_args:
    has_header_row: true
    separator: "\t"
  fields:
    - ignore
    - child_by_unique_reference
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - last_name # Mother
    - first_name
    - email
    - ignore # Father
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
pedasos_guardians_2:
  model: core.Person
  verbose_name: "Pedasos: Guardians 2"
  extra_args:
    has_header_row: true
    separator: "\t"
  fields:
    - ignore
    - child_by_unique_reference
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore # Mother
    - ignore
    - ignore
    - last_name # Father
    - first_name
    - email
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
schild_nrw_students:
  model: core.Person
  verbose_name: "Schild-NRW: Students"
  extra_args:
    has_header_row: true
    separator: ;
  fields:
    - field_type: unique_reference
      priority: 20
    - ignore
    - primary_group_short_name
    - last_name
    - first_name
    - date_of_birth
    - primary_group_owner_short_name
    - ignore
    - field_type: email
      priority: 10
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - ignore
    - street_housenumber
    - postal_code
    - place
    - phone_number
schild_nrw_teachers:
  model: core.Person
  verbose_name: "Schild-NRW: Teachers"
  extra_args:
    has_header_row: true
    separator: ;
  fields:
    - field_type: unique_reference
      priority: 20
    - ignore
    - last_name
    - first_name
    - date_of_birth
    - short_name
    - ignore
    - ignore
    - ignore
    - field_type: ignore
      column_name: email_work
      priority: 10
    - field_type: phone_number
      db_field: mobile_number
    - phone_number
    - field_type: ignore
      column_name: email_home
    - street_housenumber
    - postal_code
    - place
    - field_type: email
      virtual: true
      template: |
        {{ email_work|default:email_home }}

untis_gpu003:
  model: core.Group
  verbose_name: "Untis: Classes (GPU003.txt)"
  extra_args:
    has_header_row: false
    separator: ","
  fields:
    - short_name # Name
    - name # Langname
    - ignore # Statistik
    - ignore # Raum
    - ignore # Kennzeichen
    - ignore # Frei
    - ignore # Min-Std./Tag
    - ignore # Max-Std./Tag
    - ignore # Min-Mittagsp.
    - ignore # Max-Mittagsp.
    - ignore # Hauptf.Folge
    - ignore # Hauptf.hint
    - ignore # Kla-Gruppe
    - ignore # Schul-Stufe
    - ignore # Abteilung
    - ignore # Faktor
    - ignore # Studenten weibl.
    - ignore # Stundenten männl.
    - ignore # Schulform
    - ignore # Unt-Beg.
    - ignore # Unt-Ende
    - ignore # Sondertext
    - ignore # Beschreibung
    - ignore # Farbe Vordergr.
    - ignore # Farbe Hintergr.
    - ignore # Statistik 2
    - ignore # Name Vorjahr
    - ignore # Faktor
    - ignore # Alias
    - group_owner_short_name # Klassenlehrer
    - ignore # Hauptklasse
    - ignore
    - ignore

untis_gpu004:
  model: core.Person
  verbose_name: "Untis: Teachers (GPU004.txt)"
  extra_args:
    has_header_row: false
    separator: ","
  fields:
    - short_name # Name
    - last_name # Langname
    - ignore # Statistik 1
    - ignore # Personal-Nr.
    - ignore # Stammraum
    - ignore # Kennzeichen
    - ignore # Frei
    - ignore # Std./Tag min
    - ignore # Std./Tag max
    - ignore # Hohlstd. min.
    - ignore # Hohlstd. max.
    - ignore # Mittagsp. min.
    - ignore # Mittagsp. max.
    - ignore # Std.-Folge max.
    - ignore # Wochen-Soll
    - ignore # Wochen-WErt
    - ignore # Abteilung 1
    - ignore # Wert-Faktor
    - ignore # Abteilung 2
    - ignore # Abteilung 3
    - ignore # Status
    - ignore # Jahres-Soll
    - ignore # Text
    - ignore # Beschreibung
    - ignore # Farbe Vordergr.
    - ignore # Farbe Hintergr.
    - ignore # Statistik 2
    - ignore # berechneter Faktor
    - first_name # Vorname
    - ignore # Titel
    - sex # Geschlecht
    - ignore # Stammschule
    - field_type: email # E-Mail-Adresse
      priority: -1
    - ignore # Sperrvermerk
    - ignore # Wochen-Soll maximal
    - ignore # Alias
    - ignore # Personalnummer 2
    - ignore # Stundensatz
    - phone_number # Telefonnummer
    - mobile_number # Mobiltelefonnummer
    - date_of_birth # Geburtsdatum
    - ignore # Name als externes Element
    - ignore # Text2
    - ignore
    - ignore

untis_gpu005:
  model: core.Room
  verbose_name: "Untis: Rooms (GPU005.txt)"
  extra_args:
    has_header_row: false
    separator: ","
  fields:
    - short_name # Name
    - name # Langname
    - ignore # Ausweichraum
    - ignore # Kennzeichen
    - ignore # Frei
    - ignore # Disloz-Kennz.
    - ignore # Raum-Gewicht
    - ignore # Kapazität
    - ignore # Abteilung
    - ignore # Gang 1
    - ignore # Gang 2
    - ignore # Sondertext
    - ignore # Beschreibung
    - ignore # Farbe Vg.
    - ignore # Farbe Hg.
    - ignore # Statistik 1
    - ignore # Statistik 2
    - ignore # ? - Untis documentation not complete

untis_gpu006:
  model: cursus.Subject
  verbose_name: "Untis: Subjects (GPU006.txt)"
  extra_args:
    has_header_row: false
    separator: ","
  fields:
    - short_name # Name
    - name # Langname
    - ignore # Statisik 1
    - ignore # Raum
    - ignore # Kennzeichen
    - ignore # Frei
    - ignore # Wochenstd. min
    - ignore # Wochenstd. max
    - ignore # Nachmittag min.
    - ignore # Nachm. max.
    - ignore # Fachf. Kla.
    - ignore # Fachf. Lehr.
    - ignore # Fach-Gruppe
    - ignore # Faktor
    - ignore # Faktor
    - ignore # Text
    - ignore # Beschreibung
    - field_type: direct_mapping # Farbe Vg.
      db_field: colour_fg
      converter: parse_untis_color
    - field_type: direct_mapping # Farbe Hg.
      db_field: colour_bg
      converter: parse_untis_color
    - ignore # Statistik 2
    - ignore # Alias
    - ignore
    - ignore

untis_gpu002:
  model: cursus.Course
  verbose_name: "Untis: Courses (GPU002.txt)"
  extra_args:
    has_header_row: false
    separator: ","
  fields:
    - field_type: ignore # Unt-Nummer
      column_name: course_reference
    - lesson_quota # Wochenstunden
    - ignore # Wochenstd. Kla.
    - ignore # Wochenstd. Le.
    - field_type: group_by_short_name # Klasse
      column_name: group_short_name
    - teacher_by_short_name # Lehrer
    - field_type: subject_by_short_name # Subject
      column_name: subject_short_name
    - ignore # Fachraum
    - ignore # Statistik 1 Unt.
    - ignore # Stundenzahl
    - ignore # Wochenwert
    - ignore # Gruppe
    - ignore # Zeilentext 1
    - ignore # Zeilwert (in Tausendstel)
    - ignore # Datum von
    - ignore # Datum bis
    - ignore # Jahreswert
    - field_type: ignore # Text
      column_name: text
    - ignore # Teilungs-Nummer
    - default_room_by_short_name # Stammraum
    - ignore # Beschreibung
    - ignore # Farbe Vg.
    - ignore # Farbe Hg.
    - ignore # Kennzeichen
    - ignore # Fachfolge Klassen
    - ignore # Fachfolge Lehrer
    - ignore # Klassen-Kollisions-Kennz.
    - ignore # Doppelstd. min.
    - ignore # Doppelstd. max.
    - ignore # Blockgröße
    - ignore # Std. im Raum
    - ignore # Priorität
    - ignore # Statigroup_namestik 1 Lehrer
    - ignore # Studenten männl.
    - ignore # Studenten weibl.
    - ignore # Wert bzw. Faktor
    - ignore # 2. Block
    - ignore # 3. Block
    - ignore # Zeilentext-2
    - ignore # Eigenwert
    - ignore # Eigenwert
    - ignore # Schülergruppe
    - ignore # Wochenstunden in Jahres-Perioden-Planung
    - ignore # Jahresstunden
    - ignore # Zeilen-Unterrichtsgruppe
    - ignore
    - ignore
    - field_type: unique_reference
      virtual: true
      template: |
        {{ school_term }}-{{ course_reference }}
    - field_type: name
      virtual: true
      template: |
        {% if text %}
          {{ text }}
        {% else %}
          {{ group_short_name }}: {{ subject_short_name }}
        {% endif %}
    - field_type: course_bundle_by_course
      virtual: true
      template: "ignore"

untis_gpu001:
  model: lesrooster.Lesson
  verbose_name: "Untis: Lessons (GPU001.txt)"
  extra_args:
    has_header_row: false
    separator: ","
  fields:
    - field_type: ignore # Unt-Nummer
      column_name: course_reference
    - ignore # Klasse
    - field_type: teacher_by_short_name # Lehrer
      column_name: teacher_short_name
    - subject_by_short_name # Fach
    - room_by_short_name # Raum
    - field_type: ignore # Tag
      column_name: day
    - field_type: ignore # Stunde
      column_name: period
    - ignore # Stundenlänge
    - ignore # ?
    - field_type: course_by_unique_reference # Unt-Nummer
      virtual: true
      template: |
        {{ school_term }}-{{ course_reference }}
    - field_type: unique_reference
      virtual: true
      template: |
        {{ course_reference }}-{{ additional_params.validity_range }}-{{ day }}-{{ period }}-{{ teacher_short_name }}

untis_gpu001_2:
  model: lesrooster.LessonBundle
  verbose_name: "Untis: Lessons, Step 2 (GPU001.txt)"
  extra_args:
    has_header_row: false
    separator: ","
  fields:
    - field_type: ignore # Unt-Nummer
      column_name: course_reference
    - ignore # Klasse
    - field_type: ignore # Lehrer
      column_name: teacher_short_name
    - ignore # Fach
    - ignore # Raum
    - field_type: ignore # Tag
      column_name: day
    - field_type: ignore # Stunde
      column_name: period
    - ignore # Stundenlänge
    - ignore # ?
    - field_type: slot_by_day_and_period
      virtual: true
      template: |
        {{ day }}-{{ period }}
    - field_type: course_bundle_by_course_unique_reference # Unt-Nummer
      virtual: true
      template: |
        {{ school_term }}-{{ course_reference }}
    - field_type: unique_reference
      virtual: true
      template: |
        {{ course_reference }}-{{ additional_params.validity_range }}-{{ day }}-{{ period }}-{{ teacher_short_name }}
    - field_type: lesson_for_bundle_by_unique_reference
      virtual: true
      template: |
        {{ course_reference }}-{{ additional_params.validity_range }}-{{ day }}-{{ period }}-{{ teacher_short_name }}
    - field_type: weekly_recurrence
      virtual: true
      template: "{{ day }}"

demo_template:
  model: core.Person
  verbose_name: "Demo Template"
  extra_args:
    has_header_row: true
    separator: ","
  fields:
    - field_type: unique_reference
      priority: 20
    - first_name
    - last_name
    - ignore
    - short_name
    - street
    - housenumber
    - postal_code
    - place
    - field_type: phone_number
      db_field: mobile_number
    - phone_number
    - email
    - date_of_birth
    - ignore
    - sex
    - photo
    - ignore
    - primary_group_short_name
