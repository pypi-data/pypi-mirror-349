import{a as y,v as I,w as L}from"./runtime-dom.esm-bundler.DChKj6X8.js";import{P as R}from"./PlusIcon.CLPjCzPo.js";import{M as j}from"./MinusIcon.BnPCOBQF.js";/* empty css                        */import{_ as P}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{d as S,t as O,r as m,g as N,p as A,o as F,h as s,c as r,a as e,n as g,b as T,e as U,w as c,F as z,k as D,i as x}from"./runtime-core.esm-bundler.Y6RLDZTT.js";const Y=S({__name:"ExperimentContributions",props:{modelValue:{},importMode:{type:Boolean},formWrap:{type:Boolean},hideLabel:{type:Boolean}},emits:["update:modelValue"],setup(w,{expose:o,emit:V}){o();const t=w,{modelValue:a,importMode:M,formWrap:n}=O(t),i=V,l=m("none"),f=m("none"),C=m("none"),_=m("none"),u=m([""]),v=m(["none"]),E=N(()=>u.value.length<2),W=()=>{u.value.push(""),v.value.push("none")},H=d=>{u.value.splice(d,1),v.value.splice(d,1)},h=N(()=>{let d={availability:l.value,latency:f.value,security:C.value,errors:_.value};for(const[p,b]of u.value.entries())b!==""&&(d[b]=v.value[p]);return d});A(h,async()=>{i("update:modelValue",h.value)});function k(){l.value=a.value.availability,f.value=a.value.latency,C.value=a.value.security,_.value=a.value.errors,Object.keys(a.value).forEach(p=>{if(!["availability","latency","security","errors"].includes(p)){const b=a.value[p];["none","low","medium","high"].includes(b)&&(u.value.unshift(p),v.value.unshift(b))}})}F(()=>{k()});const B={props:t,modelValue:a,importMode:M,formWrap:n,emit:i,availabilityValue:l,latencyValue:f,securityValue:C,errorsValue:_,customContributions:u,customContributionsValues:v,hideRemoveCustom:E,addCustom:W,removeCustom:H,contributionsObject:h,initContributions:k,PlusIcon:R,MinusIcon:j};return Object.defineProperty(B,"__isScriptSetup",{enumerable:!1,value:!0}),B}}),q={class:"inputWrapper"},G={key:0,class:"contributions__title"},J={key:2,class:"inputWrapper__help"},K={class:"contributions__item"},Q={class:"contributions__item"},X={class:"contributions__item"},Z={class:"contributions__item"},$=["onUpdate:modelValue"],ee=["onUpdate:modelValue"],oe=["onClick"];function te(w,o,V,t,a,M){return s(),r("div",{class:g(["contributions",{form:t.formWrap}])},[e("div",q,[t.importMode?(s(),r("h3",G," Contributions are not defined ")):(s(),r("h3",{key:1,class:g(["contributions__title",{"screen-reader-text":V.hideLabel}])}," Contributions ",2)),o[15]||(o[15]=e("p",{class:"inputWrapper__help"},[T(" Contributions describe the valuable system properties an experiment targets as well as how much they contributes to it. "),e("a",{href:"https://reliably.com/docs/guides/contributions/",target:"_blank",rel:"noopener norefere"}," Read the documentation page. ")],-1)),t.importMode?(s(),r("p",J," You can add contributions now. ")):U("",!0),e("div",K,[o[5]||(o[5]=e("label",{for:"availabityValue"},"Availability",-1)),c(e("select",{name:"availabilityValue",id:"availabilityValue","onUpdate:modelValue":o[0]||(o[0]=n=>t.availabilityValue=n)},o[4]||(o[4]=[e("option",{value:"none"},"None",-1),e("option",{value:"low"},"Low",-1),e("option",{value:"medium"},"Medium",-1),e("option",{value:"high"},"High",-1)]),512),[[y,t.availabilityValue]])]),e("div",Q,[o[7]||(o[7]=e("label",{for:"latencyValue"},"Latency",-1)),c(e("select",{name:"latencyValue",id:"latencyValue","onUpdate:modelValue":o[1]||(o[1]=n=>t.latencyValue=n)},o[6]||(o[6]=[e("option",{value:"none"},"None",-1),e("option",{value:"low"},"Low",-1),e("option",{value:"medium"},"Medium",-1),e("option",{value:"high"},"High",-1)]),512),[[y,t.latencyValue]])]),e("div",X,[o[9]||(o[9]=e("label",{for:"securityValue"},"Security",-1)),c(e("select",{name:"securityValue",id:"securityValue","onUpdate:modelValue":o[2]||(o[2]=n=>t.securityValue=n)},o[8]||(o[8]=[e("option",{value:"none"},"None",-1),e("option",{value:"low"},"Low",-1),e("option",{value:"medium"},"Medium",-1),e("option",{value:"high"},"High",-1)]),512),[[y,t.securityValue]])]),e("div",Z,[o[11]||(o[11]=e("label",{for:"errorsValue"},"Errors",-1)),c(e("select",{name:"errorsValue",id:"errorsValue","onUpdate:modelValue":o[3]||(o[3]=n=>t.errorsValue=n)},o[10]||(o[10]=[e("option",{value:"none"},"None",-1),e("option",{value:"low"},"Low",-1),e("option",{value:"medium"},"Medium",-1),e("option",{value:"high"},"High",-1)]),512),[[y,t.errorsValue]])]),(s(!0),r(z,null,D(t.customContributions,(n,i)=>(s(),r("div",{class:"contributions__item",key:i},[c(e("input",{type:"text","onUpdate:modelValue":l=>t.customContributions[i]=l},null,8,$),[[I,t.customContributions[i]]]),c(e("select",{name:"errorsValue",id:"errorsValue","onUpdate:modelValue":l=>t.customContributionsValues[i]=l},o[12]||(o[12]=[e("option",{value:"none"},"None",-1),e("option",{value:"low"},"Low",-1),e("option",{value:"medium"},"Medium",-1),e("option",{value:"high"},"High",-1)]),8,ee),[[y,t.customContributionsValues[i]]]),e("button",{class:g(["customContributionButton",{"customContributionButton--hidden":t.hideRemoveCustom}]),onClick:L(l=>t.removeCustom(i),["prevent"])},[o[13]||(o[13]=e("span",{class:"screen-reader-text"},"Remove this contribution",-1)),x(t.MinusIcon)],10,oe),i===t.customContributions.length-1?(s(),r("button",{key:0,class:"customContributionButton",onClick:L(t.addCustom,["prevent"])},[o[14]||(o[14]=e("span",{class:"screen-reader-text"},"Add a contribution",-1)),x(t.PlusIcon)])):U("",!0)]))),128))])],2)}const ue=P(Y,[["render",te],["__scopeId","data-v-dd8c2319"]]);export{ue as E};
