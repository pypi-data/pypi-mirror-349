import{h as t}from"./objects.CrQdKsRW.js";function J(e){return d(e)?c(e)?g(e)?h(e)?m(e)?v(e)?V(e)?l(e)?C(e)?K(e)?U(e)?"":"<code>rollbacks</code> property is missing or invalid":"<code>method</code> property is missing or invalid":"<code>steady-state-hypothesis</code> property is invalid":"<code>controls</code> property is invalid":"<code>extensions</code> property is invalid":"<code>secrets</code> property is invalid":"<code>configuration</code> property is invalid":"<code>tags</code> property is invalid":"<code>contributions</code> property is invalid":"<code>description</code> property is missing or invalid":"<code>title</code> property is missing or invalid"}function d(e){return t(e,"title")?typeof e.title=="string"&&e.title!=="":!1}function c(e){return t(e,"description")?typeof e.description=="string"&&e.description!=="":!1}function g(e){const r=["none","low","medium","high"];if(t(e,"contributions")){let s=e.contributions;if(s!==void 0){for(const[n,i]of Object.entries(s))if(!r.includes(i))return!1}}return!0}function h(e){if(t(e,"tags")){if(!Array.isArray(e.tags))return!1;let r=!0;if(e.tags.every(s=>typeof s!="string"?(r=!1,!1):!0),!r)return!1}return!0}function m(e){if(t(e,"configuration")){let r=e.configuration;if(r!==void 0){if(typeof r!="object")return!1;for(const[s,n]of Object.entries(r))if(typeof n!="string"&&typeof n!="number"&&typeof n!="boolean"&&typeof n!="object")return!1}}return!0}function v(e){if(t(e,"secrets")){const r=e.secrets;if(typeof r!="object")return!1;{const s=Object.keys(r);let n=!0;if(s.every(i=>{const f=r[i];return typeof f!="object"?(n=!1,!1):(Object.keys(f).every(u=>!A(f[u])&&!k(f[u])&&!T(f[u])?(n=!1,!1):!0),n)}),!n)return!1}}return!0}function A(e){const r=typeof e;return r==="string"||r==="boolean"||r==="number"}function k(e){if(typeof e!="object")return!1;const r=Object.keys(e);let s=!0;return r.every(n=>n==="type"?e.type!=="env"?(s=!1,!1):!0:n==="key"?typeof e.key!="string"?(s=!1,!1):!0:(s=!1,!1)),s}function T(e){if(typeof e!="object")return!1;const r=Object.keys(e);let s=!0;return r.every(n=>n==="type"?e.type!=="vault"?(s=!1,!1):!0:n==="path"?typeof e.path!="string"?(s=!1,!1):!0:(s=!1,!1)),s}function V(e){if(t(e,"extensions")){let r=e.extensions;if(r!==void 0){if(!Array.isArray(r))return!1;let s=!0;if(r.every(n=>t(n,"name")?!0:(s=!1,!1)),!s)return!1}}return!0}function l(e){if(t(e,"controls")){let r=e.controls;if(r!==void 0){if(!Array.isArray(r))return!1;let s=!0;if(r.every(n=>{if(t(n,"name")){if(typeof n.name!="string")return s=!1,!1}else return s=!1,!1;if(t(n,"provider")){if(!P(n.provider))return s=!1,!1}else return s=!1,!1;if(t(n,"scope")&&n.scope!=="before"&&n.scope!=="after")return s=!1,!1;if(t(n,"automatic")){if(typeof n.automatic!="boolean")return s=!1,!1}else return!0}),!s)return!1}}return!0}function P(e){if(t(e,"type")){if(e.type!=="python")return!1}else return!1;if(t(e,"module")){if(typeof e.module!="string")return!1}else return!1;return!0}function o(e){return typeof e!="object"?!1:E(e)||S(e)||O(e)}function E(e){if(t(e,"type")){if(e.type!=="python")return!1}else return!1;if(t(e,"module")){if(typeof e.module!="string")return!1}else return!1;if(t(e,"func")){if(typeof e.func!="string")return!1}else return!1;if(t(e,"arguments")&&typeof e.arguments!="object")return!1;if(t(e,"secrets")){let r=e.secrets;if(Array.isArray(r)){let s=!0;if(r.every(n=>typeof n!="string"?(s=!1,!1):!0),!s)return!1}else return!1}return!0}function S(e){if(t(e,"type")){if(e.type!=="http")return!1}else return!1;if(t(e,"url")){if(typeof e.url!="string")return!1;if(e.url==="")return!1}else return!1;if(t(e,"method")){if(typeof e.method!="string")return!1;if(!["GET","HEAD","POST","PUT","DELETE","CONNECT","OPTIONS","TRACE"].includes(e.method))return!1}if(t(e,"headers")){if(typeof e.headers!="object")return!1;if(Array.isArray(e.headers))return!1}if(t(e,"expected_status")&&typeof e.expected_status!="number"||t(e,"arguments")&&typeof e.arguments!="object")return!1;if(t(e,"timeout")){let r=e.timeout;if(typeof r!="number")if(Array.isArray(r)){if(r.length!==2||typeof r[0]!="number"||typeof r[1]!="number")return!1}else return!1}if(t(e,"secrets")){let r=e.secrets;if(Array.isArray(r)){let s=!0;if(r.every(n=>typeof n!="string"?(s=!1,!1):!0),!s)return!1}else return!1}return!0}function O(e){if(t(e,"type")){if(e.type!=="process")return!1}else return!1;if(t(e,"path")){if(typeof e.path!="string")return!1}else return!1;if(t(e,"arguments")&&(typeof e.arguments!="string"&&typeof e.arguments!="object"||Array.isArray(e.arguments))||t(e,"timeout")&&typeof e.timeout!="number")return!1;if(t(e,"secrets")){let r=e.secrets;if(Array.isArray(r)){let s=!0;if(r.every(n=>typeof n!="string"?(s=!1,!1):!0),!s)return!1}else return!1}return!0}function C(e){if(t(e,"steady-state-hypothesis")){const r=e["steady-state-hypothesis"];if(r!==void 0){if(typeof r!="object"||Array.isArray(r))return!1;if(t(r,"title")){if(typeof r.title!="string")return!1}else return!1;if(t(r,"probes"))if(Array.isArray(r.probes)){if(r.probes.length===0)return!1;let s=!0;if(r.probes.every(n=>{if(a(n))if(t(n,"tolerance")){if(!R(n.tolerance))return s=!1,!1}else return s=!1,!1;else return s=!1,!1;return!0}),!s)return!1}else return!1;else return!1}}return!0}function a(e){if(t(e,"type")){if(e.type!=="probe")return!1}else return!1;if(t(e,"name")){if(typeof e.name!="string")return!1}else return!1;if(t(e,"provider")){if(!o(e.provider))return!1}else return!1;return!(t(e,"background")&&typeof e.background!="boolean"||l(e)===!1)}function R(e){return y(e)||w(e)||M(e)}function y(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"}function w(e){if(Array.isArray(e)){if(e.length===0)return!1;{let r=!0;if(e.every(s=>y(s)?!0:(r=!1,!1)),!r)return!1}}else return!1;return!0}function M(e){return typeof e!="object"||e===null?!1:t(e,"type")?D(e)||I(e)||N(e)?!0:!!H(e):!1}function D(e){return e.type!=="probe"?!1:!!a(e)}function I(e){if(e.type!=="regex")return!1;if(t(e,"pattern"))try{new RegExp(e.pattern)}catch{return!1}else return!1;return!0}function N(e){if(e.type!=="jsonpath")return!1;if(t(e,"path")){if(t(e,"expect")&&!["boolean","string","number"].includes(typeof e.expect))return!1}else return!1;return!0}function H(e){if(e.type!=="range")return!1;if(t(e,"range"))if(Array.isArray(e.range)){if(e.range.length<2)return!1;{let r=!0;return e.range.every(s=>typeof s!="number"?(r=!1,!1):!0),!!r}}else return!1;else return!1}function K(e){if(t(e,"method")){const r=e.method;if(r!==void 0)if(Array.isArray(r)){let s=!0;if(r.every(n=>!p(n)&&!a(n)?(s=!1,!1):!0),s)return!0}else return!1}return!1}function p(e){if(t(e,"type")){if(e.type!=="action")return!1}else return!1;if(t(e,"name")){if(typeof e.name!="string")return!1}else return!1;if(t(e,"provider")){if(!o(e.provider))return!1}else return!1;if(t(e,"controls")&&l(e)===!1||t(e,"background")&&typeof e.background!="boolean")return!1;if(t(e,"pauses")){const r=e.pauses;if(r===void 0)return!1;if(!t(r,"before")&&!t(r,"after")||t(r,"before")&&typeof r.before!="number"&&typeof r.before!="string"||t(r,"after")&&typeof r.after!="number"&&typeof r.after!="string")return!1}return!0}function U(e){if(t(e,"rollbacks")){const r=e.rollbacks;if(r!==void 0)if(Array.isArray(r)){let s=!0;if(r.every(n=>p(n)?!0:(s=!1,!1)),!s)return!1}else return!1}return!0}function L(e){const r=e.extensions;if(r!==void 0){const s=r.findIndex(n=>n.name==="reliablyui");return s>-1?r[s]:null}return null}export{J as c,L as g};
