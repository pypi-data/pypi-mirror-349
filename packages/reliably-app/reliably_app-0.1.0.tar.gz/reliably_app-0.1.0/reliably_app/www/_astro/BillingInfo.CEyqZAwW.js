import{v as se,w as v,b as ue}from"./runtime-dom.esm-bundler.DChKj6X8.js";import{u as xe}from"./index.DUHDLdXK.js";import{o as ae,m as me,a as Se,s as Ie,e as Me}from"./user.TOXT8CXA.js";import{h as S}from"./user.DMXaCJik.js";import{i as I,d as C}from"./loader.BQDlK3Tc.js";import{a as P}from"./notifications.NSMm1_5U.js";import{u as x}from"./index.CwJxcYEt.js";import{a as Le}from"./index.BSdFiPHn.js";/* empty css                              */import{_ as B}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{d as q,t as le,r as p,h as r,c as d,a as t,j as _,w as N,F as pe,l as O,e as c,m as J,b as l,i as o,g as f,o as ce,n as de,f as De,k as Ee}from"./runtime-core.esm-bundler.Y6RLDZTT.js";import{M as ve}from"./ModalWindow.CYXe6vRl.js";import{D as Te}from"./DeleteButton.Ch6PF2gM.js";import{C as he}from"./CheckIcon.Cp1OA8SI.js";import{M as Re}from"./MinusIcon.BnPCOBQF.js";import{H as ze}from"./HelpCircle.XFsukWe6.js";import{C as Ne}from"./CloseIcon.DLOPA8gH.js";import{P as Oe}from"./Pager.Cmasf88E.js";/* empty css                        */import"./TrashIcon.BzGEjUcP.js";/* empty css                       */const Ae={ASSETS_PREFIX:void 0,BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SITE:void 0,SSR:!1},Q=Ae===void 0?"https://62ff903e9350a1e548e1952e.mockapi.io/api":void 0,Be=Q==="https://62ff903e9350a1e548e1952e.mockapi.io/api",je=Be?"subscriptions-current":"subscriptions/current",E=x(ae),A=me({org_id:null,subscription:null,plan:{name:"free",remaining:{executions:0,experiments:0,minutes:0,members:0}},state:"empty"});async function Ve(i){return A.set(i),A.get()}async function We(){I(),A.setKey("state","loading");const i=`${Q}/organization/${E.value}/${je}`;try{const e=await fetch(i);if(e.status===403)S(E.value);else if(e.ok){const s=await e.json();let n={org_id:s.org_id,subscription:s.subscription,plan:s.plan,state:"ready"};Ve(n)}else throw new Error(e.statusText)}catch(e){const s={title:"Your subscription couldn't be fetched",message:e.message,type:"error"};P(s),A.setKey("state","error")}finally{C()}}async function Fe(i){I();const e=`${Q}/organization/${E.value}/subscriptions/checkout`;try{const s=await fetch(e,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(i)});if(s.status===403)S(E.value);else if(s.ok){const n=await s.json();if(n.err!=="")throw new Error(n.err);window.location.assign(n.link)}else throw new Error(s.statusText)}catch(s){const n={title:"We couldn't proceed to checkout",message:s.message,type:"error"};P(n)}finally{C()}}async function He(i){I();const e=`${Q}/organization/${E.value}/try-name-candidate`;try{const s=await fetch(e,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({name:i})});if(s.status===403)return S(E.value),{available:!1,err:"Name availability couldn't be checked. Please try again."};if(s.ok){const n=await s.json();return C(),{available:n.available,err:n.available?"":"This name is not available."}}else throw new Error(s.statusText)}catch{return C(),{available:!1,err:"Name availability couldn't be checked. Please try again."}}}const Ye={ASSETS_PREFIX:void 0,BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SITE:void 0,SSR:!1},j=Ye===void 0?"https://62ff903e9350a1e548e1952e.mockapi.io/api":void 0,Ke=j==="https://62ff903e9350a1e548e1952e.mockapi.io/api",Ge=Ke?"&limit=10":"",w=x(ae),T=me({page:0,users:[],total:0,state:"empty"});async function Je(i){return T.set(i),T.get()}const ge=async i=>{I();const e=`${j}/organization/${w.value}/users?page=${i}${Ge}`;try{const s=await fetch(e);if(s.status===403)S(w.value);else if(s.ok){const n=await s.json();let a={page:i,users:n.items,total:n.count,state:"ready"};Je(a)}else throw new Error(s.statusText)}catch(s){const n={title:"Users couldn't be fetched",message:s.message,type:"error"};P(n),T.setKey("state","error")}finally{C()}},Xe=async(i,e)=>{I();const s=`${j}/organization/${w.value}/users/${i}`;try{const n=await fetch(s,{method:"DELETE"});if(n.status===403)S(w.value);else if(n.ok){const a={title:"User was successfully removed",message:`${e} is not a member of your organization anymore.`,type:"success"};P(a)}else throw new Error(n.statusText)}catch(n){const a={title:"User couldn't be removed",message:n.message,type:"error"};P(a)}finally{C()}},te=Le({link:null,state:"empty"});async function X(i){return te.set(i),te.get()}const qe=async()=>{I();const i=`${j}/organization/${w.value}/invite`;try{const e=await fetch(i);if(e.status===403)S(w.value);else if(e.status===429)X({link:"Organizations on a Free plan can't invite additional team members",state:"ready"});else if(e.ok){const s=await e.json();if(s.link!==null){let n={link:`https://app.reliably.com/join/?invite=${s.link}`,state:"ready"};X(n)}else fe()}else throw new Error(e.statusText)}catch(e){const s={title:"Invitation link couldn't be fetched",message:e.message,type:"error"};P(s),T.setKey("state","error")}finally{C()}},fe=async()=>{I();const i=`${j}/organization/${w.value}/invite/generate`;try{const e=await fetch(i);if(e.status===403)S(w.value);else if(e.status===429)X({link:"Organizations on a Free plan can't invite additional team members",state:"ready"});else if(e.ok){let n={link:`https://app.reliably.com/join/?invite=${(await e.json()).link}`,state:"ready"};X(n)}else throw new Error(e.statusText)}catch(e){const s={title:"Invitation link couldn't be created",message:e.message,type:"error"};P(s),T.setKey("state","error")}finally{C()}},Qe=q({__name:"ConfirmRemoveUser",props:{user:{}},emits:["close"],setup(i,{expose:e,emit:s}){e();const n=i,{user:a}=le(n),m=p(""),u=s,k={props:n,user:a,confirmation:m,emit:u,cancel:()=>{u("close")},proceed:async()=>{await Xe(a.value.id,a.value.username),await ge(),u("close")}};return Object.defineProperty(k,"__isScriptSetup",{enumerable:!1,value:!0}),k}}),Ze={class:"form"},$e={class:"inputWrapper"},en={class:"inputWrapper"},nn=["disabled"];function tn(i,e,s,n,a,m){return r(),d(pe,null,[t("p",null," You are about to remove user "+_(n.user.username)+" from your organization. ",1),t("p",null,"Type '"+_(n.user.username)+"' to proceed.",1),t("form",Ze,[t("div",$e,[e[1]||(e[1]=t("label",{for:"confirmDelete"},null,-1)),N(t("input",{type:"text",id:"confirmDelete",name:"confirmDelete","onUpdate:modelValue":e[0]||(e[0]=u=>n.confirmation=u)},null,512),[[se,n.confirmation]])]),t("div",en,[t("button",{onClick:v(n.cancel,["prevent"]),class:"button"},"Cancel"),t("button",{onClick:v(n.proceed,["prevent"]),class:"button button--destructive",disabled:n.confirmation!==n.user.username}," Remove ",8,nn)])])],64)}const sn=B(Qe,[["render",tn],["__scopeId","data-v-3184e005"]]),an=q({__name:"UserPreview",props:{user:{},isRemovable:{type:Boolean}},setup(i,{expose:e}){e();const s=i,{user:n}=le(s),a=p(!1);function m(){a.value=!0}function u(){a.value=!1}const b={props:s,user:n,isRemoveDisplayed:a,displayRemoveModal:m,closeRemoveModal:u,ConfirmRemoveUser:sn,ModalWindow:ve,DeleteButton:Te};return Object.defineProperty(b,"__isScriptSetup",{enumerable:!1,value:!0}),b}}),ln={class:"tableList__row userPreview"},on={class:"tableList__cell"},rn={class:"tableList__cell tableList__cell--small"};function un(i,e,s,n,a,m){return r(),d("li",ln,[t("div",on,_(n.user.username),1),t("div",rn,[s.isRemovable?(r(),O(n.DeleteButton,{key:0,type:"user",onClick:v(n.displayRemoveModal,["prevent"])})):c("",!0)]),n.isRemoveDisplayed?(r(),O(n.ModalWindow,{key:0,hasCloseButton:!0,hasPadding:!0,onClose:n.closeRemoveModal},{title:J(()=>e[0]||(e[0]=[l("Remove User")])),content:J(()=>[o(n.ConfirmRemoveUser,{user:n.user,onClose:n.closeRemoveModal},null,8,["user"])]),_:1})):c("",!0)])}const dn=B(an,[["render",un],["__scopeId","data-v-2f844638"]]),mn={},pn={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-arrow-left"};function cn(i,e){return r(),d("svg",pn,e[0]||(e[0]=[t("line",{x1:"19",y1:"12",x2:"5",y2:"12"},null,-1),t("polyline",{points:"12 19 5 12 12 5"},null,-1)]))}const vn=B(mn,[["render",cn]]),gn=q({__name:"PlanUpgrade",props:{from:{},to:{}},setup(i,{expose:e}){e();const s=i,{from:n,to:a}=le(s),m=p(""),u=p({available:!1,err:""});async function b(){u.value=await He(m.value)}const M=f(()=>m.value===""||!u.value.available),k=p(!0),h=p(!1);function Z(){h.value=!0,k.value=!1}function V(){h.value=!1,k.value=!0}const L=f(()=>n.value==="free"),W=f(()=>n.value==="start"||n.value==="free"),F=f(()=>n.value==="start"||n.value==="scale"||n.value==="free"),U=p(""),H=f(()=>m.value===""||U.value==="");function Y(){Fe({org_name:m.value,plan_name:U.value})}ce(()=>{(a.value==="start"||a.value==="scale")&&(U.value=a.value)});const D={props:s,from:n,to:a,organizationName:m,isNameAvailable:u,checkAvailability:b,isContinueDisabled:M,isBackButtonDisabled:k,arePlansDisplayed:h,goToPlans:Z,goToName:V,isStartPlanDisplayed:L,isScalePlanDisplayed:W,isEnterprisePlanDisplayed:F,selectedPlan:U,isProceedDisabled:H,proceed:Y,ArrowLeft:vn,CheckIcon:he,MinusIcon:Re};return Object.defineProperty(D,"__isScriptSetup",{enumerable:!1,value:!0}),D}}),fn={class:"planUpgrade"},bn={key:0,class:"inputWrapper__help"},yn={class:"text-center"},kn=["disabled"],_n={class:"planUpgrade__plansWrapper"},Cn=["disabled"],Pn={class:"planUpgrade__plans list-reset"},wn={key:0,class:"planUpgradePlan"},Un={for:"pickStartPlan"},xn={class:"planUpgradePlan__content"},Sn={class:"planUpgradePlan__features list-reset"},In={class:"unavailable"},Mn={class:"unavailable"},Ln={class:"unavailable"},Dn={key:1,class:"planUpgradePlan"},En={for:"pickScalePlan"},Tn={class:"planUpgradePlan__features list-reset"},hn={class:"unavailable"},Rn={class:"unavailable"},zn={key:2,class:"planUpgradePlan planUpgradePlan--enterprise"},Nn={class:"planUpgradePlan__content"},On={class:"planUpgradePlan__features list-reset"},An={class:"planUpgrade__proceed text-center"},Bn=["disabled"];function jn(i,e,s,n,a,m){return r(),d("div",fn,[t("form",{class:de(["planUpgrade__form form",{"planUpgrade__form--step-2":n.arePlansDisplayed}])},[n.from==="free"?(r(),d("div",{key:0,class:de(["inputWrapper planUpgrade__organizationName",{"inputWrapper--error":n.isNameAvailable.err!==""}])},[e[4]||(e[4]=t("h3",null,"Choose a name for your organization",-1)),t("div",null,[e[3]||(e[3]=t("label",{for:"organizationName"},"Organization name",-1)),N(t("input",{type:"text",name:"organizationName",id:"organizationName","onUpdate:modelValue":e[0]||(e[0]=u=>n.organizationName=u),onKeyup:n.checkAvailability},null,544),[[se,n.organizationName]]),n.isNameAvailable.err!==""?(r(),d("p",bn,_(n.isNameAvailable.err),1)):c("",!0)]),e[5]||(e[5]=t("p",{class:"planUpgrade__help"}," Your current free organization is named after your username. When upgrading, you have to choose a different. Your company name, or your team are good options. ",-1)),t("div",yn,[t("button",{onClick:v(n.goToPlans,["prevent"]),class:"button button--primary",disabled:n.isContinueDisabled}," Continue ",8,kn)])],2)):c("",!0),t("div",_n,[e[62]||(e[62]=t("h3",null,"Select a plan",-1)),t("button",{class:"button button--icon hasTooltip hasTooltip--center-right","aria-label":"Back",label:"Back",onClick:v(n.goToName,["prevent"]),disabled:n.isBackButtonDisabled},[o(n.ArrowLeft)],8,Cn),t("ul",Pn,[n.isStartPlanDisplayed?(r(),d("li",wn,[N(t("input",{type:"radio",value:"start",id:"pickStartPlan",name:"pickStartPlan","onUpdate:modelValue":e[1]||(e[1]=u=>n.selectedPlan=u)},null,512),[[ue,n.selectedPlan]]),t("label",Un,[t("div",xn,[e[24]||(e[24]=t("div",{class:"planUpgradePlan__name"},"Start",-1)),e[25]||(e[25]=t("div",{class:"planUpgradePlan__price"},[t("span",{class:"planUpgradePlan__currency"},"£"),l("40 ")],-1)),e[26]||(e[26]=t("div",{class:"planUpgradePlan__billing"},"Billed monthly",-1)),t("ul",Sn,[t("li",null,[o(n.CheckIcon),e[6]||(e[6]=t("strong",null,"3",-1)),e[7]||(e[7]=l(" team members"))]),t("li",null,[o(n.CheckIcon),e[8]||(e[8]=t("strong",null,"300",-1)),e[9]||(e[9]=l(" minutes Cloud Executions per month "))]),t("li",null,[o(n.CheckIcon),e[10]||(e[10]=t("strong",null,"30",-1)),e[11]||(e[11]=l(" minutes Cloud Execution limit "))]),t("li",null,[o(n.CheckIcon),e[12]||(e[12]=t("strong",null,"Unlimited",-1)),e[13]||(e[13]=l(" Custom Experiments "))]),t("li",null,[o(n.CheckIcon),e[14]||(e[14]=t("strong",null,"3",-1)),e[15]||(e[15]=l(" Custom Templates"))]),t("li",null,[o(n.CheckIcon),e[16]||(e[16]=t("strong",null,"3 months",-1)),e[17]||(e[17]=l(" Data Retention"))]),t("li",In,[o(n.MinusIcon),e[18]||(e[18]=l(" Email Support ")),e[19]||(e[19]=t("span",{class:"screen-reader-text"},"not included",-1))]),t("li",Mn,[o(n.MinusIcon),e[20]||(e[20]=l(" Private Cloud / On Prem ")),e[21]||(e[21]=t("span",{class:"screen-reader-text"},"not included",-1))]),t("li",Ln,[o(n.MinusIcon),e[22]||(e[22]=l(" Support SLA ")),e[23]||(e[23]=t("span",{class:"screen-reader-text"},"not included",-1))])])])])])):c("",!0),n.isScalePlanDisplayed?(r(),d("li",Dn,[N(t("input",{type:"radio",value:"scale",id:"pickScalePlan",name:"pickScalePlan","onUpdate:modelValue":e[2]||(e[2]=u=>n.selectedPlan=u)},null,512),[[ue,n.selectedPlan]]),t("label",En,[e[44]||(e[44]=De('<div class="planUpgradePlan__content" data-v-2071ba42><div class="planUpgradePlan__name" data-v-2071ba42>Scale</div><div class="planUpgradePlan__price" data-v-2071ba42><span class="planUpgradePlan__currency" data-v-2071ba42>£</span>330 </div><div class="planUpgradePlan__billing" data-v-2071ba42>Billed monthly</div></div>',1)),t("ul",Tn,[t("li",null,[o(n.CheckIcon),e[27]||(e[27]=t("strong",null,"5+",-1)),e[28]||(e[28]=l(" team members"))]),t("li",null,[o(n.CheckIcon),e[29]||(e[29]=t("strong",null,"Unlimited",-1)),e[30]||(e[30]=l(" Cloud Executions per month "))]),t("li",null,[o(n.CheckIcon),e[31]||(e[31]=t("strong",null,"60",-1)),e[32]||(e[32]=l(" minutes Cloud Execution limit "))]),t("li",null,[o(n.CheckIcon),e[33]||(e[33]=t("strong",null,"Unlimited",-1)),e[34]||(e[34]=l(" Custom Experiments "))]),t("li",null,[o(n.CheckIcon),e[35]||(e[35]=t("strong",null,"10",-1)),e[36]||(e[36]=l(" Custom Templates"))]),t("li",null,[o(n.CheckIcon),e[37]||(e[37]=t("strong",null,"12 months",-1)),e[38]||(e[38]=l(" Data Retention"))]),t("li",null,[o(n.CheckIcon),e[39]||(e[39]=l("Email Support"))]),t("li",hn,[o(n.MinusIcon),e[40]||(e[40]=l(" Private Cloud / On Prem ")),e[41]||(e[41]=t("span",{class:"screen-reader-text"},"not included",-1))]),t("li",Rn,[o(n.MinusIcon),e[42]||(e[42]=l(" Support SLA ")),e[43]||(e[43]=t("span",{class:"screen-reader-text"},"not included",-1))])])])])):c("",!0),n.isEnterprisePlanDisplayed?(r(),d("li",zn,[t("div",null,[t("div",Nn,[e[60]||(e[60]=t("div",{class:"planUpgradePlan__name"},"Enterprise",-1)),e[61]||(e[61]=t("div",{class:"planUpgradePlan__action"},[t("a",{href:"https://reliably.com/contact/",target:"_blank",rel:"noopener noreferer",class:"button button--secondary"}," Contact us ")],-1)),t("ul",On,[t("li",null,[o(n.CheckIcon),e[45]||(e[45]=t("strong",null,"5+",-1)),e[46]||(e[46]=l(" team members"))]),t("li",null,[o(n.CheckIcon),e[47]||(e[47]=t("strong",null,"Unlimited",-1)),e[48]||(e[48]=l(" Cloud Executions per month "))]),t("li",null,[o(n.CheckIcon),e[49]||(e[49]=t("strong",null,"60",-1)),e[50]||(e[50]=l(" minutes Cloud Execution limit "))]),t("li",null,[o(n.CheckIcon),e[51]||(e[51]=t("strong",null,"Unlimited",-1)),e[52]||(e[52]=l(" Custom Experiments "))]),t("li",null,[o(n.CheckIcon),e[53]||(e[53]=t("strong",null,"10",-1)),e[54]||(e[54]=l(" Custom Templates"))]),t("li",null,[o(n.CheckIcon),e[55]||(e[55]=t("strong",null,"12 months",-1)),e[56]||(e[56]=l(" Data Retention "))]),t("li",null,[o(n.CheckIcon),e[57]||(e[57]=l("Email Support"))]),t("li",null,[o(n.CheckIcon),e[58]||(e[58]=l("Private Cloud / On Prem"))]),t("li",null,[o(n.CheckIcon),e[59]||(e[59]=l("Support SLA"))])])])])])):c("",!0)]),e[63]||(e[63]=t("p",{class:"planUpgrade__plansHelp"},[l(" Still not sure what you need? "),t("br"),t("a",{href:"https://reliably.com/pricing/",target:"_blank",rel:"noopener noreferer"}," Check the complete list of features "),l(" for each plan. ")],-1)),t("div",An,[t("button",{onClick:v(n.proceed,["prevent"]),class:"button button--primary",disabled:n.isProceedDisabled}," Proceed to payment ",8,Bn)])])],2)])}const Vn=B(gn,[["render",jn],["__scopeId","data-v-2071ba42"]]),Wn=q({__name:"BillingInfo",setup(i,{expose:e}){e();const s=x(ae),n=x(Se),a=x(A),m=f(()=>a.value.plan.name==="onpremise"),u=f(()=>a.value?m.value?"an On-Premise":`a ${a.value.plan.name.charAt(0).toUpperCase()+a.value.plan.name.slice(1)}`:""),b=p(!1),M=p(!1);function k(){b.value=!1}function h(){M.value=!1}const Z=f(()=>{const y=a.value.plan.name;return y==="free"?{experiments:`<strong>${Math.max(0,a.value.plan.remaining.experiments)}</strong>/5`,minutes:`<strong>${Math.max(0,a.value.plan.remaining.minutes)}</strong>/180`,members:`<strong>${Math.max(0,a.value.plan.remaining.members)}</strong>/1`}:y==="start"?{experiments:"<strong>Unlimited</strong>",minutes:`<strong>${Math.max(0,a.value.plan.remaining.minutes)}</strong>/300`,members:`<strong>${Math.max(0,a.value.plan.remaining.members)}</strong>/3`}:y==="scale"?{experiments:"<strong>Unlimited</strong>",minutes:"<strong>Unlimited</strong>",members:`<strong>${Math.max(0,a.value.plan.remaining.members)}</strong>/5`}:{experiments:Math.max(0,a.value.plan.remaining.experiments).toString(),minutes:Math.max(0,a.value.plan.remaining.minutes).toString(),members:Math.max(0,a.value.plan.remaining.members).toString()}}),V=x(T),L=p(1),W=p(null),F=p({currentPage:1,lastPage:1,urlBase:""});async function U(){await ge(L.value),W.value.scrollIntoView(!0)}const H=()=>{let y={currentPage:L.value,lastPage:Math.ceil(V.value.total/10),urlBase:"/settings/organization/?users="};F.value=y},Y=f(()=>a.value.plan.name==="free"),D=x(te),K=p(""),{text:be,copy:oe,copied:ye,isSupported:ke}=xe(),_e=()=>{Y.value||(oe(K.value),P({title:"Invitation link copied to clipboard",message:"Your invitation link has been copied to your clipboard. Go invite some teammates!",type:"success"}))};async function Ce(){await fe(),$()}function $(){D.value.link===null?K.value="":K.value=D.value.link}async function ie(){let y=window.location,g=new URLSearchParams(y.search),R="",ne="",z="";g.has("plan")&&(G.value=!0,ee.value=g.get("plan")),g.has("success")&&(R=g.get("success")),g.has("org")&&(ne=g.get("org")),g.has("orgid")&&(z=g.get("orgid")),g.has("users")&&(L.value=parseInt(g.get("users"))),R!==""&&ne!==""&&z!==""&&(s.value!==z?(await Me(z),y.replace(`/settings/organization/?success=${R}&orgid=${z}&org=${ne}`)):R==="true"?b.value=!0:R==="false"&&(M.value=!0))}const G=p(!1),ee=p("");function Pe(){G.value=!0}function we(){G.value=!1}const Ue=f(()=>ee.value!==""?"Configure your new Reliably organization":a.value.plan.name==="free"?"Switch to a paid plan":"Upgrade your plan");ce(async()=>{await ie(),n.value===""&&await Ie(),await We(),await U(),H(),await qe(),$()});const re={currentOrganizationId:s,currentOrganizationName:n,currentSub:a,isOnPrem:m,displayedPlanName:u,isSuccessDisplayed:b,isFailDisplayed:M,closeSuccess:k,closeFail:h,remaining:Z,usersList:V,usersPage:L,billingUsers:W,pagerData:F,getUsers:U,getpagerData:H,areInvitationsDisabled:Y,invitation:D,link:K,text:be,copy:oe,copied:ye,isSupported:ke,copyLink:_e,generateNewLink:Ce,updateDisplayedLink:$,handleURLParams:ie,isModalDisplayed:G,preSelectedPlan:ee,displayModal:Pe,closeModal:we,modalTitle:Ue,UserPreview:dn,ModalWindow:ve,PlanUpgrade:Vn,HelpCircle:ze,CloseIcon:Ne,Pager:Oe};return Object.defineProperty(re,"__isScriptSetup",{enumerable:!1,value:!0}),re}}),Fn={class:"billing"},Hn={key:0,class:"billingEvent billingEvent--success"},Yn={class:"billingEvent__plan"},Kn={key:1,class:"billingEvent billingEvent--fail"},Gn={class:"billingCurrent"},Jn={class:"billingCurrent__plan"},Xn={class:"billingUsage"},qn={key:0},Qn=["innerHTML"],Zn={class:"hasTooltip hasTooltip--bottom-center","aria-label":"Reset on each billing period",label:"Reset on each billing period"},$n={key:0},et=["innerHTML"],nt={key:0},tt=["innerHTML"],st={class:"billingUsers",ref:"billingUsers"},at={class:"usersList tableList"},lt={class:"invitationLink"},ot={class:"invitationLink__wrapper"},it={class:"invitationLink__link"},rt=["disabled"],ut={class:"invitationLink__new"},dt=["disabled"];function mt(i,e,s,n,a,m){return r(),d("div",Fn,[n.isSuccessDisplayed?(r(),d("div",Hn,[e[5]||(e[5]=t("h2",null,"🎉 Congratulations!",-1)),t("p",null,[e[2]||(e[2]=l(" Your payment has been processed and your ")),t("span",Yn,_(n.currentSub.plan.name),1),e[3]||(e[3]=l(" plan has been successfully activated! "))]),t("button",{onClick:v(n.closeSuccess,["prevent"]),class:"button button--icon"},[o(n.CloseIcon),e[4]||(e[4]=t("span",{class:"screen-reader-text"},"Close",-1))])])):c("",!0),n.isFailDisplayed?(r(),d("div",Kn,[e[7]||(e[7]=t("h2",null,"Something went wrong",-1)),e[8]||(e[8]=t("p",null,[l(" We couldn't process your payment. "),t("a",{href:"https://reliably.com/contact/",target:"_blank",rel:"noreferer noopener"},"Get in touch"),l(" so we can fix this. ")],-1)),t("button",{onClick:v(n.closeFail,["prevent"]),class:"button button--icon"},[o(n.CloseIcon),e[6]||(e[6]=t("span",{class:"screen-reader-text"},"Close",-1))])])):c("",!0),t("section",Gn,[t("p",null,[e[9]||(e[9]=l(" Your organization ")),t("strong",null,_(n.currentOrganizationName),1),e[10]||(e[10]=l(" is currently using ")),t("strong",Jn,_(n.displayedPlanName)+" Plan",1)]),n.currentSub.plan.name==="free"?(r(),d("button",{key:0,onClick:n.displayModal,class:"button button--primary"}," Switch to a paid plan ")):c("",!0),n.currentSub.plan.name==="start"||n.currentSub.plan.name==="scale"?(r(),d("button",{key:1,onClick:n.displayModal,class:"button button--primary"}," Upgrade ")):c("",!0)]),t("section",Xn,[e[14]||(e[14]=t("h2",null,"Remaining Resources",-1)),t("dl",null,[t("div",null,[e[11]||(e[11]=t("dt",null,"Custom Experiments",-1)),n.isOnPrem?(r(),d("dd",qn,"Unlimited")):(r(),d("dd",{key:1,innerHTML:n.remaining.experiments},null,8,Qn))]),t("div",null,[t("dt",null,[e[12]||(e[12]=l(" Cloud Experiments Minutes ")),t("span",Zn,[o(n.HelpCircle)])]),n.isOnPrem?(r(),d("dd",$n,"Unlimited")):(r(),d("dd",{key:1,innerHTML:n.remaining.minutes},null,8,et))]),t("div",null,[e[13]||(e[13]=t("dt",null,"Team Members",-1)),n.isOnPrem?(r(),d("dd",nt,"Unlimited")):(r(),d("dd",{key:1,innerHTML:n.remaining.members},null,8,tt))])])]),t("section",st,[e[16]||(e[16]=t("h2",null,"Team Members",-1)),t("ul",at,[e[15]||(e[15]=t("li",{class:"tableList__row tableList__row--header"},[t("div",{class:"tableList__cell"},"Username"),t("div",{class:"tableList__cell"},[t("span",{class:"screen-reader-text"},"Actions")])],-1)),(r(!0),d(pe,null,Ee(n.usersList.users,u=>(r(),O(n.UserPreview,{user:u,isRemovable:n.usersList.users.length>1,key:u.id},null,8,["user","isRemovable"]))),128))]),n.usersList.total>10?(r(),O(n.Pager,{key:0,page:n.pagerData},null,8,["page"])):c("",!0)],512),t("section",lt,[e[19]||(e[19]=t("h2",null,"Invitation Link",-1)),t("div",ot,[t("div",it,[N(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=u=>n.link=u),readonly:"",onClick:v(n.copyLink,["prevent"])},null,512),[[se,n.link]]),t("button",{class:"button button--primary",onClick:v(n.copyLink,["prevent"]),disabled:n.areInvitationsDisabled}," Copy to clipboard ",8,rt)]),t("div",ut,[e[17]||(e[17]=t("h3",null,"Generate a new link",-1)),e[18]||(e[18]=t("p",null," Generating a new link will disable the existing link. Members who joined using this link will remain in your organization, but no new members will be able to join with the disabled link. ",-1)),t("button",{class:"button button--creative",onClick:e[1]||(e[1]=v(u=>n.generateNewLink(),["prevent"])),disabled:n.areInvitationsDisabled}," Generate new link ",8,dt)])])]),n.isModalDisplayed?(r(),O(n.ModalWindow,{key:2,isUnlimited:!0,hasCloseButton:!0,hasPadding:!1,onClose:n.closeModal},{title:J(()=>[l(_(n.modalTitle),1)]),content:J(()=>[o(n.PlanUpgrade,{from:n.currentSub.plan.name,to:n.preSelectedPlan,onClose:n.closeModal},null,8,["from","to"])]),_:1})):c("",!0)])}const ht=B(Wn,[["render",mt]]);export{ht as default};
