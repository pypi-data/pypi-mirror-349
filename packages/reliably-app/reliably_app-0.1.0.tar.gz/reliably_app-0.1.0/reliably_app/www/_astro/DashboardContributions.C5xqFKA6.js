import{w as S}from"./runtime-dom.esm-bundler.DChKj6X8.js";import{d as F,f as N,c as M,b as O}from"./series.DZGccXJd.js";import{L as R}from"./LoadingPlaceholder.BoWrztnb.js";import{_ as D}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{h as a,c,a as i,d as E,r as h,g as k,o as P,l as f,i as w,b as C,n as T,e as x}from"./runtime-core.esm-bundler.Y6RLDZTT.js";import{C as z,R as W}from"./index.B8cAO9n_.js";/* empty css                       */import{u as H}from"./index.CwJxcYEt.js";import{H as V}from"./HelpCircle.XFsukWe6.js";import"./user.TOXT8CXA.js";import"./index.BSdFiPHn.js";import"./loader.BQDlK3Tc.js";import"./notifications.NSMm1_5U.js";import"./contributions.K_0J8Jft.js";import"./objects.CrQdKsRW.js";import"./user.DMXaCJik.js";import"./dayjs.min.xlbmdZiw.js";/* empty css                       */const A={},Y={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-pie-chart"};function I(v,t){return a(),c("svg",Y,t[0]||(t[0]=[i("path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"},null,-1),i("path",{d:"M22 12A10 10 0 0 0 12 2v10z"},null,-1)]))}const j=D(A,[["render",I]]),q=E({__name:"ExperimentsContributionsRadar",setup(v,{expose:t}){t();const{Chart:r,Title:e,Tooltip:o,Legend:l,PointElement:d,RadialLinearScale:b,LineElement:u,Filler:_}=z;r.register(e,o,l,d,b,u,_);const n=h(!0),p=h(!1),s=H(F),L=k(()=>n.value||s.value.state==="empty"||s.value.state==="loading"),m=h({labels:[],datasets:[{label:"Contribution",backgroundColor:"hsla(16, 68%, 63%, 0.2)",borderColor:"hsl(16, 68%, 63%)",borderWidth:2,pointBackgroundColor:"hsl(35, 77%, 62%)",pointBorderColor:"hsl(16, 68%, 63%)",pointHoverBackgroundColor:"hsl(16, 68%, 63%)",pointHoverBorderColor:"hsl(16, 68%, 63%)",data:[]}]});async function y(){await N(),s.value.datasets.length===0?p.value=!1:(p.value=!0,m.value.labels=[...s.value.labels],m.value.datasets[0].data=[...s.value.datasets[0].data])}const B={responsive:!0,scales:{r:{pointLabels:{font:{size:14}},ticks:{display:!1}}},fill:!0,borderWidth:"1",plugins:{legend:{display:!1},tooltip:{displayColors:!1}}};P(async()=>{n.value=!0,await y(),n.value=!1});const g={Chart:r,Title:e,Tooltip:o,Legend:l,PointElement:d,RadialLinearScale:b,LineElement:u,Filler:_,isMounting:n,hasData:p,cfExpStore:s,isLoading:L,chartData:m,getData:y,chartOptions:B,PieChart:j,LoadingPlaceholder:R,get Radar(){return W}};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}}),G={class:"contributionsRadar"},J={key:2,class:"emptyChart"};function K(v,t,r,e,o,l){return a(),c("div",G,[e.isLoading?(a(),f(e.LoadingPlaceholder,{key:0,size:"fill"})):e.hasData?(a(),f(e.Radar,{key:1,data:e.chartData,options:e.chartOptions},null,8,["data"])):(a(),c("div",J,[w(e.PieChart),t[0]||(t[0]=i("p",null,[C(" You have no experiments yet, or your experiments don't declare contributions. "),i("a",{href:"/experiments/new/"},"Create an experiment"),C(" or "),i("a",{href:"https://reliably.com/docs/",target:"_blank",rel:"noopener noreferer"},"read the docs about contributions"),C(". ")],-1))]))])}const Q=D(q,[["render",K]]),U=E({__name:"ExecutionsContributionsRadar",setup(v,{expose:t}){t();const{Chart:r,Title:e,Tooltip:o,Legend:l,PointElement:d,RadialLinearScale:b,LineElement:u,Filler:_}=z;r.register(e,o,l,d,b,u,_);const n=h(!0),p=h(!1),s=H(M),L=k(()=>n.value||s.value.state==="empty"||s.value.state==="loading"),m=h({labels:[],datasets:[{label:"Contributions",backgroundColor:"hsla(16, 68%, 63%, 0.2)",borderColor:"hsl(16, 68%, 63%)",borderWidth:2,pointBackgroundColor:"hsl(35, 77%, 62%)",pointBorderColor:"hsl(16, 68%, 63%)",pointHoverBackgroundColor:"hsl(16, 68%, 63%)",pointHoverBorderColor:"hsl(16, 68%, 63%)",data:[]}]});async function y(){await O(),s.value.datasets.length===0?p.value=!1:(p.value=!0,m.value.labels=[...s.value.labels],m.value.datasets[0].data=[...s.value.datasets[0].data])}const B={responsive:!0,scales:{r:{pointLabels:{font:{size:14}},ticks:{display:!1}}},fill:!0,borderWidth:"1",plugins:{legend:{display:!1},tooltip:{displayColors:!1}}};P(async()=>{n.value=!0,await y(),n.value=!1});const g={Chart:r,Title:e,Tooltip:o,Legend:l,PointElement:d,RadialLinearScale:b,LineElement:u,Filler:_,isMounting:n,hasData:p,storedData:s,isLoading:L,chartData:m,getData:y,chartOptions:B,PieChart:j,LoadingPlaceholder:R,get Radar(){return W}};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}}),X={class:"contributionsRadar"},Z={key:2,class:"emptyChart"};function $(v,t,r,e,o,l){return a(),c("div",X,[e.isLoading?(a(),f(e.LoadingPlaceholder,{key:0,size:"fill"})):e.hasData?(a(),f(e.Radar,{key:1,data:e.chartData,options:e.chartOptions},null,8,["data"])):(a(),c("div",Z,[w(e.PieChart),t[0]||(t[0]=i("p",null,[C(" You have no executions yet, or your experiments don't declare contributions. "),i("a",{href:"/experiments/new/"},"Create an experiment"),C(" or "),i("a",{href:"https://reliably.com/docs/",target:"_blank",rel:"noopener noreferer"},"read the docs about contributions"),C(". ")],-1))]))])}const ee=D(U,[["render",$]]),te=E({__name:"DashboardContributions",setup(v,{expose:t}){t();const r=h(!0),e=k(()=>o.value.datasets.length>0),o=H(M),l=k(()=>r.value||o.value.state==="empty"||o.value.state==="loading"),d=h("experiment");function b(p){d.value=p}const u=h({labels:[],datasets:[{label:"Contributions",backgroundColor:"hsla(329,97%,55%,0.2)",borderColor:"hsl(329,97%,55%)",pointBackgroundColor:"hsl(329,97%,55%)",pointBorderColor:"white",pointHoverBackgroundColor:"white",pointHoverBorderColor:"hsl(329,97%,55%)",data:[]}]});async function _(){await O(),e.value&&(u.value.labels=[...o.value.labels],u.value.datasets[0].data=[...o.value.datasets[0].data])}P(async()=>{r.value=!0,await _(),r.value=!1});const n={isMounting:r,hasData:e,storedData:o,isLoading:l,displayedChart:d,display:b,chartData:u,getData:_,LoadingPlaceholder:R,ExperimentsContributionsRadar:Q,ExecutionsContributionsRadar:ee,HelpCircle:V};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}}),ae={class:"dashboardContributions"},oe={class:"dashboardContributions__controls"},re={key:1},se={key:2,class:"dashboardContributions__wrapper"},ne={class:"dashboardContributions__help"},ie={key:0,class:"hasTooltip hasTooltip--top-right","aria-label":"The contributions declared by your experiments"},le={key:1,class:"hasTooltip hasTooltip--top-right","aria-label":`Aggregates the contributions 
declared by your experiments 
each time they are actually run`};function de(v,t,r,e,o,l){return a(),c("div",ae,[i("div",oe,[i("button",{onClick:t[0]||(t[0]=S(d=>e.display("experiment"),["prevent"])),class:T(["pill",{"pill--active":e.displayedChart==="experiment"}])}," Per experiments ",2),i("button",{onClick:t[1]||(t[1]=S(d=>e.display("execution"),["prevent"])),class:T(["pill",{"pill--active":e.displayedChart==="execution"}])}," Per executions ",2)]),e.isLoading?(a(),f(e.LoadingPlaceholder,{key:0})):e.hasData?(a(),c("div",se,[e.displayedChart==="experiment"?(a(),f(e.ExperimentsContributionsRadar,{key:0,"client:load":""})):x("",!0),e.displayedChart==="execution"?(a(),f(e.ExecutionsContributionsRadar,{key:1,"client:load":""})):x("",!0),i("div",ne,[e.displayedChart==="experiment"?(a(),c("span",ie,[w(e.HelpCircle)])):x("",!0),e.displayedChart==="execution"?(a(),c("span",le,[w(e.HelpCircle)])):x("",!0)])])):(a(),c("p",re,"We don't have this data yet."))])}const Re=D(te,[["render",de]]);export{Re as default};
