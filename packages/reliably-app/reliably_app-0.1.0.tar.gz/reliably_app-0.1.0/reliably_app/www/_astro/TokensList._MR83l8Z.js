import{g as M,h as S,j,k as I,n as W}from"./user.TOXT8CXA.js";import{v as O,w as k}from"./runtime-dom.esm-bundler.DChKj6X8.js";import{u as F}from"./index.DUHDLdXK.js";import{T as H}from"./TimeAgo.hHi23vP_.js";import{D as Y}from"./DeleteButton.Ch6PF2gM.js";import{M as z}from"./ModalWindow.CYXe6vRl.js";/* empty css                       */import{_ as D}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{d as g,t as E,r as b,h as s,c as l,a as o,w as R,F as T,g as U,j as _,b as v,i as u,e as w,l as y,m as x,k as V,o as q,f as P}from"./runtime-core.esm-bundler.Y6RLDZTT.js";import{C as G}from"./CheckIcon.Cp1OA8SI.js";import{L as J}from"./LoadingPlaceholder.BoWrztnb.js";import{u as K}from"./index.CwJxcYEt.js";import"./index.BSdFiPHn.js";import"./loader.BQDlK3Tc.js";import"./notifications.NSMm1_5U.js";import"./dayjs.min.xlbmdZiw.js";import"./TrashIcon.BzGEjUcP.js";import"./CloseIcon.DLOPA8gH.js";/* empty css                        *//* empty css                       */const Q=g({__name:"ConfirmDeleteToken",props:{id:{},org:{}},emits:["close"],setup(c,{expose:t,emit:a}){t();const e=c,{id:r,org:i}=E(e),n=b(""),d=a,m={props:e,id:r,org:i,confirmation:n,emit:d,cancel:()=>{d("close")},proceed:async()=>{n.value==="DELETE"&&(await M(r.value,i.value),await S(),d("close"))}};return Object.defineProperty(m,"__isScriptSetup",{enumerable:!1,value:!0}),m}}),X={class:"inputWrapper"},Z={class:"inputWrapper"},$=["disabled"];function ee(c,t,a,e,r,i){return s(),l(T,null,[t[2]||(t[2]=o("p",null,"You are about to delete an token. This action cannot be undone.",-1)),t[3]||(t[3]=o("p",null," Deleting an token can cause integrations and other services depending on it to stop functioning. ",-1)),t[4]||(t[4]=o("p",null,"Type 'DELETE' to proceed.",-1)),o("form",{class:"form",onSubmit:k(e.proceed,["prevent"])},[o("div",X,[t[1]||(t[1]=o("label",{for:"confirmDelete"},null,-1)),R(o("input",{type:"text",id:"confirmDelete",name:"confirmDelete","onUpdate:modelValue":t[0]||(t[0]=n=>e.confirmation=n)},null,512),[[O,e.confirmation]])]),o("div",Z,[o("button",{onClick:k(e.cancel,["prevent"]),class:"button"},"Cancel"),o("button",{onClick:k(e.proceed,["prevent"]),class:"button button--destructive",disabled:e.confirmation!=="DELETE"}," Delete ",8,$)])],32)],64)}const te=D(Q,[["render",ee],["__scopeId","data-v-40f3ae23"]]),oe=g({__name:"TokenPreview",props:{t:{},org:{}},setup(c,{expose:t}){t();const a=c,{t:e,org:r}=E(a),i=b("********"),n=U(()=>i.value==="********"),d=async()=>{await j(e.value.id);const A=I.get();i.value=A.token},{text:p,copy:f,copied:m,isSupported:B}=F(),N=()=>{f(i.value),C()},C=()=>{i.value="********"},L=b(!1),h={props:a,t:e,org:r,tokenValue:i,hidden:n,getTokenValue:d,text:p,copy:f,copied:m,isSupported:B,copyTokenAndHide:N,hideTokenValue:C,isDeleteDisplayed:L,displayDelete:()=>{L.value=!0},closeDelete:()=>{L.value=!1},TimeAgo:H,DeleteButton:Y,ModalWindow:z,ConfirmDeleteToken:te,CheckIcon:G};return Object.defineProperty(h,"__isScriptSetup",{enumerable:!1,value:!0}),h}}),se={class:"tokenPreview tableList__row"},ne={class:"tableList__cell tokenPreview__name"},le={class:"tableList__cell tokenPreview__value"},ae={key:0},ie={class:"tableList__cell tokenPreview__date"},re={class:"tableList__cell tableList__cell--small"};function ce(c,t,a,e,r,i){return s(),l("li",se,[o("div",ne,_(e.t.name),1),o("div",le,[e.hidden?(s(),l("span",{key:0,role:"button",onClick:e.getTokenValue,class:"hasTooltip hasTooltip--bottom-center",label:"Click to reveal","aria-label":"Click to reveal"},[v(_(e.tokenValue)+" ",1),e.copied?(s(),l("span",ae,[u(e.CheckIcon),t[0]||(t[0]=v("Copied to clipboard"))])):w("",!0)])):e.isSupported?(s(),l("span",{key:1,role:"button",onClick:e.copyTokenAndHide,class:"hasTooltip hasTooltip--bottom-center",label:"Click to copy to clipboard","aria-label":"Click to copy to clipboard"},_(e.tokenValue),1)):(s(),l("span",{key:2,role:"button",onClick:e.hideTokenValue,class:"hasTooltip hasTooltip--bottom-center",label:"Click to hide","aria-label":"Click to hide"},_(e.tokenValue),1))]),o("div",ie,[u(e.TimeAgo,{timestamp:e.t.created_date},null,8,["timestamp"])]),o("div",re,[u(e.DeleteButton,{onClick:k(e.displayDelete,["prevent"])})]),e.isDeleteDisplayed?(s(),y(e.ModalWindow,{key:0,hasCloseButton:!0,hasPadding:!0,onClose:e.closeDelete},{title:x(()=>t[1]||(t[1]=[v("Delete Experiment")])),content:x(()=>[u(e.ConfirmDeleteToken,{id:e.t.id,org:e.org,onClose:e.closeDelete},null,8,["id","org"])]),_:1})):w("",!0)])}const de=D(oe,[["render",ce],["__scopeId","data-v-06440e74"]]),_e=g({__name:"TokensList",setup(c,{expose:t}){t();const a=b(!0),e=K(W);q(async()=>{a.value=!0,await S(),a.value=!1});const r={isLoading:a,t:e,TokenPreview:de,LoadingPlaceholder:J};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}}),pe={key:1,class:"tokensLists"},me={key:0,class:"tokensList tableList"},ue={key:1,class:"tokensList tableList"},ke={class:"tableList__cell"};function ve(c,t,a,e,r,i){return e.isLoading?(s(),y(e.LoadingPlaceholder,{key:0})):(s(),l("div",pe,[(s(!0),l(T,null,V(e.t,(n,d)=>(s(),l("div",{key:d},[o("h2",null,_(n.org.name),1),n.tokens.length>0?(s(),l("ul",me,[t[0]||(t[0]=P('<li class="tableList__row tableList__row--header"><div class="tableList__cell">Name</div><div class="tableList__cell">Value</div><div class="tableList__cell">Creation Date</div><div class="tableList__cell"><span class="screen-reader-text">Actions</span></div></li>',1)),(s(!0),l(T,null,V(n.tokens,p=>(s(),y(e.TokenPreview,{key:p.id,t:p,org:n.org.id},null,8,["t","org"]))),128))])):(s(),l("ul",ue,[t[2]||(t[2]=P('<li class="tableList__row tableList__row--header"><div class="tableList__cell">Name</div><div class="tableList__cell">Value</div><div class="tableList__cell">Creation Date</div><div class="tableList__cell"><span class="screen-reader-text">Actions</span></div></li>',1)),o("li",ke,[t[1]||(t[1]=v(" You don't have any token for organization ")),o("strong",null,_(n.org.name),1)])]))]))),128))]))}const Oe=D(_e,[["render",ve]]);export{Oe as default};
