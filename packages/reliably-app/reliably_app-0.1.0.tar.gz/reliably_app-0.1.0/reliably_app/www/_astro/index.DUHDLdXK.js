import{r as P,bf as j,bw as g,p as $,u as q,v as F,g as k,s as O,W as B,o as G,Z as N,a3 as D}from"./runtime-core.esm-bundler.Y6RLDZTT.js";function R(e){return q()?(F(e),!0):!1}const T=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const V=Object.prototype.toString,Z=e=>V.call(e)==="[object Object]",C=()=>{},z=H();function H(){var e,n;return T&&((e=window?.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((n=window?.navigator)==null?void 0:n.maxTouchPoints)>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}function J(e){let n;function l(){return n||(n=e()),n}return l.reset=async()=>{const r=n;n=void 0,r&&await r},l}function M(e){return Array.isArray(e)?e:[e]}function K(e,n,l={}){const{immediate:r=!0}=l,f=P(!1);let d=null;function v(){d&&(clearTimeout(d),d=null)}function o(){f.value=!1,v()}function u(...s){v(),f.value=!0,d=setTimeout(()=>{f.value=!1,d=null,e(...s)},g(n))}return r&&(f.value=!0,T&&u()),R(o),{isPending:j(f),start:u,stop:o}}function Q(e,n,l){return $(e,n,{...l,immediate:!0})}const W=T?window:void 0,L=T?window.navigator:void 0;function S(e){var n;const l=g(e);return(n=l?.$el)!=null?n:l}function w(...e){const n=[],l=()=>{n.forEach(o=>o()),n.length=0},r=(o,u,s,p)=>(o.addEventListener(u,s,p),()=>o.removeEventListener(u,s,p)),f=k(()=>{const o=M(g(e[0])).filter(u=>u!=null);return o.every(u=>typeof u!="string")?o:void 0}),d=Q(()=>{var o,u;return[(u=(o=f.value)==null?void 0:o.map(s=>S(s)))!=null?u:[W].filter(s=>s!=null),M(g(f.value?e[1]:e[0])),M(B(f.value?e[2]:e[1])),g(f.value?e[3]:e[2])]},([o,u,s,p])=>{if(l(),!o?.length||!u?.length||!s?.length)return;const y=Z(p)?{...p}:p;n.push(...o.flatMap(h=>u.flatMap(b=>s.map(A=>r(h,b,A,y)))))},{flush:"post"}),v=()=>{d(),l()};return R(l),v}let x=!1;function Y(e,n,l={}){const{window:r=W,ignore:f=[],capture:d=!0,detectIframe:v=!1}=l;if(!r)return C;if(z&&!x){x=!0;const t={passive:!0};Array.from(r.document.body.children).forEach(i=>w(i,"click",C,t)),w(r.document.documentElement,"click",C,t)}let o=!0;const u=t=>g(f).some(i=>{if(typeof i=="string")return Array.from(r.document.querySelectorAll(i)).some(m=>m===t.target||t.composedPath().includes(m));{const m=S(i);return m&&(t.target===m||t.composedPath().includes(m))}});function s(t){const i=g(t);return i&&i.$.subTree.shapeFlag===16}function p(t,i){const m=g(t),a=m.$.subTree&&m.$.subTree.children;return a==null||!Array.isArray(a)?!1:a.some(c=>c.el===i.target||i.composedPath().includes(c.el))}const y=t=>{const i=S(e);if(t.target!=null&&!(!(i instanceof Element)&&s(e)&&p(e,t))&&!(!i||i===t.target||t.composedPath().includes(i))){if(t.detail===0&&(o=!u(t)),!o){o=!0;return}n(t)}};let h=!1;const b=[w(r,"click",t=>{h||(h=!0,setTimeout(()=>{h=!1},0),y(t))},{passive:!0,capture:d}),w(r,"pointerdown",t=>{const i=S(e);o=!u(t)&&!!(i&&!t.composedPath().includes(i))},{passive:!0}),v&&w(r,"blur",t=>{setTimeout(()=>{var i;const m=S(e);((i=r.document.activeElement)==null?void 0:i.tagName)==="IFRAME"&&!m?.contains(r.document.activeElement)&&n(t)},0)},{passive:!0})].filter(Boolean);return()=>b.forEach(t=>t())}function U(){const e=P(!1),n=N();return n&&G(()=>{e.value=!0},n),e}function _(e){const n=U();return k(()=>(n.value,!!e()))}function I(e,n={}){const{controls:l=!1,navigator:r=L}=n,f=_(()=>r&&"permissions"in r),d=O(),v=typeof e=="string"?{name:e}:e,o=O(),u=()=>{var p,y;o.value=(y=(p=d.value)==null?void 0:p.state)!=null?y:"prompt"};w(d,"change",u,{passive:!0});const s=J(async()=>{if(f.value){if(!d.value)try{d.value=await r.permissions.query(v)}catch{d.value=void 0}finally{u()}if(l)return D(d.value)}});return s(),l?{state:o,isSupported:f,query:s}:o}function ee(e={}){const{navigator:n=L,read:l=!1,source:r,copiedDuring:f=1500,legacy:d=!1}=e,v=_(()=>n&&"clipboard"in n),o=I("clipboard-read"),u=I("clipboard-write"),s=k(()=>v.value||d),p=P(""),y=P(!1),h=K(()=>y.value=!1,f,{immediate:!1});function b(){let a=!(v.value&&m(o.value));if(!a)try{n.clipboard.readText().then(c=>{p.value=c})}catch{a=!0}a&&(p.value=i())}s.value&&l&&w(["copy","cut"],b,{passive:!0});async function A(a=g(r)){if(s.value&&a!=null){let c=!(v.value&&m(u.value));if(!c)try{await n.clipboard.writeText(a)}catch{c=!0}c&&t(a),p.value=a,y.value=!0,h.start()}}function t(a){const c=document.createElement("textarea");c.value=a??"",c.style.position="absolute",c.style.opacity="0",document.body.appendChild(c),c.select(),document.execCommand("copy"),c.remove()}function i(){var a,c,E;return(E=(c=(a=document?.getSelection)==null?void 0:a.call(document))==null?void 0:c.toString())!=null?E:""}function m(a){return a==="granted"||a==="prompt"}return{isSupported:s,text:p,copied:y,copy:A}}export{Y as o,ee as u};
