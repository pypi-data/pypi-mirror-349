import{v as f,w as g}from"./runtime-dom.esm-bundler.DChKj6X8.js";import{c as I}from"./integrations.Be-n79W6.js";import{_ as W}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{d as B,c as u,a,b as l,w as _,e as y,n as b,r as n,g as P,h as m}from"./runtime-core.esm-bundler.Y6RLDZTT.js";import"./user.DMXaCJik.js";import"./user.TOXT8CXA.js";import"./index.BSdFiPHn.js";import"./loader.BQDlK3Tc.js";import"./notifications.NSMm1_5U.js";import"./index.CwJxcYEt.js";const h=B({__name:"ReliablyAssistantIntegrationForm",setup(k,{expose:r}){r();const i=n(""),e=n(!0);function d(){i.value===""?e.value=!1:e.value=!0}const o=n(""),t=n(!0);function A(){o.value===""?t.value=!1:t.value=!0}const p=n("gpt-4-1106-preview"),s=n(!1),v=P(()=>s.value||!e.value||i.value===""||!t.value||o.value===""||p.value==="");async function N(){if(!v.value){s.value=!0;const V={name:i.value,provider:"assistant",vendor:"reliably",environment:{name:"openai",used_for:"integration",envvars:[{var_name:"OPENAI_MODEL",value:p.value}],secrets:[{key:"openai-key",var_name:"OPENAI_API_KEY",value:o.value}]}};await I(V),s.value=!1}}const c={name:i,isNameValid:e,onNameBlur:d,key:o,isKeyValid:t,onKeyBlur:A,model:p,isCreating:s,isSubmitDisabled:v,create:N};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}}),q={class:"integrationForm form"},w={key:0,class:"inputWrapper__help inputWrapper__help--error"},x={key:0,class:"inputWrapper__help inputWrapper__help--error"},C={class:"inputWrapper"},K=["disabled"];function O(k,r,i,e,d,o){return m(),u("form",q,[a("div",{class:b(["inputWrapper",{"inputWrapper--error":!e.isNameValid}])},[r[2]||(r[2]=a("label",{for:"name"},[l("Name "),a("span",{class:"required"},"Required")],-1)),_(a("input",{type:"text",name:"name",id:"name","onUpdate:modelValue":r[0]||(r[0]=t=>e.name=t),onBlur:e.onNameBlur,required:""},null,544),[[f,e.name]]),e.isNameValid?y("",!0):(m(),u("p",w," A name for your integration is required. "))],2),a("div",{class:b(["inputWrapper",{"inputWrapper--error":!e.isKeyValid}])},[r[4]||(r[4]=a("label",{for:"key"},[l(" OpenAI API key "),a("span",{class:"required"},"Required")],-1)),_(a("input",{type:"text",name:"key",id:"key","onUpdate:modelValue":r[1]||(r[1]=t=>e.key=t),onBlur:e.onKeyBlur,autocomplete:"off",required:""},null,544),[[f,e.key]]),r[5]||(r[5]=a("p",{class:"inputWrapper__help"}," Reliably Assistant currently uses ChatGPT-4 1106 Preview (AKA ChatGPT-4 Turbo). ",-1)),e.isKeyValid?y("",!0):(m(),u("p",x,r[3]||(r[3]=[l(" An "),a("a",{href:"https://help.openai.com/en/articles/4936850-where-do-i-find-my-secret-api-key",target:"_blank",rel:"noopener noreferer"},"OpenAI API key",-1),l(" is required. ")])))],2),a("div",C,[a("button",{onClick:g(e.create,["prevent"]),disabled:e.isSubmitDisabled,class:"button button--primary"}," Create ",8,K)])])}const z=W(h,[["render",O]]);export{z as default};
