import{g as B,d as T}from"./dayjs.min.xlbmdZiw.js";import{_ as j}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{d as k,t as q,g as N,h as A,c as C,j as E,e as H}from"./runtime-core.esm-bundler.Y6RLDZTT.js";var Y={exports:{}},L=Y.exports,R;function F(){return R||(R=1,function(_,D){(function(c,e){_.exports=e()})(L,function(){return function(c,e,x){c=c||{};var v=e.prototype,s={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function $(n,d,z,r){return v.fromToBase(n,d,z,r)}x.en.relativeTime=s,v.fromToBase=function(n,d,z,r,u){for(var t,o,a,f=z.$locale().relativeTime||s,l=c.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],h=l.length,m=0;m<h;m+=1){var i=l[m];i.d&&(t=r?x(n).diff(z,i.d,!0):z.diff(n,i.d,!0));var p=(c.rounding||Math.round)(Math.abs(t));if(a=t>0,p<=i.r||!i.r){p<=1&&m>0&&(i=l[m-1]);var g=f[i.l];u&&(p=u(""+p)),o=typeof g=="string"?g.replace("%d",p):g(p,d,i.l,a);break}}if(d)return o;var y=a?f.future:f.past;return typeof y=="function"?y(o):y.replace("%s",o)},v.to=function(n,d){return $(n,d,this,!0)},v.from=function(n,d){return $(n,d,this)};var M=function(n){return n.$u?x.utc():x()};v.toNow=function(n){return this.to(M(this),n)},v.fromNow=function(n){return this.from(M(this),n)}}})}(Y)),Y.exports}var I=F();const P=B(I);var b={exports:{}},U=b.exports,Z;function V(){return Z||(Z=1,function(_,D){(function(c,e){_.exports=e()})(U,function(){var c={year:0,month:1,day:2,hour:3,minute:4,second:5},e={};return function(x,v,s){var $,M=function(r,u,t){t===void 0&&(t={});var o=new Date(r),a=function(f,l){l===void 0&&(l={});var h=l.timeZoneName||"short",m=f+"|"+h,i=e[m];return i||(i=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:f,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:h}),e[m]=i),i}(u,t);return a.formatToParts(o)},n=function(r,u){for(var t=M(r,u),o=[],a=0;a<t.length;a+=1){var f=t[a],l=f.type,h=f.value,m=c[l];m>=0&&(o[m]=parseInt(h,10))}var i=o[3],p=i===24?0:i,g=o[0]+"-"+o[1]+"-"+o[2]+" "+p+":"+o[4]+":"+o[5]+":000",y=+r;return(s.utc(g).valueOf()-(y-=y%1e3))/6e4},d=v.prototype;d.tz=function(r,u){r===void 0&&(r=$);var t,o=this.utcOffset(),a=this.toDate(),f=a.toLocaleString("en-US",{timeZone:r}),l=Math.round((a-new Date(f))/1e3/60),h=15*-Math.round(a.getTimezoneOffset()/15)-l;if(!Number(h))t=this.utcOffset(0,u);else if(t=s(f,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(h,!0),u){var m=t.utcOffset();t=t.add(o-m,"minute")}return t.$x.$timezone=r,t},d.offsetName=function(r){var u=this.$x.$timezone||s.tz.guess(),t=M(this.valueOf(),u,{timeZoneName:r}).find(function(o){return o.type.toLowerCase()==="timezonename"});return t&&t.value};var z=d.startOf;d.startOf=function(r,u){if(!this.$x||!this.$x.$timezone)return z.call(this,r,u);var t=s(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return z.call(t,r,u).tz(this.$x.$timezone,!0)},s.tz=function(r,u,t){var o=t&&u,a=t||u||$,f=n(+s(),a);if(typeof r!="string")return s(r).tz(a);var l=function(p,g,y){var O=p-60*g*1e3,S=n(O,y);if(g===S)return[O,g];var w=n(O-=60*(S-g)*1e3,y);return S===w?[O,S]:[p-60*Math.min(S,w)*1e3,Math.max(S,w)]}(s.utc(r,o).valueOf(),f,a),h=l[0],m=l[1],i=s(h).utcOffset(m);return i.$x.$timezone=a,i},s.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},s.tz.setDefault=function(r){$=r}}})}(b)),b.exports}var G=V();const J=B(G),K=k({__name:"TimeAgo",props:{timestamp:{},epoch:{type:Boolean}},setup(_,{expose:D}){D();const c=_,{timestamp:e,epoch:x}=q(c),v=N(()=>e.value!==void 0?typeof e.value=="string"?e.value:typeof e.value=="number"?T.unix(e.value).toString():e.value.toDateString():""),s=N(()=>(T.extend(P),x&&typeof e.value=="number"?T.unix(e.value).fromNow():T(e.value).fromNow())),$=N(()=>{T.extend(J);const n=T.tz.guess();return x&&typeof e.value=="number"?`${T.unix(e.value).format("D MMMM YYYY, H:mm:ss")} - ${n}`:`${T(e.value).format("D MMMM YYYY, H:mm:ss")} - ${n}`}),M={props:c,timestamp:e,epoch:x,timeString:v,timeAgo:s,humanReadable:$};return Object.defineProperty(M,"__isScriptSetup",{enumerable:!1,value:!0}),M}}),Q=["datetime","title"];function W(_,D,c,e,x,v){return e.timeString!==""?(A(),C("time",{key:0,datetime:e.timeString,title:e.humanReadable},E(e.timeAgo),9,Q)):H("",!0)}const re=j(K,[["render",W]]);export{re as T,J as t};
