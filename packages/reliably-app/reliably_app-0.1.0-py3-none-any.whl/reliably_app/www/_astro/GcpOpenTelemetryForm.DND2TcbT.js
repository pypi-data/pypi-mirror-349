import{v as m,w as N}from"./runtime-dom.esm-bundler.DChKj6X8.js";import{c as O}from"./integrations.Be-n79W6.js";import{g as P}from"./strings.Fm4VVZpd.js";import{_ as S}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{d as E,c as a,a as o,b as l,w as v,e as f,n as _,r as i,g as x,h as s}from"./runtime-core.esm-bundler.Y6RLDZTT.js";import"./user.DMXaCJik.js";import"./user.TOXT8CXA.js";import"./index.BSdFiPHn.js";import"./loader.BQDlK3Tc.js";import"./notifications.NSMm1_5U.js";import"./index.CwJxcYEt.js";import"./dayjs.min.xlbmdZiw.js";import"./duration.BGVtNWJ9.js";const U=E({__name:"GcpOpenTelemetryForm",setup(q,{expose:r}){r();const t=i(""),e=i(!0);function y(){t.value===""?e.value=!1:e.value=!0}const u=i(""),n=i(!0);function R(){u.value===""?n.value=!1:n.value=!0}const g=i(""),V=i(!0);function j(){g.value===""?V.value=!1:V.value=!0}const p=i(""),c=i(!0);function A(){p.value===""?c.value=!1:c.value=!0}const d=i(!1),b=x(()=>d.value||!e.value||t.value===""||!c.value||p.value==="");async function B(){if(!b.value){d.value=!0;const C=P(32),G={name:t.value,provider:"snapshot",vendor:"gcp",environment:{name:`gcp-snapshot-${C}`,used_for:"integration",envvars:[{var_name:"LUEUR_GOOGLE_PROJECT",value:u.value},{var_name:"LUEUR_GOOGLE_REGION",value:g.value}],secrets:[{key:"serviceaccount",var_name:"LUEUR_GOOGLE_CREDENTIALS",value:p.value}]}};await O(G),d.value=!1}}const W={name:t,isNameValid:e,onNameBlur:y,project:u,isProjectValid:n,onProjectBlur:R,region:g,isRegionValid:V,onRegionBlur:j,serviceAccount:p,isServiceAccountValid:c,onServiceAccountBlur:A,isCreating:d,isSubmitDisabled:b,create:B};return Object.defineProperty(W,"__isScriptSetup",{enumerable:!1,value:!0}),W}}),h={class:"integrationForm form"},k={key:0,class:"inputWrapper__help inputWrapper__help--error"},L={key:0,class:"inputWrapper__help inputWrapper__help--error"},w={key:0,class:"inputWrapper__help inputWrapper__help--error"},T={key:0,class:"inputWrapper__help inputWrapper__help--error"},D={class:"inputWrapper"},F=["disabled"];function I(q,r,t,e,y,u){return s(),a("form",h,[o("div",{class:_(["inputWrapper",{"inputWrapper--error":!e.isNameValid}])},[r[4]||(r[4]=o("label",{for:"name"},[l("Name "),o("span",{class:"required"},"Required")],-1)),v(o("input",{type:"text",name:"name",id:"name","onUpdate:modelValue":r[0]||(r[0]=n=>e.name=n),onBlur:e.onNameBlur,placeholder:"Create snapshot from GCP",required:""},null,544),[[m,e.name]]),e.isNameValid?f("",!0):(s(),a("p",k," A name for your integration is required. "))],2),o("div",{class:_(["inputWrapper",{"inputWrapper--error":!e.isProjectValid}])},[r[5]||(r[5]=o("label",{for:"project"},[l("Project "),o("span",{class:"required"},"Required")],-1)),v(o("input",{type:"text",name:"project",id:"project","onUpdate:modelValue":r[1]||(r[1]=n=>e.project=n),onBlur:e.onProjectBlur,placeholder:"A GCP project name",required:""},null,544),[[m,e.project]]),e.isProjectValid?f("",!0):(s(),a("p",L," A project for your integration is required. "))],2),o("div",{class:_(["inputWrapper",{"inputWrapper--error":!e.isRegionValid}])},[r[6]||(r[6]=o("label",{for:"region"},[l("Region "),o("span",{class:"required"},"Required")],-1)),v(o("input",{type:"text",name:"region",id:"region","onUpdate:modelValue":r[2]||(r[2]=n=>e.region=n),onBlur:e.onRegionBlur,placeholder:"A GCP region",required:""},null,544),[[m,e.region]]),e.isRegionValid?f("",!0):(s(),a("p",w," A region for your integration is required. "))],2),o("div",{class:_(["inputWrapper",{"inputWrapper--error":!e.isServiceAccountValid}])},[r[8]||(r[8]=o("label",{for:"serviceaccount"},[l(" Service Account Credentials "),o("span",{class:"required"},"Required")],-1)),v(o("textarea",{rows:"5",name:"serviceaccount",id:"serviceaccount","onUpdate:modelValue":r[3]||(r[3]=n=>e.serviceAccount=n),onBlur:e.onServiceAccountBlur,placeholder:"Paste the content of your service account JSON file",required:""},null,544),[[m,e.serviceAccount]]),e.isServiceAccountValid?f("",!0):(s(),a("p",T,r[7]||(r[7]=[l(" Your service account is required."),o("br",null,null,-1)])))],2),o("div",D,[o("button",{onClick:N(e.create,["prevent"]),disabled:e.isSubmitDisabled,class:"button button--primary"}," Create ",8,F)])])}const ne=S(U,[["render",I]]);export{ne as default};
