import{w as b}from"./runtime-dom.esm-bundler.DChKj6X8.js";import{d as p}from"./dayjs.min.xlbmdZiw.js";import{e as F,a as P}from"./series.kU8HocMx.js";import{L as V}from"./LoadingPlaceholder.BoWrztnb.js";/* empty css                       */import{_ as W}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{u as X}from"./index.CwJxcYEt.js";import{d as j,r as u,g as Y,o as z,h as s,c as r,l as I,a as D,F as L,k as S,j as v,e as O,f as T,n as $,b0 as A}from"./runtime-core.esm-bundler.Y6RLDZTT.js";import"./user.Bg1Nd46A.js";import"./index.BSdFiPHn.js";import"./loader.BQDlK3Tc.js";import"./notifications.NSMm1_5U.js";import"./contributions.K_0J8Jft.js";import"./objects.CrQdKsRW.js";import"./user.BEEfOshe.js";/* empty css                       */const H=j({__name:"ExecutionsMatrix",setup(C,{expose:n}){n();const x=u(!0),e=Y(()=>x.value||l.value.state==="empty"||l.value.state==="loading"),l=X(F);function M(t){return Math.ceil(t*5/l.value.data.max)}function d(t){return t.total===0?`No executions on ${p(t.date).format("MMMM D, YYYY")}`:t.total===1?`1 execution on ${p(t.date).format("MMMM D, YYYY")}`:`${t.total} executions on ${p(t.date).format("MMMM D, YYYY")}`}let i="";function c(t){return t===i?!1:(i=t,!0)}const h=u(""),_=u(!1),o=u("left"),E=Y(()=>({"executionsMatrix__tip--visible":_.value,"executionsMatrix__tip--left":o.value==="left","executionsMatrix__tip--right":o.value==="right","executionsMatrix__tip--center":o.value==="center"})),y=u("0"),m=u("0");function N(t){if(t.target!==null){let a=t.target;h.value=a.innerHTML,m.value=g(a.dataset.day),y.value=f(a.dataset.week),_.value=!0}}function f(t){let a=parseInt(t);return a<10?(o.value="left",`left: ${(a*16+45).toString()}px;`):a<20?(o.value="center",`left: ${(a*16+58).toString()}px; transform: translateX(-50%);`):(o.value="right",`right: ${((l.value.data.weeks.length-a)*16+6).toString()}px;`)}function g(t){return`top: ${(parseInt(t)%7*15+14).toString()}px;`}function B(){_.value=!1}z(async()=>{x.value=!0,await P(),x.value=!1});const w={isMounting:x,isLoading:e,storedData:l,computeDataLevel:M,computeDataText:d,get currentDisplayedMonth(){return i},set currentDisplayedMonth(t){i=t},isNewMonth:c,tipContent:h,isTipVisible:_,tipPosition:o,tipClasses:E,tipX:y,tipY:m,handleMouseEnter:N,computeTipX:f,computeTipY:g,handleMouseLeave:B,LoadingPlaceholder:V};return Object.defineProperty(w,"__isScriptSetup",{enumerable:!1,value:!0}),w}}),q={class:"executionsMatrixWrapper"},G={key:1,class:"executionsMatrix"},J={width:"480",height:"120"},K={transform:"translate(40, 18)"},Q=["transform"],R=["y","data-date","data-level","data-day","data-week"],U={key:0,class:"executionsMatrix__label",x:"0",y:"-8"};function Z(C,n,x,e,l,M){return s(),r("div",q,[e.isLoading?(s(),I(e.LoadingPlaceholder,{key:0,size:"fill"})):(s(),r("div",G,[(s(),r("svg",J,[D("g",K,[(s(!0),r(L,null,S(e.storedData.data.weeks,(d,i)=>(s(),r("g",{transform:`translate(${i*16}, 0)`,class:"executionsMatrix__week"},[(s(!0),r(L,null,S(d.days,(c,h)=>(s(),r("rect",{width:"10",height:"10",x:"0",y:h*15,class:"executionsMatrix__day","data-date":c.date,"data-level":e.computeDataLevel(c.total),"data-day":c.dayinweek,"data-week":i,rx:"2",ry:"2",onMouseenter:b(e.handleMouseEnter,["stop"]),onMouseleave:b(e.handleMouseLeave,["stop"])},v(e.computeDataText(c)),41,R))),256)),e.isNewMonth(d.month)?(s(),r("text",U,v(d.month),1)):O("",!0)],8,Q))),256)),n[0]||(n[0]=T('<text class="executionsMatrix__label" text-anchor="start" dx="-30" dy="9" style="display:none;"> Sun </text><text class="executionsMatrix__label" text-anchor="start" dx="-30" dy="24"> Mon </text><text class="executionsMatrix__label" text-anchor="start" dx="-30" dy="39" style="display:none;"> Tue </text><text class="executionsMatrix__label" text-anchor="start" dx="-30" dy="55"> Wed </text><text class="executionsMatrix__label" text-anchor="start" dx="-30" dy="70" style="display:none;"> Thu </text><text class="executionsMatrix__label" text-anchor="start" dx="-30" dy="85"> Fri </text><text class="executionsMatrix__label" text-anchor="start" dx="-30" dy="99" style="display:none;"> Sat </text>',7))])])),D("div",{class:$(["executionsMatrix__tip",e.tipClasses]),style:A(`${e.tipY} ${e.tipX}`)},v(e.tipContent),7),n[1]||(n[1]=T('<div class="executionsMatrix__legend"><span>Less</span><svg height="13" width="13"><rect width="10" height="10" x="2" y="2" class="executionsMatrix__day" data-level="0" rx="2" ry="2"></rect></svg><svg height="13" width="13"><rect width="10" height="10" x="2" y="2" class="executionsMatrix__day" data-level="1" rx="2" ry="2"></rect></svg><svg height="13" width="13"><rect width="10" height="10" x="2" y="2" class="executionsMatrix__day" data-level="2" rx="2" ry="2"></rect></svg><svg height="13" width="13"><rect width="10" height="10" x="2" y="2" class="executionsMatrix__day" data-level="3" rx="2" ry="2"></rect></svg><svg height="13" width="13"><rect width="10" height="10" x="2" y="2" class="executionsMatrix__day" data-level="4" rx="2" ry="2"></rect></svg><svg height="13" width="13"><rect width="10" height="10" x="2" y="2" class="executionsMatrix__day" data-level="5" rx="2" ry="2"></rect></svg><span>More</span></div>',1))]))])}const Mt=W(H,[["render",Z]]);export{Mt as default};
