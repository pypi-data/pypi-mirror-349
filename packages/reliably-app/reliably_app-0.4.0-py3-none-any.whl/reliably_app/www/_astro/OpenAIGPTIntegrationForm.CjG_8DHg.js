import{v as y,a as B,w as N}from"./runtime-dom.esm-bundler.DChKj6X8.js";import{c as P}from"./integrations.CUprebZ9.js";import{_ as x}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{d as M,c as s,a as r,b as i,w as _,e as c,n as g,f as h,r as n,g as C,h as p}from"./runtime-core.esm-bundler.Y6RLDZTT.js";import"./user.BEEfOshe.js";import"./user.Bg1Nd46A.js";import"./index.BSdFiPHn.js";import"./loader.BQDlK3Tc.js";import"./notifications.NSMm1_5U.js";import"./index.CwJxcYEt.js";const S=M({__name:"OpenAIGPTIntegrationForm",setup(b,{expose:a}){a();const t=n(""),e=n(!0);function k(){t.value===""?e.value=!1:e.value=!0}const l=n(""),o=n(!0);function A(){l.value===""?o.value=!1:o.value=!0}const u=n(""),d=n(!0);function I(){u.value===""?d.value=!1:d.value=!0}const m=n(""),v=n(!0);function W(){m.value===""?v.value=!1:v.value=!0}const f=n(!1),V=C(()=>f.value||!e.value||t.value===""||!o.value||l.value===""||!d.value||u.value===""||!v.value||m.value==="");async function q(){if(!V.value){f.value=!0;const z={name:t.value,provider:"chatgpt",vendor:"openai",environment:{name:"openai",used_for:"integration",envvars:[{var_name:"OPENAI_MODEL",value:m.value}],secrets:[{key:"openai-key",var_name:"OPENAI_API_KEY",value:l.value},{key:"openai-organization",var_name:"OPENAI_ORG",value:u.value}]}};await P(z),f.value=!1}}const O={name:t,isNameValid:e,onNameBlur:k,key:l,isKeyValid:o,onKeyBlur:A,organization:u,isOrganizationValid:d,onOrganizationBlur:I,model:m,isModelValid:v,onModelBlur:W,isCreating:f,isSubmitDisabled:V,create:q};return Object.defineProperty(O,"__isScriptSetup",{enumerable:!1,value:!0}),O}}),T={class:"integrationForm form"},w={key:0,class:"inputWrapper__help inputWrapper__help--error"},E={key:0,class:"inputWrapper__help inputWrapper__help--error"},G={key:0,class:"inputWrapper__help inputWrapper__help--error"},K={class:"inputWrapper"},R={key:0,class:"inputWrapper__help inputWrapper__help--error"},D={class:"inputWrapper"},U=["disabled"];function F(b,a,t,e,k,l){return p(),s("form",T,[r("div",{class:g(["inputWrapper",{"inputWrapper--error":!e.isNameValid}])},[a[4]||(a[4]=r("label",{for:"name"},[i("Name "),r("span",{class:"required"},"Required")],-1)),_(r("input",{type:"text",name:"name",id:"name","onUpdate:modelValue":a[0]||(a[0]=o=>e.name=o),onBlur:e.onNameBlur,required:""},null,544),[[y,e.name]]),e.isNameValid?c("",!0):(p(),s("p",w," A name for your integration is required. "))],2),r("div",{class:g(["inputWrapper",{"inputWrapper--error":!e.isKeyValid}])},[a[6]||(a[6]=r("label",{for:"key"},[i(" OpenAI API key "),r("span",{class:"required"},"Required")],-1)),_(r("input",{type:"text",name:"key",id:"key","onUpdate:modelValue":a[1]||(a[1]=o=>e.key=o),onBlur:e.onKeyBlur,autocomplete:"off",required:""},null,544),[[y,e.key]]),e.isKeyValid?c("",!0):(p(),s("p",E,a[5]||(a[5]=[i(" An "),r("a",{href:"https://help.openai.com/en/articles/4936850-where-do-i-find-my-secret-api-key",target:"_blank",rel:"noopener noreferer"},"OpenAI API key",-1),i(" is required. ")])))],2),r("div",{class:g(["inputWrapper",{"inputWrapper--error":!e.isOrganizationValid}])},[a[7]||(a[7]=r("label",{for:"organization"},[i(" OpenAI organization name "),r("span",{class:"required"},"Required")],-1)),_(r("input",{type:"text",name:"organization",id:"organization","onUpdate:modelValue":a[2]||(a[2]=o=>e.organization=o),onBlur:e.onOrganizationBlur,required:""},null,544),[[y,e.organization]]),e.isOrganizationValid?c("",!0):(p(),s("p",G," An OpenAI organization name is required. "))],2),r("div",K,[a[9]||(a[9]=r("label",{for:"model"},[i(" OpenAI model "),r("span",{class:"required"},"Required")],-1)),_(r("select",{name:"model",id:"model","onUpdate:modelValue":a[3]||(a[3]=o=>e.model=o),onBlur:e.onModelBlur,required:""},a[8]||(a[8]=[h('<option value="">Select GPT model</option><option value="o4-mini">o4-mini</option><option value="o3-mini">o3-mini</option><option value="chatgpt-4o-latest">ChatGPT-4o</option><option value="gpt-4.1">gpt-4.1</option>',5)]),544),[[B,e.model]]),e.isModelValid?c("",!0):(p(),s("p",R," Please select a GPT model to use. "))]),r("div",D,[r("button",{onClick:N(e.create,["prevent"]),disabled:e.isSubmitDisabled,class:"button button--primary"}," Create ",8,U)])])}const ae=x(S,[["render",F]]);export{ae as default};
