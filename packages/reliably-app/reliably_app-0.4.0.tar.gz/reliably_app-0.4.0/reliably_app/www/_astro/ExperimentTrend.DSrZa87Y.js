import{v as D,w as T}from"./runtime-dom.esm-bundler.DChKj6X8.js";import{d as C,f as j}from"./experiments.E3MiUWYx.js";/* empty css                       */import{_ as b}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{d as h,t as S,r as w,h as c,c as d,a,w as B,F as k,g as m,b as y,j as f,e as v,n as x,o as I,k as $}from"./runtime-core.esm-bundler.Y6RLDZTT.js";import{d as O}from"./dayjs.min.xlbmdZiw.js";import{h as P}from"./strings.Fm4VVZpd.js";const R=h({__name:"ConfirmDeleteExperiment",props:{id:{},inPlace:{type:Boolean},page:{}},emits:["close"],setup(u,{expose:n,emit:l}){n();const e=u,{id:s,inPlace:r,page:t}=S(e),o=w(""),i=l,E={props:e,id:s,inPlace:r,page:t,confirmation:o,emit:i,cancel:()=>{i("close")},proceed:async()=>{if(o.value==="DELETE")if(await C(s.value))if(r?.value===!0){let g=1;t!==void 0&&t.value&&(g=t.value),await j(g),i("close")}else window.location.replace("/experiments/");else i("close")}};return Object.defineProperty(E,"__isScriptSetup",{enumerable:!1,value:!0}),E}}),F={class:"inputWrapper"},M={class:"inputWrapper"},V=["disabled"];function L(u,n,l,e,s,r){return c(),d(k,null,[n[2]||(n[2]=a("p",null,"You are about to delete an experiment. This action cannot be undone.",-1)),n[3]||(n[3]=a("p",null,"Deleting an experiment will also delete all associated executions.",-1)),n[4]||(n[4]=a("p",null,"Type 'DELETE' to proceed.",-1)),a("form",{class:"form",onSubmit:T(e.proceed,["prevent"])},[a("div",F,[n[1]||(n[1]=a("label",{for:"confirmDelete"},null,-1)),B(a("input",{type:"text",id:"confirmDelete",name:"confirmDelete","onUpdate:modelValue":n[0]||(n[0]=t=>e.confirmation=t)},null,512),[[D,e.confirmation]])]),a("div",M,[a("button",{type:"button",onClick:T(e.cancel,["prevent"]),class:"button"}," Cancel "),a("button",{type:"button",onClick:T(e.proceed,["prevent"]),class:"button button--destructive",disabled:e.confirmation!=="DELETE"}," Delete ",8,V)])],32)],64)}const ie=b(R,[["render",L],["__scopeId","data-v-8350c578"]]),N=h({__name:"ExperimentScore",props:{score:{},mini:{type:Boolean}},setup(u,{expose:n}){n();const l=u,{score:e,mini:s}=S(l),r=m(()=>e.value===null?"-":e.value>=.9?"A":e.value>=.7?"B":e.value>=.5?"C":"D"),t=m(()=>e.value===null?"-":Math.round(e.value*100).toString()),o=m(()=>({"experimentScore--mini":s!==void 0&&s.value===!0,"experimentScore--null":e.value===null,"experimentScore--A":e.value!==null&&e.value>=.9,"experimentScore--B":e.value!==null&&e.value>=.7&&e.value<.9,"experimentScore--C":e.value!==null&&e.value>=.5&&e.value<.7,"experimentScore--D":e.value!==null&&e.value<.5})),i={props:l,score:e,mini:s,scoreGrade:r,scorePercent:t,classObject:o};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}}),A={class:"experimentScore__grade text-center"},G={key:0,class:"experimentScore__score text-center"};function W(u,n,l,e,s,r){return c(),d("div",{class:x(["experimentScore hasTooltip hasTooltip--bottom-center",e.classObject]),"aria-label":`Experiment Score, based 
on the last 10 executions`,label:`Experiment Score, based 
on the last 10 executions`},[a("div",A,[n[0]||(n[0]=a("span",{class:"screen-reader-text"},"Experiment Grade",-1)),y(" "+f(e.scoreGrade),1)]),e.mini?v("",!0):(c(),d("div",G,[n[1]||(n[1]=a("span",{class:"screen-reader-text"},"Experiment Score",-1)),y(" "+f(e.scorePercent),1)]))],2)}const ue=b(N,[["render",W]]),z=h({__name:"ExperimentFreshness",props:{last:{},mini:{type:Boolean}},setup(u,{expose:n}){n();const l=u,{last:e,mini:s}=S(l),r=m(()=>e.value===null||e.value===""?null:O().diff(e.value,"day")),t=m(()=>r.value===null?"Not run yet":r.value>28?"28+ days":r.value===1?"1 day":`${r.value.toString()} days`),o=m(()=>r.value!==null?r.value>28?"0":r.value===0?"100":Math.round(.14656*r.value*r.value-7.7048*r.value+103.79).toString():"-"),i=m(()=>({"freshnessScore--fresh":o.value!=="-"&&parseInt(o.value)>75,"freshnessScore--good":o.value!=="-"&&parseInt(o.value)<=75&&parseInt(o.value)>50,"freshnessScore--ok":o.value!=="-"&&parseInt(o.value)<=50&&parseInt(o.value)>25,"freshnessScore--bad":o.value!=="-"&&parseInt(o.value)<=25,"freshnessScore--mini":s!==void 0&&s.value===!0})),p={props:l,last:e,mini:s,d:r,days:t,f:o,freshnessObject:i};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}}),U={class:"freshnessScore__score"},Y={key:0},q={key:0,class:"freshnessScore__days"};function H(u,n,l,e,s,r){return c(),d("div",{class:x(["freshnessScore hasTooltip hasTooltip--bottom-center",e.freshnessObject]),"aria-label":`Freshness represents how long
ago an experiment was last run`,label:`Freshness represents how long
ago an experiment was last run`},[a("span",U,[y(f(e.f),1),e.f!=="-"&&!e.mini?(c(),d("small",Y,"%")):v("",!0)]),e.mini?v("",!0):(c(),d("span",q,f(e.days),1))],2)}const ce=b(z,[["render",H],["__scopeId","data-v-884cd845"]]),J=h({__name:"ExperimentTrend",props:{exp:{},trend:{},mini:{type:Boolean}},setup(u,{expose:n}){n();const l=u,{exp:e,trend:s}=S(l),r=w([]);function t(){if(s.value===null)r.value=Array.from({length:10},(p,_)=>["","",0]);else{r.value=s.value;const p=10-r.value.length;for(let _=0;_<p;_++)r.value.unshift(["","",0])}}function o(p){return p===0?"experimentTrend__dot--bad":p===.5?"experimentTrend__dot--ok":p===1?"experimentTrend__dot--good":""}I(()=>{t()});const i={props:l,exp:e,trend:s,fullTrend:r,fillTrend:t,scoreToClass:o,get humanReadableTime(){return P}};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}}),K=["href","label","aria-label"],Q={class:"screen-reader-text"},X={key:1,class:"experimentTrend__dot experimentTrend__dot--empty"};function Z(u,n,l,e,s,r){return e.trend!==null?(c(),d("ol",{key:0,class:x(["list-reset experimentTrend",l.mini?"experimentTrend--mini":""])},[(c(!0),d(k,null,$(e.fullTrend,t=>(c(),d("li",{key:t[0],class:"experimentTrend__item"},[t[0]!==""?(c(),d("a",{key:0,href:`/executions/view/?id=${t[0]}&exp=${e.exp}`,class:x(["experimentTrend__dot hasTooltip hasTooltip--bottom-center",e.scoreToClass(t[2])]),label:e.humanReadableTime(t[1]),"aria-label":e.humanReadableTime(t[1])},[n[0]||(n[0]=a("span",null,null,-1)),a("span",Q," Score: "+f(t[2])+", date: "+f(e.humanReadableTime(t[1]))+". View execution. ",1)],10,K)):(c(),d("span",X,n[1]||(n[1]=[a("span",null,null,-1)])))]))),128))],2)):v("",!0)}const de=b(J,[["render",Z],["__scopeId","data-v-955ba902"]]);export{ie as C,ue as E,ce as a,de as b};
