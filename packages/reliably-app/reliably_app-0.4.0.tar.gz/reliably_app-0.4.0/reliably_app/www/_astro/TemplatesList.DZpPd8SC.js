import{e as E,l as V,b as k,g as M,h as U}from"./templates.C0LiUYsE.js";import{N as q}from"./NoData.CWOJbPLy.js";import{w as I}from"./runtime-dom.esm-bundler.DChKj6X8.js";import{C as R}from"./ConfirmDeleteTemplate.DgAxsJkF.js";import{T as z}from"./TimeAgo.hHi23vP_.js";import{T as F}from"./TagList.DHWFg1rv.js";import{M as W}from"./ModalWindow.Go1bYN-e.js";import{D as G}from"./DeleteButton.Ch6PF2gM.js";import{E as H}from"./EyeIcon.CCc3ET-2.js";import{C as Q}from"./CopyIcon.CpId03NM.js";/* empty css                       */import{_ as T}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{d as P,t as S,r as v,h as o,c as _,a as m,j as D,b as C,i as f,l as h,m as B,e as w,g as N,n as J,o as O,F as x,k as A,f as K}from"./runtime-core.esm-bundler.Y6RLDZTT.js";import{L as X}from"./LoadingPlaceholder.BoWrztnb.js";import{P as Y}from"./Pager.Cmasf88E.js";import{u as j}from"./index.CwJxcYEt.js";import"./user.BEEfOshe.js";import"./user.Bg1Nd46A.js";import"./index.BSdFiPHn.js";import"./loader.BQDlK3Tc.js";import"./notifications.NSMm1_5U.js";/* empty css                        *//* empty css                       */import"./dayjs.min.xlbmdZiw.js";/* empty css                        */import"./index.DUHDLdXK.js";import"./CloseIcon.DLOPA8gH.js";/* empty css                        */import"./TrashIcon.BzGEjUcP.js";/* empty css                       *//* empty css                       */const Z=P({__name:"TemplatePreview",props:{template:{},page:{}},setup(c,{expose:s}){s();const r=c,{template:e,page:i}=S(r),a=v(!1),l={props:r,template:e,page:i,isDeleteDisplayed:a,displayDelete:()=>{a.value=!0},closeDelete:()=>{a.value=!1},ConfirmDeleteTemplate:R,TimeAgo:z,TagList:F,ModalWindow:W,DeleteButton:G,EyeIcon:H,CopyIcon:Q};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}}),$={class:"templatePreview tableList__row"},ee={class:"templatePreview__meta tableList__cell"},te={class:"templatePreview__name"},ae=["href"],le={class:"templatePreview__info"},se={class:"templatePreview__labels tableList__cell"},oe={class:"templatePreview__actions tableList__cell tableList__cell--small"},re=["href"],ie=["href"];function ne(c,s,r,e,i,a){return o(),_("li",$,[m("div",ee,[m("div",te,[m("a",{href:`/experiments/custom-templates/create/?id=${e.template.id}`},D(e.template.manifest.metadata.name),9,ae)]),m("div",le,[C(" #"+D(e.template.id)+" created ",1),f(e.TimeAgo,{timestamp:e.template.created_date},null,8,["timestamp"])])]),m("div",se,[f(e.TagList,{tags:e.template.manifest.metadata.labels},null,8,["tags"])]),m("div",oe,[m("a",{href:`/experiments/custom-templates/view/?id=${e.template.id}`,class:"button button--icon hasTooltip hasTooltip--bottom-center","aria-label":"View details",label:"View details"},[f(e.EyeIcon)],8,re),m("a",{href:`/experiments/custom-templates/new/?duplicate=${e.template.id}`,class:"button button--icon hasTooltip hasTooltip--bottom-center","aria-label":"Duplicate",label:"Duplicate"},[f(e.CopyIcon)],8,ie),f(e.DeleteButton,{onClick:I(e.displayDelete,["prevent"])})]),e.isDeleteDisplayed?(o(),h(e.ModalWindow,{key:0,hasCloseButton:!0,hasPadding:!0,onClose:e.closeDelete},{title:B(()=>s[0]||(s[0]=[C("Delete Template")])),content:B(()=>[f(e.ConfirmDeleteTemplate,{id:e.template.id,"in-place":!0,page:e.page,onClose:e.closeDelete},null,8,["id","page"])]),_:1})):w("",!0)])}const ce=T(Z,[["render",ne],["__scopeId","data-v-9a064dcf"]]),me=P({__name:"TemplatesLabel",props:{label:{}},emits:["updateSearchParams"],setup(c,{expose:s,emit:r}){s();const e=c,i=r,{label:a}=S(e),t=v(null),p=N(()=>t.value!==null?t.value:a.value.active);function l(){t.value!==null?t.value=!t.value:t.value=!a.value.active,i("updateSearchParams",a.value.label,p.value?"add":"remove")}const u={props:e,emit:i,label:a,isClickedActive:t,isActive:p,updateUrlParams:l};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}});function pe(c,s,r,e,i,a){return o(),_("button",{onClick:I(e.updateUrlParams,["prevent"]),class:J(["templatesLabel pill",{"templatesLabel--active":e.isActive}])},D(e.label.label),3)}const de=T(me,[["render",pe],["__scopeId","data-v-548c9b87"]]),_e=P({__name:"TemplatesLabels",props:{labels:{}},emits:["getTemplatesByLabels"],setup(c,{expose:s,emit:r}){s();const e=c,i=r,{labels:a}=S(e),t=v(null),p=N(()=>{let n={};return a.value.forEach(b=>{n[b]=!1}),n}),l=v([]),u=()=>{if(t.value!==null){let n=new URLSearchParams(t.value.search);l.value=n.getAll("q"),l.value.forEach(b=>{p.value[b]=!0})}};function L(n,b){if(b==="add")l.value.includes(n)||l.value.push(n);else if(b==="remove"){let y=l.value.indexOf(n);y!==-1&&l.value.splice(y,1)}let g="";l.value.length?(g+="?",l.value.forEach(y=>{g+=`q=${y}&`}),g=g.slice(0,-1)):g=`${window.location.origin}/${window.location.pathname}`,history.pushState({},"",g),i("getTemplatesByLabels",l.value)}O(()=>{t.value=window.location,u()});const d={props:e,emit:i,labels:a,loc:t,labelsObject:p,queryTerms:l,getQueryParams:u,updateParams:L,TemplatesLabel:de};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}}),ue={class:"templatesLabels list-reset pills"};function fe(c,s,r,e,i,a){return o(),_("ul",ue,[(o(!0),_(x,null,A(Object.keys(e.labelsObject),t=>(o(),_("li",{key:t},[f(e.TemplatesLabel,{label:{label:t,active:e.labelsObject[t]},onUpdateSearchParams:e.updateParams},null,8,["label"])]))),128))])}const ve=T(_e,[["render",fe],["__scopeId","data-v-7636cfb8"]]),be=P({__name:"TemplatesList",setup(c,{expose:s}){s();const r=v(!0),e=v(void 0),i=v({currentPage:1,lastPage:1,urlBase:""}),a=j(E),t=j(V),p=()=>{let d=window.location,n=new URLSearchParams(d.search);n.has("page")?e.value=parseInt(n.get("page")):e.value=1},l=()=>{let d={currentPage:e.value,lastPage:Math.ceil(a.value.total/10),urlBase:"/experiments/custom-templates/?page="};i.value=d};async function u(d){d.length?await U(d):await k(1)}O(async()=>{r.value=!0,p(),await k(e.value),l(),await M(),r.value=!1});const L={isLoading:r,page:e,pagerData:i,temps:a,ls:t,getCurrentPage:p,getpagerData:l,getTemplatesByLabels:u,NoData:q,TemplatePreview:ce,TemplatesLabels:ve,LoadingPlaceholder:X,Pager:Y};return Object.defineProperty(L,"__isScriptSetup",{enumerable:!1,value:!0}),L}}),ge={class:"templatesIntroduction"},he={key:0},Le={key:3,class:"templatesList tableList"};function ye(c,s,r,e,i,a){return o(),_(x,null,[m("div",ge,[s[0]||(s[0]=m("p",null," Templates are ready-to-go experiments that you can fill and instanciate without having to build them from scratch. ",-1)),e.temps.total!==0?(o(),_("p",he," Select any of the labels below to filter and find the right one for you. Happy learning! ")):w("",!0)]),e.ls!==null?(o(),h(e.TemplatesLabels,{key:0,labels:e.ls,onGetTemplatesByLabels:e.getTemplatesByLabels},null,8,["labels"])):w("",!0),e.isLoading?(o(),h(e.LoadingPlaceholder,{key:1,size:"large"})):e.temps.total===0?(o(),h(e.NoData,{key:2,message:"No templates found"})):(o(),_("ul",Le,[s[1]||(s[1]=K('<li class="tableList__row tableList__row--header" data-v-d07d34da><div class="tableList__cell" data-v-d07d34da>Name</div><div class="tableList__cell" data-v-d07d34da>Labels</div><div class="tableList__cell" data-v-d07d34da><span class="screen-reader-text" data-v-d07d34da>Actions</span></div></li>',1)),(o(!0),_(x,null,A(e.temps.templates,t=>(o(),h(e.TemplatePreview,{template:t,page:e.page,key:t.id,class:"tableList__row"},null,8,["template","page"]))),128))])),e.temps.total>10?(o(),h(e.Pager,{key:4,page:e.pagerData},null,8,["page"])):w("",!0)],64)}const $e=T(be,[["render",ye],["__scopeId","data-v-d07d34da"]]);export{$e as default};
