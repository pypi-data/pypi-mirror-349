import{i as m,o as f,t as _}from"./user.TOXT8CXA.js";import{_ as h}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{d as v,r as w,o as x}from"./runtime-core.esm-bundler.Y6RLDZTT.js";import{u as d}from"./index.CwJxcYEt.js";import"./index.BSdFiPHn.js";import"./loader.BQDlK3Tc.js";import"./notifications.NSMm1_5U.js";const $=v({__name:"LoginHandler",setup(g,{expose:c}){c();const i=d(m),r=d(f),o=w(void 0),s=()=>{let t=window.location,e=new URLSearchParams(t.search);e.has("context")&&(o.value=e.get("context"))},l=async()=>{let t=window.location,e=new URLSearchParams(t.search);if(e.has("join")&&e.get("join")==="success"&&e.has("orgid")&&e.get("orgid")!==void 0&&(o.value,e.get("orgid")),o.value!==void 0)if(await _(o.value),i&&r.value)if(e.has("redirect_to")){const a=e.get("redirect_to");if(a==="subscribe"){const n=e.get("plan");t.replace(`/settings/organization/?plan=${n}`)}else if(a==="templates"){const n=e.get("activity");t.replace(`/experiments/custom-templates/create/?activity=${n}`)}}else if(e.has("join")){const a=e.get("join"),n=e.get("org"),u=e.get("orgid");t.replace(`/?org_name=${n}&org_id=${u}&join=${a}`)}else t.replace("/");else t.replace("/login?s=failed")};x(async()=>{await s(),await l()});const p={isUserLoggedIn:i,userToken:r,context:o,getContext:s,loginSubmitHandler:l};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}});function j(g,c,i,r,o,s){return null}const k=h($,[["render",j]]);export{k as default};
