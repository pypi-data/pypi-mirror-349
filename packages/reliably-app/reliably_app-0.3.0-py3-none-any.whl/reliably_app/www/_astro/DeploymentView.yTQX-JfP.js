import{a as te,s as ie}from"./strings.Fm4VVZpd.js";import{g as le,h as oe,a as ae,b as se}from"./deployments._Dzuk3-5.js";import{L as ee}from"./LoadingPlaceholder.BoWrztnb.js";import{N as de}from"./NoData.CWOJbPLy.js";import{M as re}from"./MultiButton.BdOjon-N.js";import{T as ue}from"./TimeAgo.hHi23vP_.js";import{M as pe}from"./ModalWindow.Go1bYN-e.js";import{C as fe}from"./ConfirmDeleteDeployment.BKz9opep.js";import{v as y,w as z,a as $,b as G}from"./runtime-dom.esm-bundler.DChKj6X8.js";import{_ as Y}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{d as J,t as Q,r as s,h as l,c as o,a as t,w as f,F as I,g as O,o as Z,b as d,f as ne,e as u,l as K,k as me,j as g,n as ye,i as D,m as h}from"./runtime-core.esm-bundler.Y6RLDZTT.js";/* empty css                      */import{r as ve,b as be}from"./plans.CKfMLPs_.js";import{P as ce}from"./PlanPreview.Zap9om5u.js";import{u as _e}from"./index.CwJxcYEt.js";import{G as ge}from"./GithubLogo.AFEE3hFH.js";import{R as ke}from"./ReliablyRLogo.BeZqNTy5.js";import{D as De}from"./DockerLogo.DO2Y8vmm.js";import{K as Ce}from"./KubernetesLogo.HTj9OyEL.js";import"./dayjs.min.xlbmdZiw.js";import"./duration.BGVtNWJ9.js";import"./notifications.NSMm1_5U.js";import"./index.BSdFiPHn.js";import"./user.BEEfOshe.js";import"./user.Bg1Nd46A.js";import"./loader.BQDlK3Tc.js";/* empty css                       *//* empty css                        */import"./index.DUHDLdXK.js";import"./CopyIcon.CpId03NM.js";import"./TrashIcon.BzGEjUcP.js";import"./EditIcon.VtRJix1y.js";import"./PlusIcon.CLPjCzPo.js";/* empty css                      */import"./ChevronDown.BHvjSUQm.js";import"./CloseIcon.DLOPA8gH.js";/* empty css                        *//* empty css                       */import"./environments.zePoF_Ox.js";import"./ConfirmDeletePlan.Doxxn7Bj.js";/* empty css                      *//* empty css                      */import"./experiments.E3MiUWYx.js";import"./experiments.rwiqw3d6.js";import"./objects.CrQdKsRW.js";import"./DeleteButton.Ch6PF2gM.js";const Me=J({__name:"CloneDeploymentForm",props:{id:{}},emits:["close"],setup(_,{expose:e,emit:v}){e();const n=_,{id:p}=Q(n),b=s(""),i=v,q={props:n,id:p,name:b,emit:i,cancel:()=>{i("close")},proceed:async()=>{await le(p.value,{name:b.value}),i("close")}};return Object.defineProperty(q,"__isScriptSetup",{enumerable:!1,value:!0}),q}}),Ie={class:"form"},Re={class:"inputWrapper"},we={class:"inputWrapper"},Ke=["disabled"];function Le(_,e,v,n,p,b){return l(),o(I,null,[e[2]||(e[2]=t("p",null,"This will create a clone of the current deployment under an new name.",-1)),t("form",Ie,[t("div",Re,[e[1]||(e[1]=t("label",{for:"cloneName"},"Name",-1)),f(t("input",{type:"text",id:"cloneName",name:"cloneName","onUpdate:modelValue":e[0]||(e[0]=i=>n.name=i)},null,512),[[y,n.name]])]),t("div",we,[t("button",{onClick:z(n.cancel,["prevent"]),class:"button button--destructiveLight"}," Cancel "),t("button",{onClick:z(n.proceed,["prevent"]),class:"button button--creative",disabled:n.name===""}," Clone deployment ",8,Ke)])])],64)}const Ue=Y(Me,[["render",Le]]),We=J({__name:"DeploymentEdit",props:{current:{},supported:{},reliablyDeploy:{},kubernetes:{type:Boolean}},emits:["cancelled","saved"],setup(_,{expose:e,emit:v}){e();const n=_,{current:p,supported:b,reliablyDeploy:i,kubernetes:L}=Q(n),m=v;function q(a){return b.value.includes(a)}const k=s(""),r=s(""),B=s(""),U=s("main"),W=s(""),V=s(""),x=s(""),T=s("default"),R=s(""),w=s(!0),E=s(""),C=s(!1),M=s(""),A=s("manual"),j=s(""),N=s(""),S=s(""),X=O(()=>r.value===""?!0:r.value==="github"?k.value===""||B.value===""||U.value===""||W.value===""||V.value==="":r.value==="container"?k.value===""||x.value==="":r.value==="reliably_cloud"||r.value==="reliably_cli"?k.value==="":r.value==="kubernetes"?k.value===""||T.value===""||L.value===!1&&w.value===!1&&M.value===""||w.value===!1&&E.value===""||C.value===!1&&M.value==="":!0),F=()=>{m("cancelled")},H=async()=>{let a={name:k.value,definition:{type:r.value}};r.value==="github"?a.definition={type:r.value,repo:B.value,branch:U.value,username:W.value,token:V.value}:r.value==="container"?a.definition={type:r.value,image:x.value}:r.value==="kubernetes"?(a.definition={type:"k8s_job",namespace:T.value,use_default_manifest:w.value,use_in_cluster_credentials:C.value},R.value!==""&&(a.definition.image=R.value),E.value!==""&&(a.definition.manifest=E.value),M.value!==""&&(a.definition.credentials=M.value)):r.value==="reliably_cli"&&(a.definition={type:r.value,mode:A.value,base_dir:j.value,py_version:N.value,py_dependencies:S.value}),await oe(p.value.id,a),m("saved")};function c(){if(k.value=p.value.name,r.value=p.value.definition.type,r.value==="github"){const a=p.value.definition;B.value=a.repo,a.branch&&(U.value=a.branch),W.value=a.username,V.value=a.token}else if(r.value==="container")x.value=p.value.definition.image;else if(r.value==="kubernetes"){const a=p.value.definition;T.value=a.namespace,R.value=a.image||"",w.value=a.use_default_manifest,C.value=a.use_in_cluster_credentials,M.value=a.credentials||""}else if(r.value==="reliably_cli"){const a=p.value.definition;A.value=a.mode||"manual",j.value=a.base_dir||"",N.value=a.py_version||"",S.value=a.py_dependencies||""}}Z(()=>{c()});const P={props:n,current:p,supported:b,reliablyDeploy:i,kubernetes:L,emit:m,supports:q,deploymentName:k,definitionType:r,definitionRepo:B,definitionBranch:U,definitionUsername:W,definitionToken:V,definitionImageName:x,definitionK8sNamespace:T,definitionK8sImage:R,definitionK8sUseDefaultManifest:w,definitionK8sManifest:E,definitionK8sUseInClusterCredentials:C,definitionK8sCredentials:M,definitionCliRunMode:A,definitionBaseDir:j,definitionPyVer:N,definitionInstallDeps:S,isSubmitDisabled:X,cancel:F,proceed:H,setOriginalValues:c};return Object.defineProperty(P,"__isScriptSetup",{enumerable:!1,value:!0}),P}}),Ve={class:"deploymentEdit form"},xe={class:"inputWrapper"},Ne={class:"inputWrapper"},Pe={class:"inputWrapper"},qe={class:"inputWrapper"},Be={class:"inputWrapper"},Te={class:"inputWrapper"},Ee={class:"inputWrapper"},Se={class:"inputWrapper"},he={class:"inputWrapper"},Ae={key:2,class:"inputWrapper"},je={class:"inputWrapper"},Fe={class:"inputWrapper"},He={class:"inputWrapper inputWrapper--tick","aria-labelledby":"definitionK8sDefaultManifest"},Ge={key:0,class:"inputWrapper"},Oe={key:1,class:"inputWrapper inputWrapper--tick","aria-labelledby":"definitionK8sInClusterCredentials"},ze={key:2,class:"inputWrapper"},Ye={class:"inputWrapper"},Je=["disabled"];function Qe(_,e,v,n,p,b){return l(),o("form",Ve,[t("fieldset",null,[e[20]||(e[20]=t("legend",null,"Deployment",-1)),t("div",xe,[e[19]||(e[19]=t("label",{for:"deploymentName"},[d(" Deployment name "),t("span",{class:"required"},"Required")],-1)),f(t("input",{type:"text",name:"deploymentName",id:"deploymentName","onUpdate:modelValue":e[0]||(e[0]=i=>n.deploymentName=i),required:""},null,512),[[y,n.deploymentName]])])]),t("fieldset",null,[e[56]||(e[56]=t("legend",null,"Definition",-1)),n.definitionType==="reliably_cli"?(l(),o(I,{key:0},[t("div",Ne,[e[22]||(e[22]=t("label",{for:"deploymentCliRunMode"},"Execution Mode",-1)),f(t("select",{name:"runMode",id:"runMode","onUpdate:modelValue":e[1]||(e[1]=i=>n.definitionCliRunMode=i),required:""},e[21]||(e[21]=[t("option",{value:"manual"},"Manual",-1),t("option",{value:"managed"},"Managed",-1)]),512),[[$,n.definitionCliRunMode]]),e[23]||(e[23]=t("p",{class:"inputWrapper__help"},[d(" In "),t("strong",null,"manual"),d(" mode, Reliably will prepare and schedule a plan but you be responsible to execute it with the CLI at your own convenience. In "),t("strong",null,"managed"),d(" mode, Reliably will launch the plan for you immediately or as per its schedule. ")],-1))]),n.definitionCliRunMode=="managed"?(l(),o(I,{key:0},[t("div",Pe,[e[24]||(e[24]=t("label",{for:"deploymentBaseDir"}," Execution Directory ",-1)),f(t("input",{type:"string",name:"deploymentBaseDir",id:"deploymentBaseDir","onUpdate:modelValue":e[2]||(e[2]=i=>n.definitionBaseDir=i)},null,512),[[y,n.definitionBaseDir]]),e[25]||(e[25]=t("p",{class:"inputWrapper__help"}," Absolute directory where to move to first. This directory must exist. If not set, a temporary directory will be created when a plan runs ",-1))]),t("div",qe,[e[27]||(e[27]=t("label",{for:"deploymentBaseDir"}," Install Python ",-1)),f(t("select",{name:"pythonVer",id:"pythonVer","onUpdate:modelValue":e[3]||(e[3]=i=>n.definitionPyVer=i)},e[26]||(e[26]=[ne('<option value="" data-v-69b0d314>Select a python version</option><option value="3.11" data-v-69b0d314>3.11</option><option value="3.12" data-v-69b0d314>3.12</option><option value="3.13" data-v-69b0d314>3.13</option><option value="3.14" data-v-69b0d314>3.14</option>',5)]),512),[[$,n.definitionPyVer]]),e[28]||(e[28]=t("p",{class:"inputWrapper__help"}," Download an install a specific Python version to run the plan. If not set, use the system Python ",-1))]),t("div",Be,[e[29]||(e[29]=t("label",{for:"deploymentInstallDeps"}," Execution Dependencies ",-1)),f(t("textarea",{name:"deploymentInstallDeps",id:"deploymentInstallDeps","onUpdate:modelValue":e[4]||(e[4]=i=>n.definitionInstallDeps=i),required:""},null,512),[[y,n.definitionInstallDeps]]),e[30]||(e[30]=t("p",{class:"inputWrapper__help"},[d(" Python dependencies to install on-the-fly. Set the content of a "),t("a",{href:"https://pip.pypa.io/en/stable/reference/requirements-file-format/"},"requirements.txt"),d(" file ")],-1))])],64)):u("",!0)],64)):n.definitionType==="github"?(l(),o(I,{key:1},[t("div",Te,[e[31]||(e[31]=t("label",{for:"deploymentRepo"},[d(" Repository "),t("span",{class:"required"},"Required")],-1)),f(t("input",{type:"url",name:"deploymentRepo",id:"deploymentRepo","onUpdate:modelValue":e[5]||(e[5]=i=>n.definitionRepo=i),required:""},null,512),[[y,n.definitionRepo]]),e[32]||(e[32]=t("p",{class:"inputWrapper__help"},"A repository URL",-1))]),t("div",Ee,[e[33]||(e[33]=t("label",{for:"deploymentBranch"},[d(" Branch "),t("span",{class:"required"},"Required")],-1)),f(t("input",{type:"text",name:"deploymentBranch",id:"deploymentBranch","onUpdate:modelValue":e[6]||(e[6]=i=>n.definitionBranch=i),required:""},null,512),[[y,n.definitionBranch]]),e[34]||(e[34]=t("p",{class:"inputWrapper__help"}," An existing branch in your target repository ",-1))]),t("div",Se,[e[35]||(e[35]=t("label",{for:"deploymentUsername"},[d(" Username "),t("span",{class:"required"},"Required")],-1)),f(t("input",{type:"text",name:"deploymentUsername",id:"deploymentUsername","onUpdate:modelValue":e[7]||(e[7]=i=>n.definitionUsername=i),required:""},null,512),[[y,n.definitionUsername]]),e[36]||(e[36]=t("p",{class:"inputWrapper__help"}," A GitHub username with access to the repository ",-1))]),t("div",he,[e[37]||(e[37]=t("label",{for:"deploymentToken"},[d(" Token "),t("span",{class:"required"},"Required")],-1)),f(t("input",{type:"text",name:"deploymentToken",id:"deploymentToken","onUpdate:modelValue":e[8]||(e[8]=i=>n.definitionToken=i),autocomplete:"off",required:""},null,512),[[y,n.definitionToken]]),e[38]||(e[38]=t("p",{class:"inputWrapper__help"}," A token granting access to the repository ",-1))])],64)):n.definitionType==="container"?(l(),o("div",Ae,[e[39]||(e[39]=t("label",{for:"dockerName"},[d(" Docker image name "),t("span",{class:"required"},"Required")],-1)),f(t("input",{type:"string",name:"dockerName",id:"dockerName","onUpdate:modelValue":e[9]||(e[9]=i=>n.definitionImageName=i),required:""},null,512),[[y,n.definitionImageName]]),e[40]||(e[40]=t("p",{class:"inputWrapper__help"}," The name of the Docker image this deployment will be targeting ",-1))])):n.definitionType==="k8s_job"?(l(),o(I,{key:3},[t("div",je,[e[41]||(e[41]=t("label",{for:"k8sNamespace"},[d(" Namespace "),t("span",{class:"required"},"Required")],-1)),f(t("input",{type:"string",name:"k8sNamespace",id:"k8sNamespace","onUpdate:modelValue":e[10]||(e[10]=i=>n.definitionK8sNamespace=i),placeholder:"default",required:""},null,512),[[y,n.definitionK8sNamespace]])]),t("div",Fe,[e[42]||(e[42]=t("label",{for:"k8sImage"},"Image",-1)),f(t("input",{type:"string",name:"k8sImage",id:"k8sImage","onUpdate:modelValue":e[11]||(e[11]=i=>n.definitionK8sImage=i),placeholder:"ghcr.io/rebound-how/reliably-job:latest"},null,512),[[y,n.definitionK8sImage]])]),t("div",He,[e[45]||(e[45]=t("label",{id:"definitionK8sDefaultManifest"}," Use default manifest ",-1)),t("div",null,[f(t("input",{type:"radio",value:!0,"onUpdate:modelValue":e[12]||(e[12]=i=>n.definitionK8sUseDefaultManifest=i),id:"definitionK8sDefaultManifest-true",name:"definitionK8sDefaultManifest-true"},null,512),[[G,n.definitionK8sUseDefaultManifest]]),e[43]||(e[43]=t("label",{for:"definitionK8sDefaultManifest-true"},"True",-1))]),t("div",null,[f(t("input",{type:"radio",value:!1,"onUpdate:modelValue":e[13]||(e[13]=i=>n.definitionK8sUseDefaultManifest=i),id:"definitionK8sDefaultManifest-false",name:"definitionK8sDefaultManifest-false"},null,512),[[G,n.definitionK8sUseDefaultManifest]]),e[44]||(e[44]=t("label",{for:"definitionK8sDefaultManifest-false"},"False",-1))])]),n.definitionK8sUseDefaultManifest?u("",!0):(l(),o("div",Ge,[e[46]||(e[46]=t("label",{for:"k8sManifest"},[d(" Manifest "),t("span",{class:"required"},"Required")],-1)),f(t("textarea",{name:"k8sManifest",id:"k8sManifest","onUpdate:modelValue":e[14]||(e[14]=i=>n.definitionK8sManifest=i),required:""},null,512),[[y,n.definitionK8sManifest]]),e[47]||(e[47]=t("p",{class:"inputWrapper__help"}," If you're not using the default manifest, paste your Kubernetes manifest here. ",-1))])),n.kubernetes?(l(),o("div",Oe,[e[50]||(e[50]=t("label",{id:"definitionK8sInClusterCredentials"}," Use in-cluster credentials ",-1)),e[51]||(e[51]=t("p",{class:"inputWrapper__help"}," If Reliably runs in your Kubernetes cluster, you can have it use the credentials from the cluster. ",-1)),t("div",null,[f(t("input",{type:"radio",value:!0,"onUpdate:modelValue":e[15]||(e[15]=i=>n.definitionK8sUseInClusterCredentials=i),id:"definitionK8sInClusterCredentials-true",name:"definitionK8sInClusterCredentials-true"},null,512),[[G,n.definitionK8sUseInClusterCredentials]]),e[48]||(e[48]=t("label",{for:"definitionK8sInClusterCredentials-true"},"True",-1))]),t("div",null,[f(t("input",{type:"radio",value:!1,"onUpdate:modelValue":e[16]||(e[16]=i=>n.definitionK8sUseInClusterCredentials=i),id:"definitionK8sInClusterCredentials-false",name:"definitionK8sInClusterCredentials-false"},null,512),[[G,n.definitionK8sUseInClusterCredentials]]),e[49]||(e[49]=t("label",{for:"definitionK8sInClusterCredentials-false"},"False",-1))])])):u("",!0),n.definitionK8sUseInClusterCredentials?u("",!0):(l(),o("div",ze,[n.reliablyDeploy==="onprem"?(l(),o(I,{key:0},[e[52]||(e[52]=t("label",{for:"k8sCredentials"}," Credentials ",-1)),f(t("textarea",{name:"k8sCredentials",id:"k8sCredentials","onUpdate:modelValue":e[17]||(e[17]=i=>n.definitionK8sCredentials=i)},null,512),[[y,n.definitionK8sCredentials]]),e[53]||(e[53]=t("p",{class:"inputWrapper__help"}," If you don't want Reliably to use in-cluster credentials, you can provide credentials here. If no credentials are provided, the credentials from the machine running Reliably will be used. ",-1))],64)):(l(),o(I,{key:1},[e[54]||(e[54]=t("label",{for:"k8sCredentials"},[d(" Credentials "),t("span",{class:"required"},"Required")],-1)),f(t("textarea",{name:"k8sCredentials",id:"k8sCredentials","onUpdate:modelValue":e[18]||(e[18]=i=>n.definitionK8sCredentials=i),required:""},null,512),[[y,n.definitionK8sCredentials]]),e[55]||(e[55]=t("p",{class:"inputWrapper__help"}," If you don't want Reliably to use in-cluster credentials, you must provide credentials here. ",-1))],64))]))],64)):u("",!0),t("div",Ye,[t("button",{onClick:z(n.cancel,["prevent"]),class:"button button--destructiveLight"}," Cancel "),t("button",{onClick:z(n.proceed,["prevent"]),disabled:n.isSubmitDisabled,class:"button button--creative"}," Save changes ",8,Je)])])])}const Xe=Y(We,[["render",Qe],["__scopeId","data-v-69b0d314"]]),Ze=J({__name:"DeploymentPlans",props:{deploymentId:{}},setup(_,{expose:e}){e();const v=_,{deploymentId:n}=Q(v),p=s(!0),b=_e(ve);Z(async()=>{p.value=!0,await be(n.value,"deployments"),p.value=!1});const i={props:v,deploymentId:n,isLoading:p,plans:b,PlanPreview:ce,LoadingPlaceholder:ee};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}}),$e={key:1,class:"deploymentPlansList"},en={class:"plansList tableList"};function nn(_,e,v,n,p,b){return n.isLoading?(l(),K(n.LoadingPlaceholder,{key:0})):n.plans.length>0?(l(),o("div",$e,[e[1]||(e[1]=t("div",{class:"deploymentPlansList__heading"},[t("h2",null,"Plans"),t("p",null,"This deployment is used by the following plans.")],-1)),t("ul",en,[e[0]||(e[0]=ne('<li class="tableList__row tableList__row--header" data-v-ff18cb4c><div class="tableList__cell tableList__cell--center tableList__cell--status" data-v-ff18cb4c></div><div class="tableList__cell" data-v-ff18cb4c>Plan</div><div class="tableList__cell" data-v-ff18cb4c>Experiments</div><div class="tableList__cell" data-v-ff18cb4c>Environment</div><div class="tableList__cell tableList__cell--right" data-v-ff18cb4c> Total Runs </div><div class="tableList__cell tableList__cell--right" data-v-ff18cb4c>Last</div><div class="tableList__cell tableList__cell--right" data-v-ff18cb4c>Next</div><div class="tableList__cell" data-v-ff18cb4c>Schedule</div><div class="tableList__cell" data-v-ff18cb4c><span class="screen-reader-text" data-v-ff18cb4c>Actions</span></div></li>',1)),(l(!0),o(I,null,me(n.plans,i=>(l(),o(I,{key:i.id},[i.status!=="deleting"?(l(),K(n.PlanPreview,{key:0,plan:i,page:0,class:"tableList__row"},null,8,["plan"])):u("",!0)],64))),128))])])):u("",!0)}const tn=Y(Ze,[["render",nn],["__scopeId","data-v-ff18cb4c"]]),ln=J({__name:"DeploymentView",props:{supported:{},reliablyDeploy:{},kubernetes:{type:Boolean}},setup(_,{expose:e}){e();const v=_,{supported:n,reliablyDeploy:p,kubernetes:b}=Q(v),i=s(!0),L=s(void 0),m=s(void 0),q=O(()=>((m.value?.definition).mode||"manual")=="manual"?"Manual":"Managed"),k=O(()=>(m.value?.definition).base_dir||"Dynamically Generated"),r=O(()=>(m.value?.definition).py_version||"System"),B=s([{label:"Clone",action:"clone",icon:"copy"},{label:"Edit",action:"edit",icon:"edit"},{label:"Delete",action:"delete",icon:"trash",warning:!0}]),U=()=>{let c=window.location,P=new URLSearchParams(c.search);P.has("id")&&(L.value=P.get("id"))},W=async()=>{await ae(L.value),m.value=se.get()},V=s(null),x=()=>{let c="Deployment · Reliably",P="View your Reliably deployment details";m.value!==void 0&&(c=`${m.value.name} · Reliably`),document.title=c;const a=document.querySelector("meta[name='description']");a instanceof HTMLMetaElement&&(a.content=P)};async function T(c){c==="delete"?w():c==="edit"?M():c==="clone"&&S()}const R=s(!1),w=()=>{R.value=!0},E=()=>{R.value=!1},C=s(!1);function M(){C.value=!0}function A(){C.value=!1}async function j(){await F(),C.value=!1}const N=s(!1);function S(){N.value=!0}function X(){N.value=!1}async function F(){i.value=!0,U(),await W(),m.value?.definition.type==="github"&&(V.value=te((m.value?.definition).repo)),x(),i.value=!1}Z(async()=>{await F()});const H={props:v,supported:n,reliablyDeploy:p,kubernetes:b,isLoading:i,id:L,deploy:m,deploymentRunMode:q,deploymentRunDir:k,deploymentPyVer:r,manageActions:B,getCurrentId:U,getDeployment:W,repository:V,setMetaData:x,handleMultiButtonAction:T,isDeleteDisplayed:R,displayDelete:w,closeDelete:E,isEditionDisplayed:C,displayEdit:M,closeEdit:A,closeEditAndFetch:j,isCloneDisplayed:N,displayClone:S,closeClone:X,getData:F,get shortenUuid(){return ie},LoadingPlaceholder:ee,NoData:de,MultiButton:re,TimeAgo:ue,ModalWindow:pe,ConfirmDeleteDeployment:fe,CloneDeploymentForm:Ue,DeploymentEdit:Xe,DeploymentPlans:tn,GithubLogo:ge,ReliablyLogo:ke,DockerLogo:De,KubernetesLogo:Ce};return Object.defineProperty(H,"__isScriptSetup",{enumerable:!1,value:!0}),H}}),on={key:1,class:"deploymentView"},an={class:"pageHeader"},sn={class:"pageHeader__title"},dn={class:"pageHeader__actions"},rn={class:"deploymentInfo"},un={key:0},pn={key:1},fn={key:2},mn={key:3},yn={key:4},vn={key:0},bn={key:1},cn={key:2},_n={key:3},gn={key:4},kn={key:5},Dn={key:6},Cn={key:7},Mn={key:0},In={key:1},Rn={key:8},wn={key:0},Kn={key:1},Ln={key:9},Un={key:0},Wn={key:1},Vn={class:"deploymentPlans"};function xn(_,e,v,n,p,b){return n.isLoading?(l(),K(n.LoadingPlaceholder,{key:0,size:"large"})):n.deploy!==void 0&&n.deploy.id?(l(),o("article",on,[t("header",an,[t("div",null,[t("h1",sn,[d(g(n.deploy.name)+" ",1),t("small",null,g(n.shortenUuid(n.deploy.id)),1)])]),t("div",dn,[n.deploy!==void 0?(l(),K(n.MultiButton,{key:0,title:"Manage deployment",options:n.manageActions,onEmitAction:n.handleMultiButtonAction},null,8,["options"])):u("",!0),e[0]||(e[0]=t("a",{href:"/deployments/new/",class:"button button--creative"}," New deployment ",-1))])]),t("section",rn,[t("dl",null,[t("div",{class:ye(["deploymentInfo__type",`deploymentInfo__type--${n.deploy.definition.type}`])},[e[6]||(e[6]=t("dt",null,"Type",-1)),n.deploy.definition.type==="github"?(l(),o("dd",un,[D(n.GithubLogo),e[1]||(e[1]=d(" GitHub "))])):n.deploy.definition.type==="reliably_cloud"?(l(),o("dd",pn,[D(n.ReliablyLogo),e[2]||(e[2]=d(" Reliably Cloud "))])):n.deploy.definition.type==="reliably_cli"?(l(),o("dd",fn,[D(n.ReliablyLogo),e[3]||(e[3]=d(" Reliably CLI "))])):n.deploy.definition.type==="container"?(l(),o("dd",mn,[D(n.DockerLogo),e[4]||(e[4]=d(" Docker "))])):n.deploy.definition.type==="k8s_job"?(l(),o("dd",yn,[D(n.KubernetesLogo),e[5]||(e[5]=d(" Kubernetes "))])):u("",!0)],2),n.deploy.definition.type==="reliably_cli"?(l(),o("div",vn,[e[7]||(e[7]=t("dt",null,"Execution Mode",-1)),t("dd",null,g(n.deploymentRunMode),1)])):u("",!0),n.deploy.definition.type==="reliably_cli"&&n.deploymentRunMode==="Managed"?(l(),o("div",bn,[e[8]||(e[8]=t("dt",null,"Execution Directory",-1)),t("dd",null,g(n.deploymentRunDir),1)])):u("",!0),n.deploy.definition.type==="reliably_cli"&&n.deploymentRunMode==="Managed"?(l(),o("div",cn,[e[9]||(e[9]=t("dt",null,"Python Version",-1)),t("dd",null,g(n.deploymentPyVer),1)])):u("",!0),n.deploy.definition.type==="github"?(l(),o("div",_n,[e[10]||(e[10]=t("dt",null,"Repository",-1)),t("dd",null,[d(g(n.repository?.organization)+"/",1),t("strong",null,g(n.repository?.repository),1)])])):u("",!0),n.deploy.definition.type==="github"?(l(),o("div",gn,[e[11]||(e[11]=t("dt",null,"Environment",-1)),t("dd",null,g(n.deploy.definition.name),1)])):u("",!0),n.deploy.definition.type==="container"?(l(),o("div",kn,[e[12]||(e[12]=t("dt",null,"Image",-1)),t("dd",null,g(n.deploy.definition.image),1)])):u("",!0),n.deploy.definition.type==="k8s_job"?(l(),o("div",Dn,[e[13]||(e[13]=t("dt",null,"Namespace",-1)),t("dd",null,g(n.deploy.definition.namespace),1)])):u("",!0),n.deploy.definition.type==="k8s_job"?(l(),o("div",Cn,[e[14]||(e[14]=t("dt",null,"Image",-1)),n.deploy.definition.image?(l(),o("dd",Mn,g(n.deploy.definition.image),1)):(l(),o("dd",In,"-"))])):u("",!0),n.deploy.definition.type==="k8s_job"?(l(),o("div",Rn,[e[15]||(e[15]=t("dt",null,"Use default manifest",-1)),n.deploy.definition.use_default_manifest?(l(),o("dd",wn," Yes ")):(l(),o("dd",Kn,"No"))])):u("",!0),n.deploy.definition.type==="k8s_job"?(l(),o("div",Ln,[e[16]||(e[16]=t("dt",null,"Use in-cluster credentials",-1)),n.deploy.definition.use_in_cluster_credentials?(l(),o("dd",Un," Yes ")):(l(),o("dd",Wn,"No"))])):u("",!0),t("div",null,[e[17]||(e[17]=t("dt",null,"Created",-1)),t("dd",null,[D(n.TimeAgo,{timestamp:n.deploy.created_date},null,8,["timestamp"])])])])]),e[21]||(e[21]=t("section",{class:"deploymentHelp"},[t("a",{href:"https://reliably.com/docs/concepts/deployments/",rel:"noopener noreferer",target:"_blank"}," Read the docs "),d(" to learn how to use this deployment in your Reliably plans. ")],-1)),t("section",Vn,[D(n.DeploymentPlans,{deploymentId:n.deploy.id},null,8,["deploymentId"])]),n.isDeleteDisplayed?(l(),K(n.ModalWindow,{key:0,hasCloseButton:!0,hasPadding:!0,onClose:n.closeDelete},{title:h(()=>e[18]||(e[18]=[d("Delete Deployment")])),content:h(()=>[D(n.ConfirmDeleteDeployment,{id:n.deploy.id,onClose:n.closeDelete},null,8,["id"])]),_:1})):u("",!0),n.isCloneDisplayed?(l(),K(n.ModalWindow,{key:1,hasCloseButton:!0,hasPadding:!0,onClose:n.closeClone},{title:h(()=>e[19]||(e[19]=[d("Clone Deployment")])),content:h(()=>[D(n.CloneDeploymentForm,{id:n.deploy.id,onClose:n.closeDelete},null,8,["id"])]),_:1})):u("",!0),n.isEditionDisplayed?(l(),K(n.ModalWindow,{key:2,hasCloseButton:!0,hasPadding:!0,onClose:n.closeEdit},{title:h(()=>e[20]||(e[20]=[d("Edit Deployment")])),content:h(()=>[D(n.DeploymentEdit,{current:n.deploy,supported:n.supported,"reliably-deploy":n.reliablyDeploy,kubernetes:n.kubernetes,onCancelled:n.closeEdit,onSaved:n.closeEditAndFetch},null,8,["current","supported","reliably-deploy","kubernetes"])]),_:1})):u("",!0)])):(l(),K(n.NoData,{key:2,message:"We couldn't find a deployment with this ID."}))}const Rt=Y(ln,[["render",xn],["__scopeId","data-v-efc129ec"]]);export{Rt as default};
