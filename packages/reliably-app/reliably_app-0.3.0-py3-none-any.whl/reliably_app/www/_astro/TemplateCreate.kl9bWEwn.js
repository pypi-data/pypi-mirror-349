import{v as D,b as B,w as K,a as $,c as se}from"./runtime-dom.esm-bundler.DChKj6X8.js";import{l as te}from"./js-yaml.C-pQuU5J.js";import{i as le}from"./strings.Fm4VVZpd.js";import{c as Z}from"./experiments.rwiqw3d6.js";import{h as I}from"./objects.CrQdKsRW.js";/* empty css                     */import{_ as z}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{d as G,t as ae,r as u,g as P,p as Q,h as d,c as m,a as t,n as E,w as h,j as H,e as M,i as A,m as ne,b as N,F as ee,k as re,o as pe,f as ue}from"./runtime-core.esm-bundler.Y6RLDZTT.js";import{D as de}from"./DropZone.CliujHPk.js";import{C as me}from"./CreateExperimentField.BarnZA-o.js";import{J as fe}from"./JsonViewer.CMLqmGhq.js";import{T as ce}from"./TagList.DHWFg1rv.js";import{f as ve,t as _e,c as ye}from"./templates.C0LiUYsE.js";import{u as he}from"./index.CwJxcYEt.js";import"./dayjs.min.xlbmdZiw.js";import"./duration.BGVtNWJ9.js";import"./notifications.NSMm1_5U.js";import"./index.BSdFiPHn.js";/* empty css                     */import"./FilterableSelect.C271uK1S.js";import"./index.DUHDLdXK.js";/* empty css                        */import"./snapshots.Bn5DFrP3.js";import"./user.BEEfOshe.js";import"./user.Bg1Nd46A.js";import"./loader.BQDlK3Tc.js";/* empty css                        *//* empty css                        */import"./preload-helper.CLcXU_4U.js";/* empty css                        */function oe(n){return be(n)?ge(n)?Te(n)?Fe(n)?Ve(n)?Ie(n)?Se(n)?ke(n)?Ue(n)?"":"<code>spec.template</code> property is missing or invalid":"<code>spec.schema.configuration</code> property is missing or invalid":"<code>spec.schema</code> property is invalid":"<code>spec.type</code> property is missing or invalid":"<code>spec.provider</code> property is missing or invalid":"<code>spec</code> property is missing":"<code>metadata.labels</code> property is invalid":"<code>metadata.name</code> property is missing or invalid":"<code>metadata</code> property is missing"}function be(n){return!!I(n,"metadata")}function ge(n){return I(n.metadata,"name")?typeof n.metadata.name=="string":!1}function Te(n){if(I(n.metadata,"labels")){const a=n.metadata.labels;return Array.isArray(a)?a.every(f=>typeof f=="string"):!1}return!1}function Fe(n){return!!I(n,"spec")}function Ve(n){return I(n.spec,"provider")?n.spec.provider==="chaostoolkit":!1}function Ie(n){return I(n.spec,"type")?n.spec.type==="experiment":!1}function Se(n){return!!I(n.spec,"schema")}function ke(n){if(I(n.spec.schema,"configuration")){const a=n.spec.schema.configuration;return Array.isArray(a)?a.every(f=>typeof f.key=="string"&&typeof f.title=="string"&&typeof f.placeholder=="string"&&typeof f.help=="string"&&I(f,"default")&&typeof f.type=="string"&&typeof f.required=="boolean"):!1}return!1}function Ue(n){return I(n.spec,"template")?Z(n.spec.template)==="":!1}const we=G({__name:"TemplateImportPaste",props:{modelValue:{}},emits:["update:modelValue","setInputType"],setup(n,{expose:a,emit:f}){a();const e=n,{modelValue:J}=ae(e),c=f,i=u(""),l=u(""),r=P(()=>y.value?"experiment":p.value?"template":null),V=u(null),S=u(!1),y=u(!1),p=u(!1),b=P(()=>i.value!==""&&(!S.value||!y.value)),_=u(""),k=u("");let w=null;const R=()=>{w!==null&&clearTimeout(w),w=setTimeout(function(){if(i.value!==""){if(le(i.value))V.value=JSON.parse(i.value),S.value=!0,l.value="JSON";else try{V.value=te(i.value),S.value=!0,l.value="YAML"}catch{S.value=!1,_.value="Input is not valid JSON nor YAML"}if(S.value){let U=Z(V.value);if(U==="")y.value=!0,_.value="",k.value="";else{y.value=!1;let O=oe(V.value);O===""?(p.value=!0,_.value="",k.value=""):(_.value=`Input is not a valid Chaos Toolkit experiment: ${U}.`,k.value=`Input is not a valid Reliably template: ${O}.`)}}}else y.value=!1,_.value="Input is not valid"},500)};Q([y,p],async()=>{y.value||p.value?(c("update:modelValue",JSON.stringify(V.value)),c("setInputType",r.value)):(c("update:modelValue",""),c("setInputType",""))});const C={props:e,modelValue:J,emit:c,rawInput:i,inputFormat:l,inputType:r,inputJson:V,isFileReadable:S,isFileValidExperiment:y,isFileValidTemplate:p,errorState:b,message:_,message2:k,get timeout(){return w},set timeout(U){w=U},checkInputIsValid:R};return Object.defineProperty(C,"__isScriptSetup",{enumerable:!1,value:!0}),C}}),Oe={class:"templateImportPaste"},Le={class:"form"},De={class:"templateImportPaste__type"},Je={key:0},Ce={key:1},We=["innerHTML"],Ne=["innerHTML"];function Ee(n,a,f,e,J,c){return d(),m("div",Oe,[t("form",Le,[t("fieldset",null,[t("div",{class:E(["inputWrapper",{"inputWrapper--error":e.errorState}])},[a[1]||(a[1]=t("label",{class:"screen-reader-text",for:"jsonInput"}," Paste the content of your experiment JSON file ",-1)),h(t("textarea",{name:"jsonInput",id:"jsonInput",wrap:"off","onUpdate:modelValue":a[0]||(a[0]=i=>e.rawInput=i),onKeyup:e.checkInputIsValid},null,544),[[D,e.rawInput]]),t("div",De,[e.inputType!==null?(d(),m("div",Je,H(e.inputType),1)):M("",!0),e.inputFormat!==""?(d(),m("div",Ce,H(e.inputFormat),1)):M("",!0)]),t("p",{class:"inputWrapper__help experimentImportPaste__info",innerHTML:e.message},null,8,We),t("p",{class:"inputWrapper__help experimentImportPaste__info",innerHTML:e.message2},null,8,Ne)],2)])])])}const Me=z(we,[["render",Ee],["__scopeId","data-v-2cdd231b"]]),Pe=G({__name:"TemplateImportUpload",props:{modelValue:{}},emits:["update:modelValue","setInputType"],setup(n,{expose:a,emit:f}){a();const e=n,{modelValue:J}=ae(e),c=f,i=u("No file selected"),l=u(""),r=u(""),V=u(""),S=P(()=>b.value?"experiment":_.value?"template":null),y=u(null),p=u(!1),b=u(!1),_=u(!1),k=u(""),w=P(()=>({"templateImportUpload__info--error":r.value!==""&&(!b.value&&!_.value||!p),"templateImportUpload__info--ok":r.value!==""&&(b.value||_.value)&&p})),R=U=>{let O=null;if(U.items){let L=U.items[0];L.kind==="file"&&(O=L.getAsFile(),i.value=`Selected file: ${O.name}`)}else O=[...U.files][0],i.value=`Selected file: ${O.name}`;if(O!==null){k.value="has-file";var j=new FileReader;j.onload=function(){let L=j.result;if(L!==null){if(r.value=L,le(r.value))y.value=JSON.parse(r.value),p.value=!0,V.value="JSON";else try{y.value=te(r.value),p.value=!0,V.value="YAML"}catch{p.value=!1,i.value="Input is not valid JSON nor YAML"}if(p.value){let q=Z(y.value);if(q==="")b.value=!0;else{b.value=!1;let W=oe(y.value);W===""?(_.value=!0,i.value="",l.value=""):(i.value+=` is not a valid Chaos Toolkit experiment: ${q}.`,l.value=`It is also not a valid Reliably template: ${W}.`,k.value="has-error")}}}else b.value=!1,i.value+=" is not valid JSON nor YAML",k.value="has-error"},j.readAsText(O)}};Q([b,_],async()=>{b.value||_.value?(c("update:modelValue",JSON.stringify(y.value)),c("setInputType",S.value)):(c("update:modelValue",""),c("setInputType",""))});const C={props:e,modelValue:J,emit:c,message:i,message2:l,rawInput:r,inputFormat:V,inputType:S,inputJson:y,isFileReadable:p,isFileValidExperiment:b,isFileValidTemplate:_,dropZoneStatus:k,messageClassObject:w,handleExperimentFile:R,DropZone:de};return Object.defineProperty(C,"__isScriptSetup",{enumerable:!1,value:!0}),C}}),je={class:"templateImportUpload"},qe={class:"templateImportUpload__type"},Ae={key:0},Re={key:1},He=["innerHTML"],Be=["innerHTML"];function Ye(n,a,f,e,J,c){return d(),m("div",je,[A(e.DropZone,{onFilesDropped:e.handleExperimentFile,status:e.dropZoneStatus},{default:ne(()=>a[0]||(a[0]=[t("p",null,"Drag and drop an experiment JSON file",-1)])),_:1},8,["status"]),t("div",qe,[e.inputType!==null?(d(),m("div",Ae,H(e.inputType),1)):M("",!0),e.inputFormat!==""?(d(),m("div",Re,H(e.inputFormat),1)):M("",!0)]),t("p",{class:E(["templateImportUpload__info",e.messageClassObject]),innerHTML:e.message},null,10,He),t("p",{class:E(["templateImportUpload__info",e.messageClassObject]),innerHTML:e.message2},null,10,Be)])}const Ke=z(Pe,[["render",Ye],["__scopeId","data-v-e3df6571"]]),Ze=G({__name:"TemplateCreate",setup(n,{expose:a}){a();const f=u(!0),e=u(!1),J=u("paste"),c=u(""),i=u(null),l=u([]);async function r(){let o=window.location,T=new URLSearchParams(o.search);if(T.has("duplicate")){const s=T.get("duplicate");if(s!==null){e.value=!0,await ve(s);const v=he(_e);q("experiment"),i.value=v.value?.manifest.spec.template,v.value?.manifest.spec.schema.configuration!==void 0&&(p.value=v.value?.manifest.spec.schema.configuration,v.value?.manifest.spec.schema.configuration.forEach(g=>{l.value.push(g.key)})),b.value=v.value?.manifest.metadata.name,v.value?.manifest.metadata.labels!==void 0&&(_.value=v.value?.manifest.metadata.labels.join())}}}function V(){c.value===""?i.value=null:i.value=JSON.parse(c.value)}function S(){if(i.value!==null){const o=i.value.configuration;o!==void 0&&Object.keys(o).forEach(s=>{if(s!=="reliably_url"){let v="",g="string",Y=!1;if(o[s]===null)Y=!0;else if(typeof o[s]=="string")v=o[s];else if(typeof o[s]=="number")v=o[s]===null?"":o[s],g="float";else if(typeof o[s]=="boolean")v=o[s]===null?"":o[s],g="boolean";else if(Array.isArray(o[s]))v=o[s].join(", "),g="object";else{if(I(o[s],"default")){const F=o[s].default;F===null?Y=!0:typeof F=="string"?v=F:typeof F=="number"?(v=F,g="float"):typeof F=="boolean"?(F?v="true":v="false",g="boolean"):v=F}if(o[s].type==="env"){if(o[s].env_var_type!==void 0){const F=o[s].env_var_type;F==="int"?g="integer":F==="float"?g="float":F==="str"?g="string":F==="bool"?g="boolean":F==="json"?g="object":g="string"}}else v=JSON.stringify(o[s]),g="object"}p.value.push({key:s,title:"",placeholder:"",help:"",no_default:Y,default:v,type:g,required:!1}),l.value.push(s),w.value.push(null)}})}else l.value=[]}const y=P(()=>l.value.length>0),p=u([]),b=u(""),_=u(""),k=P(()=>_.value.split(",").map(o=>o.trim())),w=u([]);function R(o){try{p.value[o].default=JSON.parse(w.value[o]||"")}catch{}}function C(o){const T=p.value[o].key;if(L.value==="experiment"){const s=i.value.configuration[T];I(s,"type")&&s.type==="env"&&(p.value[o].type==="string"?s.env_var_type="str":p.value[o].type==="integer"?s.env_var_type="int":p.value[o].type==="float"?s.env_var_type="float":p.value[o].type==="boolean"?s.env_var_type="bool":p.value[o].type==="object"&&(s.env_var_type="json"))}else if(L.value==="template"){const s=i.value.spec.template.configuration[T];I(s,"type")&&s.type==="env"&&(p.value[o].type==="string"?s.env_var_type="str":p.value[o].type==="integer"?s.env_var_type="int":p.value[o].type==="float"?s.env_var_type="float":p.value[o].type==="boolean"?s.env_var_type="bool":p.value[o].type==="object"&&(s.env_var_type="json"))}}function U(){l.value.forEach((o,T)=>{C(T)})}function O(o){p.value[o].default=""}const j=P(()=>{let o=!1,T=0;return p.value.every(s=>s.title===""||s.type===""?!1:(T++,!0)),T===p.value.length&&(o=!0),b.value===""||!o}),L=u("");function q(o){L.value=o}const W=u(null);function X(){if(L.value==="template")W.value=i.value;else if(!j.value&&i.value!==null){let o={metadata:{name:b.value,labels:k.value.filter(T=>T!=="")},spec:{provider:"chaostoolkit",type:"experiment",schema:{configuration:p.value},template:i.value}};W.value=o}}async function ie(){X(),W.value!==null&&ye(W.value)}Q(c,async()=>{V(),S(),U()}),pe(async()=>{f.value=!0,await r(),f.value=!1});const x={isLoading:f,isDuplicating:e,displayedImport:J,experiment:c,experimentJson:i,confKeys:l,handleDuplication:r,experimentToJson:V,getConfKeys:S,hasConfiguration:y,templateFields:p,templateTitle:b,templateLabels:_,templateLabelsArray:k,tmpObjectValues:w,handleObjectValues:R,handleEnvVarType:C,initiallySetEnvVarTypes:U,unsetDefault:O,isSubmitDisabled:j,inputType:L,setType:q,payload:W,buildPayload:X,submitTemplate:ie,TemplateImportPaste:Me,TemplateImportUpload:Ke,CreateExperimentField:me,JsonViewer:fe,TagList:ce};return Object.defineProperty(x,"__isScriptSetup",{enumerable:!1,value:!0}),x}}),ze={key:0,class:"createTemplate"},Ge={key:0,class:"importExperiment"},Qe={class:"importExperiment__wrapper"},Xe={class:"importExperiment__options"},xe={key:0,class:"importExperiment__option importExperiment__option--paste"},$e={key:1,class:"importExperiment__option importExperiment__option--upload"},et={key:1},tt={key:2},lt={class:"editSave"},at={key:3},ot={class:"editMetadata"},it={class:"form"},st={class:"inputWrapper"},nt={class:"inputWrapper"},rt={key:0},pt={class:"editTemplate"},ut={class:"form editTemplate__form"},dt={class:"editTemplate__key"},mt={class:"inputWrapper"},ft=["for"],ct=["id","onUpdate:modelValue"],vt={class:"inputWrapper"},_t=["for"],yt=["id","onUpdate:modelValue"],ht={class:"inputWrapper"},bt=["for"],gt=["id","onUpdate:modelValue"],Tt={class:"inputWrapper"},Ft=["for"],Vt=["id","onUpdate:modelValue","onBlur"],It={class:"inputWrapper inputWrapper--tick"},St=["id","onUpdate:modelValue"],kt=["for"],Ut=["for"],wt=["id","onUpdate:modelValue","onBlur","disabled"],Ot=["for"],Lt=["id"],Dt=["id","onUpdate:modelValue","disabled"],Jt=["for"],Ct=["id","onUpdate:modelValue","disabled"],Wt=["for"],Nt=["onClick","disabled"],Et=["for"],Mt=["id","onUpdate:modelValue","disabled"],Pt=["for"],jt=["id","onUpdate:modelValue","disabled"],qt=["for"],At=["id","onUpdate:modelValue","disabled"],Rt={class:"inputWrapper"},Ht=["for"],Bt=["id","onUpdate:modelValue"],Yt={class:"editTemplate__preview"},Kt={class:"inputWrapper"},Zt={class:"editSave"},zt=["disabled"],Gt={key:4,class:"noConfiguration"};function Qt(n,a,f,e,J,c){return e.isLoading?M("",!0):(d(),m("div",ze,[e.isDuplicating?M("",!0):(d(),m("section",Ge,[a[10]||(a[10]=t("h2",null,"Import an experiment or template",-1)),a[11]||(a[11]=t("p",null,[N(" Import a template or an existing experiment with a "),t("code",null,"configuration"),N(" block. In the later case, you will be able to create fields for users to override this configuration when using your template to create a new experiment. ")],-1)),t("div",Qe,[t("div",Xe,[h(t("input",{type:"radio",id:"paste",value:"paste","onUpdate:modelValue":a[0]||(a[0]=i=>e.displayedImport=i)},null,512),[[B,e.displayedImport]]),a[6]||(a[6]=t("label",{for:"paste"},"Paste",-1)),h(t("input",{type:"radio",id:"upload",value:"upload","onUpdate:modelValue":a[1]||(a[1]=i=>e.displayedImport=i)},null,512),[[B,e.displayedImport]]),a[7]||(a[7]=t("label",{for:"upload"},"Upload",-1))]),e.displayedImport==="paste"?(d(),m("div",xe,[a[8]||(a[8]=t("h3",{class:"screen-reader-text"},"Paste as JSON",-1)),A(e.TemplateImportPaste,{modelValue:e.experiment,"onUpdate:modelValue":a[2]||(a[2]=i=>e.experiment=i),onSetInputType:e.setType},null,8,["modelValue"])])):(d(),m("div",$e,[a[9]||(a[9]=t("h3",{class:"screen-reader-text"},"Upload experiment file",-1)),A(e.TemplateImportUpload,{modelValue:e.experiment,"onUpdate:modelValue":a[3]||(a[3]=i=>e.experiment=i),onSetInputType:e.setType},null,8,["modelValue"])]))])])),e.experiment===""&&!e.isDuplicating?(d(),m("p",et,a[12]||(a[12]=[N(" Import an experiment with a "),t("code",null,"configuration",-1),N(" declaration. ")]))):e.inputType==="template"?(d(),m("div",tt,[t("section",lt,[t("button",{class:"button button--primary",onClick:K(e.submitTemplate,["prevent"])}," Save template ")])])):e.hasConfiguration?(d(),m("div",at,[t("section",ot,[a[17]||(a[17]=t("h2",null,"Template metadata",-1)),t("form",it,[t("fieldset",null,[t("div",st,[a[13]||(a[13]=t("label",{for:"template-title"},[N(" Title "),t("span",{class:"required"},"Required")],-1)),h(t("input",{type:"text",id:"template-title","onUpdate:modelValue":a[4]||(a[4]=i=>e.templateTitle=i),required:"",placeholder:"Simple experiment template..."},null,512),[[D,e.templateTitle]])]),t("div",nt,[a[14]||(a[14]=t("label",{for:"template-labels"}," Labels ",-1)),h(t("input",{type:"text",id:"template-labels",placeholder:"kubernetes, pod, aws","onUpdate:modelValue":a[5]||(a[5]=i=>e.templateLabels=i)},null,512),[[D,e.templateLabels]]),a[15]||(a[15]=t("p",{class:"inputWrapper__help"}," A list of comma-separated labels. ",-1)),a[16]||(a[16]=t("p",{class:"inputWrapper__help"}," Labels can be used by users to search for templates. Take some time to set useful ones. ",-1)),e.templateLabels.length?(d(),m("p",rt,[A(e.TagList,{tags:e.templateLabelsArray},null,8,["tags"])])):M("",!0)])])])]),t("section",pt,[t("form",ut,[a[30]||(a[30]=t("h2",null,"Edit template",-1)),a[31]||(a[31]=t("p",null," Create the fields that will be displayed to users when creating an experiment from your template. ",-1)),(d(!0),m(ee,null,re(e.confKeys,(i,l)=>(d(),m("div",{key:l,class:"editTemplate__field"},[t("h3",null,[a[18]||(a[18]=N(" Create a field for ")),t("span",dt,H(e.templateFields[l].key),1)]),t("div",null,[t("fieldset",null,[t("div",mt,[t("label",{for:`title-${l}`},a[19]||(a[19]=[N(" Title "),t("span",{class:"required"},"Required",-1)]),8,ft),h(t("input",{type:"text",id:`title-${l}`,"onUpdate:modelValue":r=>e.templateFields[l].title=r,required:""},null,8,ct),[[D,e.templateFields[l].title]])]),t("div",vt,[t("label",{for:`placeholder-${l}`},"Placeholder",8,_t),h(t("input",{type:"text",id:`placeholder-${l}`,"onUpdate:modelValue":r=>e.templateFields[l].placeholder=r},null,8,yt),[[D,e.templateFields[l].placeholder]])]),t("div",ht,[t("label",{for:`help-${l}`},"Field help",8,bt),h(t("input",{type:"text",id:`help-${l}`,"onUpdate:modelValue":r=>e.templateFields[l].help=r},null,8,gt),[[D,e.templateFields[l].help]]),a[20]||(a[20]=t("p",{class:"inputWrapper__help"}," Help text that appears under the field, like this sentence. ",-1))]),t("div",Tt,[t("label",{for:`type-${l}`},a[21]||(a[21]=[N(" Expected data type "),t("span",{class:"required"},"Required",-1)]),8,Ft),h(t("select",{id:`type-${l}`,"onUpdate:modelValue":r=>e.templateFields[l].type=r,onBlur:r=>e.handleEnvVarType(l),required:""},a[22]||(a[22]=[ue('<option value="-" data-v-3f67a664>Select a data type</option><option value="string" data-v-3f67a664>String</option><option value="integer" data-v-3f67a664>Integer</option><option value="float" data-v-3f67a664>Float</option><option value="boolean" data-v-3f67a664>Boolean</option><option value="object" data-v-3f67a664>Object</option>',6)]),40,Vt),[[$,e.templateFields[l].type]])]),t("div",It,[t("div",null,[h(t("input",{id:`no-default-${l}`,type:"checkbox","onUpdate:modelValue":r=>e.templateFields[l].no_default=r},null,8,St),[[se,e.templateFields[l].no_default]]),t("label",{for:`no-default-${l}`},"No default value",8,kt)]),a[23]||(a[23]=t("p",{class:"inputWrapper__help"}," Explicitly set no default value. This is different from setting an empty string or any other empty default value and is recommended to avoid unexpected behaviours. ",-1))]),e.templateFields[l].type==="object"?(d(),m("div",{key:0,class:E(["inputWrapper",{hasDisabledField:e.templateFields[l].no_default}])},[t("label",{for:`default-${l}`},"Default value",8,Ut),h(t("textarea",{id:`default-${l}`,"onUpdate:modelValue":r=>e.tmpObjectValues[l]=r,onBlur:r=>e.handleObjectValues(l),disabled:e.templateFields[l].no_default},null,40,wt),[[D,e.tmpObjectValues[l]]])],2)):e.templateFields[l].type==="boolean"?(d(),m("div",{key:1,class:E(["inputWrapper",{hasDisabledField:e.templateFields[l].no_default}])},[t("label",{for:`default-${l}`},"Default value",8,Ot),t("div",{id:`default-${l}`,class:"inputWrapper inputWrapper--tick"},[t("div",null,[h(t("input",{id:`default-${l}-true`,type:"radio",value:!0,"onUpdate:modelValue":r=>e.templateFields[l].default=r,disabled:e.templateFields[l].no_default},null,8,Dt),[[B,e.templateFields[l].default]]),t("label",{for:`default-${l}-true`},"True",8,Jt)]),t("div",null,[h(t("input",{id:`default-${l}-false`,type:"radio",value:!1,"onUpdate:modelValue":r=>e.templateFields[l].default=r,disabled:e.templateFields[l].no_default},null,8,Ct),[[B,e.templateFields[l].default]]),t("label",{for:`default-${l}-false`},"False",8,Wt)]),t("div",null,[t("button",{onClick:K(r=>e.unsetDefault(l),["prevent"]),class:"editTemplate__unsetDefault button button--small button--tertiary",disabled:e.templateFields[l].no_default}," Unset ",8,Nt)])],8,Lt)],2)):e.templateFields[l].type==="integer"||e.templateFields[l].type==="float"?(d(),m("div",{key:2,class:E(["inputWrapper",{hasDisabledField:e.templateFields[l].no_default}])},[t("label",{for:`default-${l}`},"Default value",8,Et),h(t("input",{type:"text",id:`default-${l}`,"onUpdate:modelValue":r=>e.templateFields[l].default=r,disabled:e.templateFields[l].no_default},null,8,Mt),[[D,e.templateFields[l].default,void 0,{number:!0}]])],2)):e.templateFields[l].type==="string"?(d(),m("div",{key:3,class:E(["inputWrapper",{hasDisabledField:e.templateFields[l].no_default}])},[t("label",{for:`default-${l}`},"Default value",8,Pt),h(t("input",{type:"text",id:`default-${l}`,"onUpdate:modelValue":r=>e.templateFields[l].default=r,disabled:e.templateFields[l].no_default},null,8,jt),[[D,e.templateFields[l].default]])],2)):(d(),m("div",{key:4,class:E(["inputWrapper",{hasDisabledField:e.templateFields[l].no_default}])},[t("label",{for:`default-${l}`},"Default value",8,qt),h(t("input",{type:"text",id:`default-${l}`,"onUpdate:modelValue":r=>e.templateFields[l].default=r,disabled:e.templateFields[l].no_default},null,8,At),[[D,e.templateFields[l].default]])],2)),t("div",Rt,[t("label",{for:`required-${l}`},"Required",8,Ht),h(t("select",{id:`required-${l}`,"onUpdate:modelValue":r=>e.templateFields[l].required=r},a[24]||(a[24]=[t("option",{value:!0},"Yes",-1),t("option",{value:!1},"No",-1)]),8,Bt),[[$,e.templateFields[l].required]]),a[25]||(a[25]=t("p",{class:"inputWrapper__help"},"Is the field required?",-1))])]),t("div",Yt,[e.experimentJson&&e.experimentJson.configuration!==void 0?(d(),m(ee,{key:0},[a[26]||(a[26]=t("h4",null,"Source",-1)),a[27]||(a[27]=t("p",null,"The field will override this value:",-1)),A(e.JsonViewer,{json:JSON.stringify(e.experimentJson.configuration[i],null,2)},null,8,["json"])],64)):M("",!0),a[28]||(a[28]=t("h4",null,"Preview",-1)),a[29]||(a[29]=t("p",null,"How the field will appear to users.",-1)),t("div",Kt,[A(e.CreateExperimentField,{configuration:e.templateFields[l],"force-internal":null,index:l,previewMode:!0},null,8,["configuration","index"])])])])]))),128))])]),t("section",Zt,[t("button",{class:"button button--primary",onClick:K(e.submitTemplate,["prevent"]),disabled:e.isSubmitDisabled}," Save template ",8,zt)])])):(d(),m("p",Gt," This experiment has no editable configuration "))]))}const Ul=z(Ze,[["render",Qt],["__scopeId","data-v-3f67a664"]]);export{Ul as default};
