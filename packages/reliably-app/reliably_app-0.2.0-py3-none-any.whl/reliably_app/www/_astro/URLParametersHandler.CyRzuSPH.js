import{a as r}from"./notifications.NSMm1_5U.js";import{e as g}from"./user.TOXT8CXA.js";import{_ as d}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{d as u,o as p}from"./runtime-core.esm-bundler.Y6RLDZTT.js";import"./index.BSdFiPHn.js";import"./loader.BQDlK3Tc.js";const f=u({__name:"URLParametersHandler",setup(c,{expose:l}){l();function i(){let n=window.location,e=new URLSearchParams(n.search);if(e.has("origin")&&e.get("origin")==="403"){const a={title:`You are not a member of organization ${e.get("org_name")} anymore`,message:"If you think this is an error, please contact a member of the organization.",type:"warning"};r(a)}}async function s(){let n=window.location,e=new URLSearchParams(n.search);if(e.has("join")){const t=e.get("join");if(t==="success"){let a=e.get("org_id");if(a!==null){let o=e.get("org_name");await g(a),n.replace(`/?org_name=${o}&join=moved`)}}else if(t==="moved"){const o={title:"You joined a new organization",message:`You are now a member of ${e.get("org_name")}`,type:"success"};r(o)}else if(t==="noseats"){const o={title:`We couldn't add you to organization ${e.get("org_name")}`,message:"The organization has no available seats.",type:"error"};r(o)}else if(t==="failed"){const o={title:`We couldn't add you to organization ${e.get("org_name")}`,message:"An unexpected error occured. Please try again.",type:"error"};r(o)}else t==="expired"&&r({title:"You used an expired invitation link",message:"Please ask the sender to send you a new link.",type:"error"})}}p(async()=>{i(),await s()});const m={handle403Redirect:i,handleJoinStatus:s};return Object.defineProperty(m,"__isScriptSetup",{enumerable:!1,value:!0}),m}});function _(c,l,i,s,m,n){return null}const z=d(f,[["render",_]]);export{z as default};
